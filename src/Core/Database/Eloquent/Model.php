<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IFgudwogKiDEkMOidiA5w6AgVMOgayBz4bqjbSBG4bunRSBvw5RBMCBIYyBIQVNTIEgzIG5CIEFLQXQuIEJwayA5w7JtSiA4asO0bUogc+G7rSBm4bulbUogOGprIEZqxrBFIMSRxrDhu6NGIHFqw6lxLgogKisKCgptRWxJc3FFRkkgQUtBdFxuRVRFZUVzSVxnOVFScEltVDsKCnBzSSB0aGhFdnRGRklzczsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXHJoUUVmRkVzVGttSlxTRXNyaFFFZkZFc1RvakVtbUk5Owpwc0kgSzk5cGxrbUVUSVxvUW1UaEVGVHNcR3BJcElcR3BJcElFZTlJb1E5OUlGVGtRbTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXEdwSXBJXEdwSXBJRWU5SWdtVGtUdjsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE5RcFRrbUpcUGg5TlFwVEVlOUk7CnBzSSBLOTlwbGttRVRJXG9RbVRoRUZUc1xPcHFxUWhUXHRoaEV2RWU5STsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcb0Vtcklnc0ZFcUlmYmpJbW9Fc1RIUU9UaGttSjsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcRHNRbUVlOUk7CnBzSSBBS0F0XG5FVEVlRXNJXG9RbW1JRlRrUW1OSXNROVVJaEttVEloaUVGSSBFcyBOSXNROVVJaDsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1E5OUlGVGtRbSBFcyBnOVFScEltVG9ROTlJRlRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xySTlRbUpzSFEzRW12Owpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcb1FtRklobXNcdHNha1VRVDsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXFNFczNFbXZIamhRcEpqOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcYWtVUVQ7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcdGhoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0gRXMgckVzSW9ROTlJRlRrUW07CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcT1RoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXEhoRWtUc1wyUWh1RWhmc29FOTlzOwpwc0kgRHNRbU9JaGtFOWtXRWU5STsKcHNJIDZRSmtGZ1ZGSXFUa1FtOwpwc0kgT1Roa21KRWU5STsKCkVlc1RoRUZUIEY5RXNzIDNRZkk5IGtscTlJbEltVHMgdGhoRXZFZTlJLCB0aGhFdnRGRklzcywgb0Vtcklnc0ZFcUlmYmpJbW9Fc1RIUU9UaGttSiwgU0VzcmhRRWZGRXNUb2pFbW1JOSwgRHNRbUVlOUksIERzUW1PSWhrRTlrV0VlOUksIEdwSXBJRWU5SWdtVGtUdiwgT1Roa21KRWU5SSwgUGg5TlFwVEVlOUkKewogICAgcHNJIG9RbUZJaG1zXFNFc3RUVGhrZXBUSXMsCiAgICAgICAgb1FtRklobXNcU0VzZ1VJbVRzLAogICAgICAgIG9RbUZJaG1zXFNFczA5UWVFOU9GUXFJcywKICAgICAgICBvUW1GSWhtc1xTRXNOSTlFVGtRbXNqa3FzLAogICAgICAgIG9RbUZJaG1zXFNFc0hrbElzVEVscXMsCiAgICAgICAgb1FtRklobXNcU0VzUG1rUnBJS2ZzLAogICAgICAgIG9RbUZJaG1zXFNrZklzdFRUaGtlcFRJcywKICAgICAgICBvUW1GSWhtc1wwcEVoZnN0VFRoa2VwVElzLAogICAgICAgIG9RbUZJaG1zXDBJVHRUVGhrZXBUSSwKICAgICAgICAyUWh1RWhmc29FOTlzOwoKICAgICsqKgogICAgICogSGpJIEZRbW1JRlRrUW0gbUVsSSBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggc1Roa21KfG1wOTkKICAgICAqKwogICAgcWhRVElGVElmICRGUW1tSUZUa1FtOwoKICAgICsqKgogICAgICogSGpJIFRFZTlJIEVzc1FGa0VUSWYgdWtUaiBUakkgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmICRURWU5STsKCiAgICArKioKICAgICAqIEhqSSBxaGtsRWh2IDhJdiBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcWhrbEVodjFJdiA9ICdrZic7CgogICAgKyoqCiAgICAgKiBIakkgIlR2cUkiIFFpIFRqSSBxaGtsRWh2IDhJdiBLbi4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgJDhJdkh2cUkgPSAna21UJzsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBraSBUakkgS25zIEVoSSBFcFRRLWttRmhJbEltVGttSi4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcXBlOWtGICRrbUZoSWxJbVRrbUogPSBUaHBJOwoKICAgICsqKgogICAgICogSGpJIGhJOUVUa1FtcyBUUSBJRUpJaCA5UUVmIFFtIElVSWh2IFJwSWh2LgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICR1a1RqID0gW107CgogICAgKyoqCiAgICAgKiBIakkgaEk5RVRrUW1zamtxIEZRcG1UcyBUakVUIHNqUXA5ZiBlSSBJRUpJaCA5UUVmSWYgUW0gSVVJaHYgUnBJaHYuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJHVrVGpvUXBtVCA9IFtdOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIHVqSVRqSWggOUVXdiA5UUVma21KIHVrOTkgZUkgcWhJVUltVElmIFFtIFRqa3MgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkcWhJVUltVHM2RVd2NlFFZmttSiA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIG1wbGVJaCBRaSBsUWZJOXMgVFEgaElUcGhtIGlRaCBxRUprbUVUa1FtLgogICAgICoKICAgICAqIEBVRWgga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcUloYUVKSSA9IFhaOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIFRqSSBsUWZJOSBJVmtzVHMuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFwZTlrRiAkSVZrc1RzID0gaUU5c0k7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgVGpJIGxRZkk5IHVFcyBrbXNJaFRJZiBmcGhrbUogVGpJIFFlTElGVCdzIDlraUlGdkY5SS4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcXBlOWtGICR1RXNOSUZJbVQ5dm9oSUVUSWYgPSBpRTlzSTsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyBUakVUIFRqSSBRZUxJRlQncyBzVGhrbUogaElxaElzSW1URVRrUW0gc2pRcDlmIGVJIElzRkVxSWYgdWpJbSBfX1RRT1Roa21KIGtzIGttVVE4SWYuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiAkSXNGRXFJYmpJbW9Fc1RrbUpIUU9UaGttSiA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIEZRbW1JRlRrUW0gaElzUTlVSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQFVFaCBcQUtBdFxuRVRFZUVzSVxvUW1tSUZUa1FtTklzUTlVSWhLbVRJaGlFRkkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkaElzUTlVSWg7CgogICAgKyoqCiAgICAgKiBIakkgSVVJbVQgZmtzcUVURmpJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIFxLOTlwbGttRVRJXG9RbVRoRUZUc1xnVUltVHNcbmtzcUVURmpJaAogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRma3NxRVRGakloOwoKICAgICsqKgogICAgICogSGpJIEVoaEV2IFFpIGVRUVRJZiBsUWZJOXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRlUVFUSWYgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBFaGhFdiBRaSBUaEVrVCBrbWtUa0U5a1dJaHMgVGpFVCB1azk5IGVJIEZFOTlJZiBRbSBJRUZqIG1JdSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJFRoRWtUS21rVGtFOWtXSWhzID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRWhoRXYgUWkgSjlRZUU5IHNGUXFJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRKOVFlRTlPRlFxSXMgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSA5a3NUIFFpIGxRZkk5cyBGOUVzc0lzIFRqRVQgc2pRcDlmIG1RVCBlSSBFaWlJRlRJZiB1a1RqIFRRcEZqLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAka0ptUWhJTW1IUXBGaiA9IFtdOwoKICAgICsqKgogICAgICogS21ma0ZFVElzIHVqSVRqSWggOUVXdiA5UUVma21KIHNqUXA5ZiBlSSBoSXNUaGtGVElmIFFtIEU5OSBsUWZJOXMuCiAgICAgKgogICAgICogQFVFaCBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGxRZkk5c09qUXA5ZmFoSVVJbVQ2RVd2NlFFZmttSiA9IGlFOXNJOwoKICAgICsqKgogICAgICogSGpJIEZFOTllRUY4IFRqRVQga3MgaElzcVFtc2tlOUkgaVFoIGpFbWY5a21KIDlFV3YgOVFFZmttSiBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBVRWggRkU5OUVlOUl8bXA5OQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICQ5RVd2NlFFZmttSkJrUTlFVGtRbW9FOTllRUY4OwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIEVtIElWRklxVGtRbSBzalFwOWYgZUkgVGpoUXVtIGttc1RJRWYgUWkgc2s5SW1UOXYgZmtzRkVoZmttSiBtUW0taWs5OUVlOUkgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbFFmSTlzT2pRcDlmYWhJVUltVE9rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXMgPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBma3NGRWhmSWYgRVRUaGtlcFRJIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQFVFaCBGRTk5RWU5SXxtcDk5CiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgJGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4OwoKICAgICsqKgogICAgICogS21ma0ZFVElzIGtpIEVtIElWRklxVGtRbSBzalFwOWYgZUkgVGpoUXVtIHVqSW0gVGh2a21KIFRRIEVGRklzcyBFIGxrc3NrbUogRVRUaGtlcFRJIFFtIEUgaElUaGtJVUlmIGxRZkk5LgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRsUWZJOXNPalFwOWZhaElVSW1UdEZGSXNza21KM2tzc2ttSnRUVGhrZXBUSXMgPSBpRTlzSTsKCiAgICArKioKICAgICAqIEhqSSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBsa3Nza21KIEVUVGhrZXBUSSBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBVRWggRkU5OUVlOUl8bXA5OQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRsa3Nza21KdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjg7CgogICAgKyoqCiAgICAgKiBLbWZrRkVUSXMga2kgZWhRRWZGRXNUa21KIGtzIEZwaGhJbVQ5diBJbUVlOUlmLgogICAgICoKICAgICAqIEBVRWggZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRrc3JoUUVmRkVzVGttSiA9IFRocEk7CgogICAgKyoqCiAgICAgKiBIakkgbUVsSSBRaSBUakkgIkZoSUVUSWYgRVQiIEZROXBsbS4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSnxtcDk5CiAgICAgKisKICAgIEZRbXNUIG9OZ3RIZ25fdEggPSAnRmhJRVRJZl9FVCc7CgogICAgKyoqCiAgICAgKiBIakkgbUVsSSBRaSBUakkgInBxZkVUSWYgRVQiIEZROXBsbS4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSnxtcDk5CiAgICAgKisKICAgIEZRbXNUIFBhbnRIZ25fdEggPSAncHFmRVRJZl9FVCc7CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgZzlRUnBJbVQgbFFmSTkga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19GUW1zVGhwRlQoRWhoRXYgJEVUVGhrZXBUSXMgPSBbXSkKICAgIHsKICAgICAgICAkVGprcy0+ZVFRVEtpQVFUclFRVElmKCk7CgogICAgICAgICRUamtzLT5rbWtUa0U5a1dJSGhFa1RzKCk7CgogICAgICAgICRUamtzLT5zdm1GTWhrSmttRTkoKTsKCiAgICAgICAgJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpOwogICAgfQoKICAgICsqKgogICAgICogb2pJRjgga2kgVGpJIGxRZkk5IG1JSWZzIFRRIGVJIGVRUVRJZiBFbWYga2kgc1EsIGZRIGtULgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gZVFRVEtpQVFUclFRVElmKCkKICAgIHsKICAgICAgICBraSAoISBrc3NJVChzVEVUa0Y6OiRlUVFUSWZbc1RFVGtGOjpGOUVzc10pKSB7CiAgICAgICAgICAgIHNURVRrRjo6JGVRUVRJZltzVEVUa0Y6OkY5RXNzXSA9IFRocEk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2VRUVRrbUonLCBpRTlzSSk7CgogICAgICAgICAgICBzVEVUa0Y6OmVRUVRrbUooKTsKICAgICAgICAgICAgc1RFVGtGOjplUVFUKCk7CiAgICAgICAgICAgIHNURVRrRjo6ZVFRVElmKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ2VRUVRJZicsIGlFOXNJKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIEVtdiBFRlRrUW1zIGhJUnBraElmIGVJaVFoSSBUakkgbFFmSTkgZVFRVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVGttSigpCiAgICB7CiAgICAgICAgKysKICAgIH0KCiAgICArKioKICAgICAqIHJRUVRzVGhFcSBUakkgbFFmSTkgRW1mIGtUcyBUaEVrVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVCgpCiAgICB7CiAgICAgICAgc1RFVGtGOjplUVFUSGhFa1RzKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiByUVFUIEU5OSBRaSBUakkgZVFRVEVlOUkgVGhFa1RzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiBpcG1GVGtRbSBlUVFUSGhFa1RzKCkKICAgIHsKICAgICAgICAkRjlFc3MgPSBzVEVUa0Y6OkY5RXNzOwoKICAgICAgICAkZVFRVElmID0gW107CgogICAgICAgIHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzWyRGOUVzc10gPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoRjlFc3NfcHNJc19oSUZwaHNrVUkoJEY5RXNzKSBFcyAkVGhFa1QpIHsKICAgICAgICAgICAgJGxJVGpRZiA9ICdlUVFUJy5GOUVzc19lRXNJbUVsSSgkVGhFa1QpOwoKICAgICAgICAgICAga2kgKGxJVGpRZl9JVmtzVHMoJEY5RXNzLCAkbElUalFmKSAmJiAhIGttX0VoaEV2KCRsSVRqUWYsICRlUVFUSWYpKSB7CiAgICAgICAgICAgICAgICBpUWh1RWhmX3NURVRrRl9GRTk5KFskRjlFc3MsICRsSVRqUWZdKTsKCiAgICAgICAgICAgICAgICAkZVFRVElmW10gPSAkbElUalFmOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAobElUalFmX0lWa3NUcygkRjlFc3MsICRsSVRqUWYgPSAna21rVGtFOWtXSScuRjlFc3NfZUVzSW1FbEkoJFRoRWtUKSkpIHsKICAgICAgICAgICAgICAgIHNURVRrRjo6JFRoRWtUS21rVGtFOWtXSWhzWyRGOUVzc11bXSA9ICRsSVRqUWY7CgogICAgICAgICAgICAgICAgc1RFVGtGOjokVGhFa1RLbWtUa0U5a1dJaHNbJEY5RXNzXSA9IEVoaEV2X3Bta1JwSSgKICAgICAgICAgICAgICAgICAgICBzVEVUa0Y6OiRUaEVrVEtta1RrRTlrV0loc1skRjlFc3NdCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogS21rVGtFOWtXSSBFbXYga21rVGtFOWtXRWU5SSBUaEVrVHMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga21rVGtFOWtXSUhoRWtUcygpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoc1RFVGtGOjokVGhFa1RLbWtUa0U5a1dJaHNbc1RFVGtGOjpGOUVzc10gRXMgJGxJVGpRZikgewogICAgICAgICAgICAkVGprcy0+eyRsSVRqUWZ9KCk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogYUloaVFobCBFbXYgRUZUa1FtcyBoSVJwa2hJZiBFaVRJaCBUakkgbFFmSTkgZVFRVHMuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gZVFRVElmKCkKICAgIHsKICAgICAgICArKwogICAgfQoKICAgICsqKgogICAgICogbzlJRWggVGpJIDlrc1QgUWkgZVFRVElmIGxRZkk5cyBzUSBUakl2IHVrOTkgZUkgaEktZVFRVElmLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEY5SUVoclFRVElmM1FmSTlzKCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRlUVFUSWYgPSBbXTsKCiAgICAgICAgc1RFVGtGOjokSjlRZUU5T0ZRcUlzID0gW107CiAgICB9CgogICAgKyoqCiAgICAgKiBua3NFZTlJcyBoSTlFVGtRbXNqa3EgbFFmSTkgVFFwRmprbUogaVFoIFRqSSBGcGhoSW1UIEY5RXNzIGZwaGttSiBKa1VJbSBGRTk5ZUVGOCBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRIUXBGamttSihGRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjp1a1RqUXBUSFFwRmprbUpNbShbc1RFVGtGOjpGOUVzc10sICRGRTk5ZUVGOCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBua3NFZTlJcyBoSTlFVGtRbXNqa3EgbFFmSTkgVFFwRmprbUogaVFoIFRqSSBKa1VJbSBsUWZJOSBGOUVzc0lzIGZwaGttSiBKa1VJbSBGRTk5ZUVGOCBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkbFFmSTlzCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRIUXBGamttSk1tKEVoaEV2ICRsUWZJOXMsIEZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRrSm1RaElNbUhRcEZqID0gRWhoRXZfVUU5cElzKEVoaEV2X2xJaEpJKHNURVRrRjo6JGtKbVFoSU1tSFFwRmosICRsUWZJOXMpKTsKCiAgICAgICAgVGh2IHsKICAgICAgICAgICAgJEZFOTllRUY4KCk7CiAgICAgICAgfSBpa21FOTl2IHsKICAgICAgICAgICAgc1RFVGtGOjoka0ptUWhJTW1IUXBGaiA9IEVoaEV2X1VFOXBJcyhFaGhFdl9ma2lpKHNURVRrRjo6JGtKbVFoSU1tSFFwRmosICRsUWZJOXMpKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIGxRZkk5IGtzIGtKbVFoa21KIFRRcEZqSXMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJEY5RXNzCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBrc0tKbVFoa21KSFFwRmooJEY5RXNzID0gbXA5OSkKICAgIHsKICAgICAgICAkRjlFc3MgPSAkRjlFc3MgPzogc1RFVGtGOjpGOUVzczsKCiAgICAgICAga2kgKCEgSklUX0Y5RXNzX1VFaHMoJEY5RXNzKVsnVGtsSXNURWxxcyddIHx8ICEgJEY5RXNzOjpQYW50SGduX3RIKSB7CiAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgIH0KCiAgICAgICAgaVFoSUVGaiAoc1RFVGtGOjoka0ptUWhJTW1IUXBGaiBFcyAka0ptUWhJZm85RXNzKSB7CiAgICAgICAgICAgIGtpICgkRjlFc3MgPT09ICRrSm1RaElmbzlFc3MgfHwga3Nfc3BlRjlFc3NfUWkoJEY5RXNzLCAka0ptUWhJZm85RXNzKSkgewogICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIEttZmtGRVRJIFRqRVQgbFFmSTlzIHNqUXA5ZiBxaElVSW1UIDlFV3YgOVFFZmttSiwgc2s5SW1UOXYgZmtzRkVoZmttSiBFVFRoa2VwVElzLCBFbWYgRUZGSXNza21KIGxrc3NrbUogRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRzalFwOWZySU9UaGtGVAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gc2pRcDlmcklPVGhrRlQoZVFROSAkc2pRcDlmcklPVGhrRlQgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6cWhJVUltVDZFV3Y2UUVma21KKCRzalFwOWZySU9UaGtGVCk7CiAgICAgICAgc1RFVGtGOjpxaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygkc2pRcDlmcklPVGhrRlQpOwogICAgICAgIHNURVRrRjo6cWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCRzalFwOWZySU9UaGtGVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIGxRZkk5IGhJOUVUa1Ftc2prcXMgaWhRbCBlSWttSiA5RVd2IDlRRWZJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVDZFV3Y2UUVma21KKCRVRTlwSSA9IFRocEkpCiAgICB7CiAgICAgICAgc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVDZFV3Y2UUVma21KID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiA5RVd2IDlRRWZrbUogVWtROUVUa1Ftcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJfG1wOTkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gakVtZjlJNkVXdjZRRWZrbUpCa1E5RVRrUW1Qc2ttSig/RkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgIHNURVRrRjo6JDlFV3Y2UUVma21KQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIG1RbS1pazk5RWU5SSBFVFRoa2VwVElzIGloUWwgZUlrbUogc2s5SW1UOXYgZmtzRkVoZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgZVFROSAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBxaElVSW1UT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygkVUU5cEkgPSBUaHBJKQogICAgewogICAgICAgIHNURVRrRjo6JGxRZkk5c09qUXA5ZmFoSVVJbVRPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBma3NGRWhmSWYgRVRUaGtlcFRJIFVrUTlFVGtRbXMuCiAgICAgKgogICAgICogQHFFaEVsICBGRTk5RWU5SXxtcDk5ICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGpFbWY5SW5rc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbVBza21KKD9GRTk5RWU5SSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElVSW1UIEVGRklzc2ttSiBsa3Nza21KIEVUVGhrZXBUSXMgUW0gaElUaGtJVUlmIGxRZkk5cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCRVRTlwSSA9IFRocEkpCiAgICB7CiAgICAgICAgc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzID0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogTklKa3NUSWggRSBGRTk5ZUVGOCBUakVUIGtzIGhJc3FRbXNrZTlJIGlRaCBqRW1mOWttSiBsa3Nza21KIEVUVGhrZXBUSSBVa1E5RVRrUW1zLgogICAgICoKICAgICAqIEBxRWhFbCAgRkU5OUVlOUl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBqRW1mOUkza3Nza21KdFRUaGtlcFRJQmtROUVUa1FtUHNrbUooP0ZFOTlFZTlJICRGRTk5ZUVGOCkKICAgIHsKICAgICAgICBzVEVUa0Y6OiRsa3Nza21KdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjggPSAkRkU5OWVFRjg7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIEUgRkU5OWVFRjggdWtUalFwVCBlaFFFZkZFc1RrbUogRW12IGxRZkk5IElVSW1UcyBpUWggRTk5IGxRZkk5IFR2cUlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRkU5OUVlOUkgICRGRTk5ZUVGOAogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIHVrVGpRcFRyaFFFZkZFc1RrbUooRkU5OUVlOUkgJEZFOTllRUY4KQogICAgewogICAgICAgICRrc3JoUUVmRkVzVGttSiA9IHNURVRrRjo6JGtzcmhRRWZGRXNUa21KOwoKICAgICAgICBzVEVUa0Y6OiRrc3JoUUVmRkVzVGttSiA9IGlFOXNJOwoKICAgICAgICBUaHYgewogICAgICAgICAgICBoSVRwaG0gJEZFOTllRUY4KCk7CiAgICAgICAgfSBpa21FOTl2IHsKICAgICAgICAgICAgc1RFVGtGOjoka3NyaFFFZkZFc1RrbUogPSAka3NyaFFFZkZFc1RrbUo7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogMms5OSBUakkgbFFmSTkgdWtUaiBFbSBFaGhFdiBRaSBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzRXNzdHNza0ptbEltVGdWRklxVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWs5OShFaGhFdiAkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICAkVFFURTk5djBwRWhmSWYgPSAkVGprcy0+VFFURTk5djBwRWhmSWYoKTsKCiAgICAgICAgJGlrOTlFZTlJID0gJFRqa3MtPmlrOTlFZTlJMmhRbHRoaEV2KCRFVFRoa2VwVElzKTsKCiAgICAgICAgaVFoSUVGaiAoJGlrOTlFZTlJIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgICsrIEhqSSBmSVVJOVFxSWhzIGxFdiBGalFRc0kgVFEgcTlFRkkgc1FsSSBFVFRoa2VwVElzIGttIFRqSSAiaWs5OUVlOUkiIEVoaEV2CiAgICAgICAgICAgICsrIHVqa0ZqIGxJRW1zIFFtOXYgVGpRc0kgRVRUaGtlcFRJcyBsRXYgZUkgc0lUIFRqaFFwSmogbEVzcyBFc3NrSm1sSW1UIFRRCiAgICAgICAgICAgICsrIFRqSSBsUWZJOSwgRW1mIEU5OSBRVGpJaHMgdWs5OSBMcHNUIEpJVCBrSm1RaElmIGlRaCBzSUZwaGtUdiBoSUVzUW1zLgogICAgICAgICAgICBraSAoJFRqa3MtPmtzMms5OUVlOUkoJDhJdikpIHsKICAgICAgICAgICAgICAgICRUamtzLT5zSVR0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKTsKICAgICAgICAgICAgfSBJOXNJa2kgKCRUUVRFOTl2MHBFaGZJZiB8fCBzVEVUa0Y6OnFoSVVJbVRzT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygpKSB7CiAgICAgICAgICAgICAgICBraSAoa3NzSVQoc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjgpKSB7CiAgICAgICAgICAgICAgICAgICAgRkU5OV9wc0loX2lwbUYoc1RFVGtGOjokZmtzRkVoZklmdFRUaGtlcFRJQmtROUVUa1Ftb0U5OWVFRjgsICRUamtzLCBbJDhJdl0pOwogICAgICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICAgICBUamhRdSBtSXUgM0Vzc3Rzc2tKbWxJbVRnVkZJcVRrUW0oc3Foa21UaSgKICAgICAgICAgICAgICAgICAgICAgICAgJ3RmZiBbJXNdIFRRIGlrOTlFZTlJIHFoUXFJaFR2IFRRIEU5OVF1IGxFc3MgRXNza0ptbEltVCBRbSBbJXNdLicsCiAgICAgICAgICAgICAgICAgICAgICAgICQ4SXYsIEpJVF9GOUVzcygkVGprcykKICAgICAgICAgICAgICAgICAgICApKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAga2kgKEZRcG1UKCRFVFRoa2VwVElzKSAhPT0gRlFwbVQoJGlrOTlFZTlJKSAmJgogICAgICAgICAgICBzVEVUa0Y6OnFoSVVJbVRzT2s5SW1UOXZua3NGRWhma21KdFRUaGtlcFRJcygpKSB7CiAgICAgICAgICAgICQ4SXZzID0gRWhoRXZfZmtpaShFaGhFdl84SXZzKCRFVFRoa2VwVElzKSwgRWhoRXZfOEl2cygkaWs5OUVlOUkpKTsKCiAgICAgICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiRma3NGRWhmSWZ0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCkpIHsKICAgICAgICAgICAgICAgIEZFOTlfcHNJaF9pcG1GKHNURVRrRjo6JGZrc0ZFaGZJZnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4LCAkVGprcywgJDhJdnMpOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgVGpoUXUgbUl1IDNFc3N0c3NrSm1sSW1UZ1ZGSXFUa1FtKHNxaGttVGkoCiAgICAgICAgICAgICAgICAgICAgJ3RmZiBpazk5RWU5SSBxaFFxSWhUdiBbJXNdIFRRIEU5OVF1IGxFc3MgRXNza0ptbEltVCBRbSBbJXNdLicsCiAgICAgICAgICAgICAgICAgICAga2xxOVFmSSgnLCAnLCAkOEl2cyksCiAgICAgICAgICAgICAgICAgICAgSklUX0Y5RXNzKCRUamtzKQogICAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDJrOTkgVGpJIGxRZkk5IHVrVGogRW0gRWhoRXYgUWkgRVRUaGtlcFRJcy4gMlFoRkkgbEVzcyBFc3NrSm1sSW1ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpUWhGSTJrOTkoRWhoRXYgJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6cG1KcEVoZklmKGltICgpID0+ICRUamtzLT5pazk5KCRFVFRoa2VwVElzKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBHcEU5a2l2IFRqSSBKa1VJbSBGUTlwbG0gbUVsSSBldiBUakkgbFFmSTkncyBURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFJwRTlraXZvUTlwbG0oJEZROXBsbSkKICAgIHsKICAgICAgICBraSAoc1RoX0ZRbVRFa21zKCRGUTlwbG0sICcuJykpIHsKICAgICAgICAgICAgaElUcGhtICRGUTlwbG07CiAgICAgICAgfQogICAgICAgIGhJVHBobSAkVGprcy0+SklUSEVlOUkoKS4nLicuJEZROXBsbTsKICAgIH0KCiAgICArKioKICAgICAqIEdwRTlraXYgVGpJIEprVUltIEZROXBsbXMgdWtUaiBUakkgbFFmSTkncyBURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRlE5cGxtcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUnBFOWtpdm9ROXBsbXMoJEZROXBsbXMpCiAgICB7CiAgICAgICAgaElUcGhtIEZROTlJRlQoJEZROXBsbXMpLT5sRXEoaXBtRlRrUW0gKCRGUTlwbG0pIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5ScEU5a2l2b1E5cGxtKCRGUTlwbG0pOwogICAgICAgIH0pLT5FOTkoKTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIG1JdSBrbXNURW1GSSBRaSBUakkgSmtVSW0gbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgZVFROSAgJElWa3NUcwogICAgICogQGhJVHBobSBzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUttc1RFbUZJKCRFVFRoa2VwVElzID0gW10sICRJVmtzVHMgPSBpRTlzSSkKICAgIHsKICAgICAgICArKyBIamtzIGxJVGpRZiBMcHNUIHFoUVVrZklzIEUgRlFtVUlta0ltVCB1RXYgaVFoIHBzIFRRIEpJbUloRVRJIGloSXNqIGxRZkk5CiAgICAgICAgKysga21zVEVtRklzIFFpIFRqa3MgRnBoaEltVCBsUWZJOS4gS1Qga3MgcUVoVGtGcDlFaDl2IHBzSWlwOSBmcGhrbUogVGpJCiAgICAgICAgKysganZmaEVUa1FtIFFpIG1JdSBRZUxJRlRzIFVrRSBUakkgZzlRUnBJbVQgUnBJaHYgZXBrOWZJaCBrbXNURW1GSXMuCiAgICAgICAgJGxRZkk5ID0gbUl1IHNURVRrRjsKCiAgICAgICAgJGxRZkk5LT5JVmtzVHMgPSAkSVZrc1RzOwoKICAgICAgICAkbFFmSTktPnNJVG9RbW1JRlRrUW0oCiAgICAgICAgICAgICRUamtzLT5KSVRvUW1tSUZUa1FtQUVsSSgpCiAgICAgICAgKTsKCiAgICAgICAgJGxRZkk5LT5zSVRIRWU5SSgkVGprcy0+SklUSEVlOUkoKSk7CgogICAgICAgICRsUWZJOS0+bEloSklvRXNUcygkVGprcy0+RkVzVHMpOwoKICAgICAgICAkbFFmSTktPmlrOTkoKEVoaEV2KSAkRVRUaGtlcFRJcyk7CgogICAgICAgIGhJVHBobSAkbFFmSTk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgbFFmSTkga21zVEVtRkkgVGpFVCBrcyBJVmtzVGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJEZRbW1JRlRrUW0KICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXUyaFFscnBrOWZJaCgkRVRUaGtlcFRJcyA9IFtdLCAkRlFtbUlGVGtRbSA9IG1wOTkpCiAgICB7CiAgICAgICAgJGxRZkk5ID0gJFRqa3MtPm1JdUttc1RFbUZJKFtdLCBUaHBJKTsKCiAgICAgICAgJGxRZkk5LT5zSVRORXV0VFRoa2VwVElzKChFaGhFdikgJEVUVGhrZXBUSXMsIFRocEkpOwoKICAgICAgICAkbFFmSTktPnNJVG9RbW1JRlRrUW0oJEZRbW1JRlRrUW0gPzogJFRqa3MtPkpJVG9RbW1JRlRrUW1BRWxJKCkpOwoKICAgICAgICAkbFFmSTktPmlraEkzUWZJOWdVSW1UKCdoSVRoa0lVSWYnLCBpRTlzSSk7CgogICAgICAgIGhJVHBobSAkbFFmSTk7CiAgICB9CgogICAgKyoqCiAgICAgKiBySUprbSBScElodmttSiBUakkgbFFmSTkgUW0gRSBKa1VJbSBGUW1tSUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUW1tSUZUa1FtCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBRbSgkRlFtbUlGVGtRbSA9IG1wOTkpCiAgICB7CiAgICAgICAgKysgMmtoc1QgdUkgdWs5OSBMcHNUIEZoSUVUSSBFIGloSXNqIGttc1RFbUZJIFFpIFRqa3MgbFFmSTksIEVtZiBUakltIHVJIEZFbSBzSVQgVGpJCiAgICAgICAgKysgRlFtbUlGVGtRbSBRbSBUakkgbFFmSTkgc1EgVGpFVCBrVCBrcyBwc0lmIGlRaCBUakkgUnBJaGtJcyB1SSBJVklGcFRJLCBFcyB1STk5CiAgICAgICAgKysgRXMgZUlrbUogc0lUIFFtIElVSWh2IGhJOUVUa1FtIHVJIGhJVGhrSVVJIHVrVGpRcFQgRSBGcHNUUWwgRlFtbUlGVGtRbSBtRWxJLgogICAgICAgICRrbXNURW1GSSA9IG1JdSBzVEVUa0Y7CgogICAgICAgICRrbXNURW1GSS0+c0lUb1FtbUlGVGtRbSgkRlFtbUlGVGtRbSk7CgogICAgICAgIGhJVHBobSAka21zVEVtRkktPm1JdUdwSWh2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBySUprbSBScElodmttSiBUakkgbFFmSTkgUW0gVGpJIHVoa1RJIEZRbW1JRlRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gUW1iaGtUSW9RbW1JRlRrUW0oKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OlJwSWh2KCktPnBzSWJoa1RJYWZRKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRTk5IFFpIFRqSSBsUWZJOXMgaWhRbCBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9ROTlJRlRrUW08a21ULCBzVEVUa0Y+CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gRTk5KCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6UnBJaHYoKS0+SklUKAogICAgICAgICAgICBrc19FaGhFdigkRlE5cGxtcykgPyAkRlE5cGxtcyA6IGlwbUZfSklUX0VoSnMoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBySUprbSBScElodmttSiBFIGxRZkk5IHVrVGogSUVKSWggOVFFZmttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gdWtUaigkaEk5RVRrUW1zKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OlJwSWh2KCktPnVrVGooCiAgICAgICAgICAgIGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXMKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmKCRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgJFJwSWh2ID0gJFRqa3MtPm1JdUdwSWh2YmtUalFwVE5JOUVUa1Ftc2prcXMoKS0+dWtUaigKICAgICAgICAgICAga3Nfc1Roa21KKCRoSTlFVGtRbXMpID8gaXBtRl9KSVRfRWhKcygpIDogJGhJOUVUa1FtcwogICAgICAgICk7CgogICAgICAgICRScElodi0+SUVKSWg2UUVmTkk5RVRrUW1zKFskVGprc10pOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcXMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqKCRoSTlFVGtRbSwgJGhJOUVUa1FtcykKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+eyRoSTlFVGtRbX0pIHsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAgJEY5RXNzQUVsSSA9IEpJVF9GOUVzcygkVGprcy0+eyRoSTlFVGtRbX0pOwoKICAgICAgICAkVGprcy0+eyRoSTlFVGtRbX0tPjlRRWYoJGhJOUVUa1Ftc1skRjlFc3NBRWxJXSA/PyBbXSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zIFFtIFRqSSBsUWZJOSBraSBUakl2IEVoSSBtUVQgRTloSUVmdiBJRUpJaCA5UUVmSWYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYza3Nza21KKCRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgJGhJOUVUa1FtcyA9IGtzX3NUaGttSigkaEk5RVRrUW1zKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRoSTlFVGtRbXM7CgogICAgICAgICRUamtzLT5tSXVvUTk5SUZUa1FtKFskVGprc10pLT45UUVmM2tzc2ttSigkaEk5RVRrUW1zKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbSdzIEZROXBsbSBFSkpoSUpFVGtRbXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlwbUZUa1FtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICRpcG1GVGtRbSA9IG1wOTkpCiAgICB7CiAgICAgICAgJFRqa3MtPm1JdW9ROTlJRlRrUW0oWyRUamtzXSktPjlRRWZ0SkpoSUpFVEkoJGhJOUVUa1FtcywgJEZROXBsbSwgJGlwbUZUa1FtKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbSBGUXBtVHMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmb1FwbVQoJGhJOUVUa1FtcykKICAgIHsKICAgICAgICAkaEk5RVRrUW1zID0ga3Nfc1Roa21KKCRoSTlFVGtRbXMpID8gaXBtRl9KSVRfRWhKcygpIDogJGhJOUVUa1FtczsKCiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICcqJywgJ0ZRcG1UJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1FtIGxFViBGUTlwbG0gVUU5cElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzRVYoJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWZ0SkpoSUpFVEkoJGhJOUVUa1FtcywgJEZROXBsbSwgJ2xFVicpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbSBsa20gRlE5cGxtIFVFOXBJcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM2ttKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdsa20nKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0ncyBGUTlwbG0gc3BsbEVUa1FtcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmT3BsKCRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICRGUTlwbG0sICdzcGwnKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW0gRVVJaEVKSSBGUTlwbG0gVUU5cElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWZ0VUooJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWZ0SkpoSUpFVEkoJGhJOUVUa1FtcywgJEZROXBsbSwgJ0VVSicpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVElmIGxRZkk5IElWa3NUSW1GSSBVRTlwSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmZ1Zrc1RzKCRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXMsICcqJywgJ0lWa3NUcycpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3EgRlE5cGxtIEVKSmhJSkVUa1FtIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaXBtRlRrUW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICRpcG1GVGtRbSA9IG1wOTkpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPnskaEk5RVRrUW19KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprczsKICAgICAgICB9CgogICAgICAgICRGOUVzc0FFbEkgPSBKSVRfRjlFc3MoJFRqa3MtPnskaEk5RVRrUW19KTsKCiAgICAgICAgJFRqa3MtPnskaEk5RVRrUW19LT45UUVmdEpKaElKRVRJKCRoSTlFVGtRbXNbJEY5RXNzQUVsSV0gPz8gW10sICRGUTlwbG0sICRpcG1GVGtRbSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEZRcG1UcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWpvUXBtVCgkaEk5RVRrUW0sICRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAnKicsICdGUXBtVCcpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3EgbEVWIEZROXBsbSBVRTlwSXMgUW0gVGpJIHFROXZsUWhxamtGIGhJOUVUa1FtIFFpIEUgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRoSTlFVGtRbQogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlRRWYzUWhxajNFVigkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT45UUVmM1FocWp0SkpoSUpFVEkoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtLCAnbEVWJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIGhJOUVUa1Ftc2prcSBsa20gRlE5cGxtIFVFOXBJcyBRbSBUakkgcVE5dmxRaHFqa0YgaEk5RVRrUW0gUWkgRSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGhJOUVUa1FtCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaEk5RVRrUW1zCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gOVFFZjNRaHFqM2ttKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPjlRRWYzUWhxanRKSmhJSkVUSSgkaEk5RVRrUW0sICRoSTlFVGtRbXMsICRGUTlwbG0sICdsa20nKTsKICAgIH0KCiAgICArKioKICAgICAqIGdFSkloIDlRRWYgaEk5RVRrUW1zamtxIEZROXBsbSBzcGxsRVRrUW1zIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWpPcGwoJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSwgJ3NwbCcpOwogICAgfQoKICAgICsqKgogICAgICogZ0VKSWggOVFFZiBoSTlFVGtRbXNqa3EgRVVJaEVKSSBGUTlwbG0gVUU5cElzIFFtIFRqSSBxUTl2bFFocWprRiBoSTlFVGtRbSBRaSBFIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSA5UUVmM1FocWp0VUooJGhJOUVUa1FtLCAkaEk5RVRrUW1zLCAkRlE5cGxtKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+OVFFZjNRaHFqdEpKaElKRVRJKCRoSTlFVGtRbSwgJGhJOUVUa1FtcywgJEZROXBsbSwgJ0VVSicpOwogICAgfQoKICAgICsqKgogICAgICogS21GaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrbUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+a21GaElsSW1UTWhuSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFLCAna21GaElsSW1UJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGZJRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5rbUZoSWxJbVRNaG5JRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1ULCAkSVZUaEUsICdmSUZoSWxJbVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIE5wbSBUakkga21GaElsSW1UIFFoIGZJRmhJbEltVCBsSVRqUWYgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJGxJVGpRZikKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+bUl1R3BJaHZia1RqUXBUTkk5RVRrUW1zamtxcygpLT57JGxJVGpRZn0oJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFKTsKICAgICAgICB9CgogICAgICAgICRUamtzLT57JEZROXBsbX0gPSAkVGprcy0+a3NvOUVzc25JVWtFZTlJKCRGUTlwbG0pCiAgICAgICAgICAgID8gJFRqa3MtPmZJVWtFVElvOUVzc29Fc1RFZTlJdFRUaGtlcFRJKCRsSVRqUWYsICRGUTlwbG0sICRFbFFwbVQpCiAgICAgICAgICAgIDogJFRqa3MtPnskRlE5cGxtfSAvICgkbElUalFmID09PSAna21GaElsSW1UJyA/ICRFbFFwbVQgOiAkRWxRcG1UICogLVgpOwoKICAgICAgICAkVGprcy0+aVFoRkkyazk5KCRJVlRoRSk7CgogICAgICAgIGtpICgkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3BxZkVUa21KJykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3NvOUVzc25JVWtFZTlJKCRGUTlwbG0pKSB7CiAgICAgICAgICAgICRFbFFwbVQgPSAoRjlRbUkgJFRqa3MpLT5zSVR0VFRoa2VwVEkoJEZROXBsbSwgJEVsUXBtVCktPkpJVHRUVGhrZXBUSTJoUWx0aGhFdigkRlE5cGxtKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBURXEoJFRqa3MtPnNJVDFJdnMyUWhPRVVJR3BJaHYoJFRqa3MtPm1JdUdwSWh2YmtUalFwVE9GUXFJcygpKS0+eyRsSVRqUWZ9KCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSksIGlwbUZUa1FtICgpIHBzSSAoJEZROXBsbSkgewogICAgICAgICAgICAkVGprcy0+c3ZtRm9qRW1KSXMoKTsKCiAgICAgICAgICAgICRUamtzLT5pa2hJM1FmSTlnVUltVCgncHFmRVRJZicsIGlFOXNJKTsKCiAgICAgICAgICAgICRUamtzLT5zdm1GTWhrSmttRTl0VFRoa2VwVEkoJEZROXBsbSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBQcWZFVEkgVGpJIGxRZkk5IGttIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJKEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlrOTkoJEVUVGhrZXBUSXMpLT5zRVVJKCRRcVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIFBxZkVUSSBUakkgbFFmSTkga20gVGpJIGZFVEVlRXNJIHVrVGprbSBFIFRoRW1zRUZUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKgogICAgICogQFRqaFF1cyBcSGpoUXVFZTlJCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwcWZFVElNaDJFazkoRWhoRXYgJEVUVGhrZXBUSXMgPSBbXSwgRWhoRXYgJFFxVGtRbXMgPSBbXSkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+aWs5OSgkRVRUaGtlcFRJcyktPnNFVUlNaDJFazkoJFFxVGtRbXMpOwogICAgfQoKICAgICsqKgogICAgICogUHFmRVRJIFRqSSBsUWZJOSBrbSBUakkgZkVURWVFc0kgdWtUalFwVCBoRWtza21KIEVtdiBJVUltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHBxZkVUSUdwa0lUOXYoRWhoRXYgJEVUVGhrZXBUSXMgPSBbXSwgRWhoRXYgJFFxVGtRbXMgPSBbXSkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+aWs5OSgkRVRUaGtlcFRJcyktPnNFVUlHcGtJVDl2KCRRcVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIEttRmhJbEltVCBFIEZROXBsbSdzIFVFOXBJIGV2IEUgSmtVSW0gRWxRcG1UIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGk5UUVUfGttVCAgJEVsUXBtVAogICAgICogQHFFaEVsICBFaGhFdiAgJElWVGhFCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga21GaElsSW1UR3BrSVQ5digkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpcG1GVGtRbSAoKSBwc0kgKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVE1obklGaElsSW1UKCRGUTlwbG0sICRFbFFwbVQsICRJVlRoRSwgJ2ttRmhJbEltVCcpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogbklGaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQgdWtUalFwVCBoRWtza21KIEVtdiBJVUltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSUZoSWxJbVRHcGtJVDl2KCRGUTlwbG0sICRFbFFwbVQgPSBYLCBFaGhFdiAkSVZUaEUgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjp1a1RqUXBUZ1VJbVRzKGlwbUZUa1FtICgpIHBzSSAoJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+a21GaElsSW1UTWhuSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCwgJElWVGhFLCAnZklGaElsSW1UJyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIFRqSSBsUWZJOSBFbWYgRTk5IFFpIGtUcyBoSTlFVGtRbXNqa3FzLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcXBzaigpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPnNFVUkoKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICArKyBIUSBzdm1GIEU5OSBRaSBUakkgaEk5RVRrUW1zamtxcyBUUSBUakkgZkVURWVFc0ksIHVJIHVrOTkgc2tscTl2IHNxa20gVGpoUXBKagogICAgICAgICsrIFRqSSBoSTlFVGtRbXNqa3FzIEVtZiBzRVVJIElFRmogbFFmSTkgVWtFIFRqa3MgInFwc2oiIGxJVGpRZiwgdWprRmogRTk5UXVzCiAgICAgICAgKysgcHMgVFEgaElGcGhzSSBrbVRRIEU5OSBRaSBUaklzSSBtSXNUSWYgaEk5RVRrUW1zIGlRaCBUakkgbFFmSTkga21zVEVtRkkuCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPmhJOUVUa1FtcyBFcyAkbFFmSTlzKSB7CiAgICAgICAgICAgICRsUWZJOXMgPSAkbFFmSTlzIGttc1RFbUZJUWkgb1E5OUlGVGtRbQogICAgICAgICAgICAgICAgPyAkbFFmSTlzLT5FOTkoKSA6IFskbFFmSTlzXTsKCiAgICAgICAgICAgIGlRaElFRmogKEVoaEV2X2lrOVRJaCgkbFFmSTlzKSBFcyAkbFFmSTkpIHsKICAgICAgICAgICAgICAgIGtpICghICRsUWZJOS0+cXBzaigpKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVGhwSTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IEVtZiBFOTkgUWkga1RzIGhJOUVUa1Ftc2prcXMgdWtUalFwVCBoRWtza21KIEVtdiBJVUltVHMgVFEgVGpJIHFFaEltVCBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHFwc2pHcGtJVDl2KCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjp1a1RqUXBUZ1VJbVRzKGltICgpID0+ICRUamtzLT5xcHNqKCkpOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBUakkgbFFmSTkgVFEgVGpJIGZFVEVlRXNJIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNFVUlHcGtJVDl2KEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+c0VVSSgkUXFUa1FtcykpOwogICAgfQoKICAgICsqKgogICAgICogT0VVSSBUakkgbFFmSTkgVFEgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNFVUkoRWhoRXYgJFFxVGtRbXMgPSBbXSkKICAgIHsKICAgICAgICAkVGprcy0+bEloSkl0VFRoa2VwVElzMmhRbG9FRmpJZm9Fc1RzKCk7CgogICAgICAgICRScElodiA9ICRUamtzLT5tSXUzUWZJOUdwSWh2KCk7CgogICAgICAgICsrIEtpIFRqSSAic0VVa21KIiBJVUltVCBoSVRwaG1zIGlFOXNJIHVJJzk5IGVFazkgUXBUIFFpIFRqSSBzRVVJIEVtZiBoSVRwaG0KICAgICAgICArKyBpRTlzSSwga21ma0ZFVGttSiBUakVUIFRqSSBzRVVJIGlFazlJZi4gSGprcyBxaFFVa2ZJcyBFIEZqRW1GSSBpUWggRW12CiAgICAgICAgKysgOWtzVEltSWhzIFRRIEZFbUZJOSBzRVVJIFFxSWhFVGtRbXMga2kgVUU5a2ZFVGtRbXMgaUVrOSBRaCB1akVUSVVJaC4KICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdzRVVrbUonKSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KICAgICAgICArKyBLaSBUakkgbFFmSTkgRTloSUVmdiBJVmtzVHMga20gVGpJIGZFVEVlRXNJIHVJIEZFbSBMcHNUIHBxZkVUSSBRcGggaElGUWhmCiAgICAgICAgKysgVGpFVCBrcyBFOWhJRWZ2IGttIFRqa3MgZkVURWVFc0kgcHNrbUogVGpJIEZwaGhJbVQgS25zIGttIFRqa3MgInVqSWhJIgogICAgICAgICsrIEY5RXBzSSBUUSBRbTl2IHBxZkVUSSBUamtzIGxRZkk5LiBNVGpJaHVrc0ksIHVJJzk5IExwc1Qga21zSWhUIFRqSWwuCiAgICAgICAga2kgKCRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgJHNFVUlmID0gJFRqa3MtPmtzbmtoVHYoKSA/CiAgICAgICAgICAgICAgICAkVGprcy0+cUloaVFobFBxZkVUSSgkUnBJaHYpIDogVGhwSTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBrcyBlaEVtZiBtSXUsIHVJJzk5IGttc0loVCBrVCBrbVRRIFFwaCBmRVRFZUVzSSBFbWYgc0lUIFRqSQogICAgICAgICsrIEtuIEVUVGhrZXBUSSBRbSBUakkgbFFmSTkgVFEgVGpJIFVFOXBJIFFpIFRqSSBtSXU5diBrbXNJaFRJZiBoUXUncyBLbgogICAgICAgICsrIHVqa0ZqIGtzIFR2cWtGRTk5diBFbSBFcFRRLWttRmhJbEltVCBVRTlwSSBsRW1FSklmIGV2IFRqSSBmRVRFZUVzSS4KICAgICAgICBJOXNJIHsKICAgICAgICAgICAgJHNFVUlmID0gJFRqa3MtPnFJaGlRaGxLbXNJaFQoJFJwSWh2KTsKCiAgICAgICAgICAgIGtpICghICRUamtzLT5KSVRvUW1tSUZUa1FtQUVsSSgpICYmCiAgICAgICAgICAgICAgICAkRlFtbUlGVGtRbSA9ICRScElodi0+SklUb1FtbUlGVGtRbSgpKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+c0lUb1FtbUlGVGtRbSgkRlFtbUlGVGtRbS0+SklUQUVsSSgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIGxRZkk5IGtzIHNwRkZJc3NpcDk5diBzRVVJZiwgdUkgbUlJZiBUUSBmUSBFIGlJdSBsUWhJIFRqa21KcyBRbUZJCiAgICAgICAgKysgVGpFVCBrcyBmUW1JLiBiSSB1azk5IEZFOTkgVGpJICJzRVVJZiIgbElUalFmIGpJaEkgVFEgaHBtIEVtdiBFRlRrUW1zCiAgICAgICAgKysgdUkgbUlJZiBUUSBqRXFxSW0gRWlUSWggRSBsUWZJOSBKSVRzIHNwRkZJc3NpcDk5diBzRVVJZiBoa0pqVCBqSWhJLgogICAgICAgIGtpICgkc0VVSWYpIHsKICAgICAgICAgICAgJFRqa3MtPmlrbWtzak9FVUkoJFFxVGtRbXMpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRzRVVJZjsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgVGpJIGxRZkk5IFRRIFRqSSBmRVRFZUVzSSB1a1Rqa20gRSBUaEVtc0VGVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkUXFUa1FtcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKgogICAgICogQFRqaFF1cyBcSGpoUXVFZTlJCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRVVJTWgyRWs5KEVoaEV2ICRRcVRrUW1zID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRvUW1tSUZUa1FtKCktPlRoRW1zRUZUa1FtKGltICgpID0+ICRUamtzLT5zRVVJKCRRcVRrUW1zKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIEVtdiBFRlRrUW1zIFRqRVQgRWhJIG1JRklzc0VodiBFaVRJaCBUakkgbFFmSTkga3Mgc0VVSWYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFFxVGtRbXMKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaWtta3NqT0VVSShFaGhFdiAkUXFUa1FtcykKICAgIHsKICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3NFVUlmJywgaUU5c0kpOwoKICAgICAgICBraSAoJFRqa3MtPmtzbmtoVHYoKSAmJiAoJFFxVGtRbXNbJ1RRcEZqJ10gPz8gVGhwSSkpIHsKICAgICAgICAgICAgJFRqa3MtPlRRcEZqTXVtSWhzKCk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+c3ZtRk1oa0prbUU5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIEUgbFFmSTkgcHFmRVRJIFFxSWhFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxSWhpUWhsUHFmRVRJKHJwazlmSWggJFJwSWh2KQogICAgewogICAgICAgICsrIEtpIFRqSSBwcWZFVGttSiBJVUltVCBoSVRwaG1zIGlFOXNJLCB1SSB1azk5IEZFbUZJOSBUakkgcHFmRVRJIFFxSWhFVGtRbSBzUQogICAgICAgICsrIGZJVUk5UXFJaHMgRkVtIGpRUTggQkU5a2ZFVGtRbSBzdnNUSWxzIGttVFEgVGpJa2ggbFFmSTlzIEVtZiBGRW1GSTkgVGprcwogICAgICAgICsrIFFxSWhFVGtRbSBraSBUakkgbFFmSTkgZlFJcyBtUVQgcUVzcyBVRTlrZkVUa1FtLiBNVGpJaHVrc0ksIHVJIHBxZkVUSS4KICAgICAgICBraSAoJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdwcWZFVGttSicpID09PSBpRTlzSSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICArKyAya2hzVCB1SSBtSUlmIFRRIEZoSUVUSSBFIGloSXNqIFJwSWh2IGttc1RFbUZJIEVtZiBUUXBGaiBUakkgRmhJRVRrUW0gRW1mCiAgICAgICAgKysgcHFmRVRJIFRrbElzVEVscSBRbSBUakkgbFFmSTkgdWprRmogRWhJIGxFa21URWttSWYgZXYgcHMgaVFoIGZJVUk5UXFJaAogICAgICAgICsrIEZRbVVJbWtJbUZJLiBIakltIHVJIHVrOTkgTHBzVCBGUW1Ua21wSSBzRVVrbUogVGpJIGxRZkk5IGttc1RFbUZJcy4KICAgICAgICBraSAoJFRqa3MtPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgJFRqa3MtPnBxZkVUSUhrbElzVEVscXMoKTsKICAgICAgICB9CgogICAgICAgICsrIE1tRkkgdUkgakVVSSBocG0gVGpJIHBxZkVUSSBRcUloRVRrUW0sIHVJIHVrOTkgaWtoSSBUakkgInBxZkVUSWYiIElVSW1UIGlRaAogICAgICAgICsrIFRqa3MgbFFmSTkga21zVEVtRkkuIEhqa3MgdWs5OSBFOTlRdSBmSVVJOVFxSWhzIFRRIGpRUTgga21UUSBUaklzSSBFaVRJaAogICAgICAgICsrIGxRZkk5cyBFaEkgcHFmRVRJZiwgSmtVa21KIFRqSWwgRSBGakVtRkkgVFEgZlEgRW12IHNxSUZrRTkgcWhRRklzc2ttSi4KICAgICAgICAkZmtoVHYgPSAkVGprcy0+SklUbmtoVHYyUWhQcWZFVEkoKTsKCiAgICAgICAga2kgKEZRcG1UKCRma2hUdikgPiB3KSB7CiAgICAgICAgICAgICRUamtzLT5zSVQxSXZzMlFoT0VVSUdwSWh2KCRScElodiktPnBxZkVUSSgkZmtoVHYpOwoKICAgICAgICAgICAgJFRqa3MtPnN2bUZvakVtSklzKCk7CgogICAgICAgICAgICAkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ3BxZkVUSWYnLCBpRTlzSSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gVGhwSTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgOEl2cyBpUWggRSBzSTlJRlQgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUMUl2czJRaE9JOUlGVEdwSWh2KCRScElodikKICAgIHsKICAgICAgICAkUnBJaHYtPnVqSWhJKCRUamtzLT5KSVQxSXZBRWxJKCksICc9JywgJFRqa3MtPkpJVDFJdjJRaE9JOUlGVEdwSWh2KCkpOwoKICAgICAgICBoSVRwaG0gJFJwSWh2OwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBxaGtsRWh2IDhJdiBVRTlwSSBpUWggRSBzSTlJRlQgUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUMUl2MlFoT0k5SUZUR3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+UWhrSmttRTlbJFRqa3MtPkpJVDFJdkFFbEkoKV0gPz8gJFRqa3MtPkpJVDFJdigpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSA4SXZzIGlRaCBFIHNFVUkgcHFmRVRJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaCAgJFJwSWh2CiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJVDFJdnMyUWhPRVVJR3BJaHYoJFJwSWh2KQogICAgewogICAgICAgICRScElodi0+dWpJaEkoJFRqa3MtPkpJVDFJdkFFbEkoKSwgJz0nLCAkVGprcy0+SklUMUl2MlFoT0VVSUdwSWh2KCkpOwoKICAgICAgICBoSVRwaG0gJFJwSWh2OwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBxaGtsRWh2IDhJdiBVRTlwSSBpUWggRSBzRVVJIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVDFJdjJRaE9FVUlHcElodigpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaGtKa21FOVskVGprcy0+SklUMUl2QUVsSSgpXSA/PyAkVGprcy0+SklUMUl2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhSWhpUWhsIEUgbFFmSTkga21zSWhUIFFxSWhFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxSWhpUWhsS21zSWhUKHJwazlmSWggJFJwSWh2KQogICAgewogICAgICAgIGtpICgkVGprcy0+cHNJc1Bta1JwSUtmcygpKSB7CiAgICAgICAgICAgICRUamtzLT5zSVRQbWtScElLZnMoKTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+aWtoSTNRZkk5Z1VJbVQoJ0ZoSUVUa21KJykgPT09IGlFOXNJKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICsrIDJraHNUIHVJJzk5IG1JSWYgVFEgRmhJRVRJIEUgaWhJc2ogUnBJaHYga21zVEVtRkkgRW1mIFRRcEZqIFRqSSBGaElFVGtRbSBFbWYKICAgICAgICArKyBwcWZFVEkgVGtsSXNURWxxcyBRbSBUamtzIGxRZkk5LCB1amtGaiBFaEkgbEVrbVRFa21JZiBldiBwcyBpUWggZklVSTlRcUloCiAgICAgICAgKysgRlFtVUlta0ltRkkuIHRpVEloLCB1SSB1azk5IExwc1QgRlFtVGttcEkgc0VVa21KIFRqSXNJIGxRZkk5IGttc1RFbUZJcy4KICAgICAgICBraSAoJFRqa3MtPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgJFRqa3MtPnBxZkVUSUhrbElzVEVscXMoKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBqRXMgRW0ga21GaElsSW1Ua21KIDhJdiwgdUkgRkVtIHBzSSBUakkgImttc0loVDBJVEtmIiBsSVRqUWYgUW0KICAgICAgICArKyBUakkgUnBJaHYgZXBrOWZJaCwgdWprRmogdWs5OSBKa1VJIHBzIGVFRjggVGpJIGlrbUU5IGttc0loVElmIEtuIGlRaCBUamtzCiAgICAgICAgKysgVEVlOUkgaWhRbCBUakkgZkVURWVFc0kuIEFRVCBFOTkgVEVlOUlzIGpFVUkgVFEgZUkga21GaElsSW1Ua21KIFRqUXBKai4KICAgICAgICAkRVRUaGtlcFRJcyA9ICRUamtzLT5KSVR0VFRoa2VwVElzMlFoS21zSWhUKCk7CgogICAgICAgIGtpICgkVGprcy0+SklUS21GaElsSW1Ua21KKCkpIHsKICAgICAgICAgICAgJFRqa3MtPmttc0loVHRtZk9JVEtmKCRScElodiwgJEVUVGhrZXBUSXMpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIFRFZTlJIGtzbSdUIGttRmhJbEltVGttSiB1SSc5OSBza2xxOXYga21zSWhUIFRqSXNJIEVUVGhrZXBUSXMgRXMgVGpJdgogICAgICAgICsrIEVoSS4gSGpJc0kgRVRUaGtlcFRJIEVoaEV2cyBscHNUIEZRbVRFa20gRW0gImtmIiBGUTlwbG0gcWhJVWtRcHM5diBxOUVGSWYKICAgICAgICArKyBUakloSSBldiBUakkgZklVSTlRcUloIEVzIFRqSSBsRW1wRTk5diBmSVRJaGxrbUlmIDhJdiBpUWggVGpJc0kgbFFmSTlzLgogICAgICAgIEk5c0kgewogICAgICAgICAgICBraSAoSWxxVHYoJEVUVGhrZXBUSXMpKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFJwSWh2LT5rbXNJaFQoJEVUVGhrZXBUSXMpOwogICAgICAgIH0KCiAgICAgICAgKysgYkkgdWs5OSBKUSBFaklFZiBFbWYgc0lUIFRqSSBJVmtzVHMgcWhRcUloVHYgVFEgVGhwSSwgc1EgVGpFVCBrVCBrcyBzSVQgdWpJbQogICAgICAgICsrIFRqSSBGaElFVElmIElVSW1UIGtzIGlraElmLCBMcHNUIGttIEZFc0kgVGpJIGZJVUk5UXFJaCBUaGtJcyBUUSBwcWZFVEkga1QKICAgICAgICArKyBmcGhrbUogVGpJIElVSW1ULiBIamtzIHVrOTkgRTk5UXUgVGpJbCBUUSBmUSBzUSBFbWYgaHBtIEVtIHBxZkVUSSBqSWhJLgogICAgICAgICRUamtzLT5JVmtzVHMgPSBUaHBJOwoKICAgICAgICAkVGprcy0+dUVzTklGSW1UOXZvaElFVElmID0gVGhwSTsKCiAgICAgICAgJFRqa3MtPmlraEkzUWZJOWdVSW1UKCdGaElFVElmJywgaUU5c0kpOwoKICAgICAgICBoSVRwaG0gVGhwSTsKICAgIH0KCiAgICArKioKICAgICAqIEttc0loVCBUakkgSmtVSW0gRVRUaGtlcFRJcyBFbWYgc0lUIFRqSSBLbiBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZkloICAkUnBJaHYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGttc0loVHRtZk9JVEtmKHJwazlmSWggJFJwSWh2LCAkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICAka2YgPSAkUnBJaHYtPmttc0loVDBJVEtmKCRFVFRoa2VwVElzLCAkOEl2QUVsSSA9ICRUamtzLT5KSVQxSXZBRWxJKCkpOwoKICAgICAgICAkVGprcy0+c0lUdFRUaGtlcFRJKCQ4SXZBRWxJLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogbklzVGhRdiBUakkgbFFmSTlzIGlRaCBUakkgSmtVSW0gS25zLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcT3BxcVFoVFxvUTk5SUZUa1FtfEVoaEV2fGttVHxzVGhrbUogICRrZnMKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gZklzVGhRdigka2ZzKQogICAgewogICAgICAgIGtpICgka2ZzIGttc1RFbUZJUWkgZzlRUnBJbVRvUTk5SUZUa1FtKSB7CiAgICAgICAgICAgICRrZnMgPSAka2ZzLT5sUWZJOTFJdnMoKTsKICAgICAgICB9CgogICAgICAgIGtpICgka2ZzIGttc1RFbUZJUWkgckVzSW9ROTlJRlRrUW0pIHsKICAgICAgICAgICAgJGtmcyA9ICRrZnMtPkU5OSgpOwogICAgICAgIH0KCiAgICAgICAgJGtmcyA9IGtzX0VoaEV2KCRrZnMpID8gJGtmcyA6IGlwbUZfSklUX0VoSnMoKTsKCiAgICAgICAga2kgKEZRcG1UKCRrZnMpID09PSB3KSB7CiAgICAgICAgICAgIGhJVHBobSB3OwogICAgICAgIH0KCiAgICAgICAgKysgYkkgdWs5OSBFRlRwRTk5diBxcDk5IFRqSSBsUWZJOXMgaWhRbCBUakkgZkVURWVFc0kgVEVlOUkgRW1mIEZFOTkgZkk5SVRJIFFtCiAgICAgICAgKysgSUVGaiBRaSBUaklsIGttZmtVa2ZwRTk5diBzUSBUakVUIFRqSWtoIElVSW1UcyBKSVQgaWtoSWYgcWhRcUloOXYgdWtUaiBFCiAgICAgICAgKysgRlFoaElGVCBzSVQgUWkgRVRUaGtlcFRJcyBrbSBGRXNJIFRqSSBmSVVJOVFxSWhzIHVFbVRzIFRRIEZqSUY4IFRqSXNJLgogICAgICAgICQ4SXYgPSAoJGttc1RFbUZJID0gbUl1IHNURVRrRiktPkpJVDFJdkFFbEkoKTsKCiAgICAgICAgJEZRcG1UID0gdzsKCiAgICAgICAgaVFoSUVGaiAoJGttc1RFbUZJLT51akloSUttKCQ4SXYsICRrZnMpLT5KSVQoKSBFcyAkbFFmSTkpIHsKICAgICAgICAgICAga2kgKCRsUWZJOS0+Zkk5SVRJKCkpIHsKICAgICAgICAgICAgICAgICRGUXBtVC8vOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEZRcG1UOwogICAgfQoKICAgICsqKgogICAgICogbkk5SVRJIFRqSSBsUWZJOSBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTl8bXA5OQogICAgICoKICAgICAqIEBUamhRdXMgXDZRSmtGZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSTlJVEkoKQogICAgewogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsb0VGaklmb0VzVHMoKTsKCiAgICAgICAga2kgKGtzX21wOTkoJFRqa3MtPkpJVDFJdkFFbEkoKSkpIHsKICAgICAgICAgICAgVGpoUXUgbUl1IDZRSmtGZ1ZGSXFUa1FtKCdBUSBxaGtsRWh2IDhJdiBmSWlrbUlmIFFtIGxRZkk5LicpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIGxRZkk5IGZRSXNtJ1QgSVZrc1QsIFRqSWhJIGtzIG1RVGprbUogVFEgZkk5SVRJIHNRIHVJJzk5IExwc1QgaElUcGhtCiAgICAgICAgKysga2xsSWZrRVRJOXYgRW1mIG1RVCBmUSBFbXZUamttSiBJOXNJLiBNVGpJaHVrc0ksIHVJIHVrOTkgRlFtVGttcEkgdWtUaiBFCiAgICAgICAgKysgZkk5SVRrUW0gcWhRRklzcyBRbSBUakkgbFFmSTksIGlraGttSiBUakkgcWhRcUloIElVSW1UcywgRW1mIHNRIGlRaFRqLgogICAgICAgIGtpICghICRUamtzLT5JVmtzVHMpIHsKICAgICAgICAgICAgaElUcGhtOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5pa2hJM1FmSTlnVUltVCgnZkk5SVRrbUonKSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgKysgU0loSSwgdUknOTkgVFFwRmogVGpJIFF1bWttSiBsUWZJOXMsIFVJaGtpdmttSiBUaklzSSBUa2xJc1RFbHFzIEpJVCBwcWZFVElmCiAgICAgICAgKysgaVFoIFRqSSBsUWZJOXMuIEhqa3MgdWs5OSBFOTlRdSBFbXYgRkVGamttSiBUUSBKSVQgZWhROEltIFFtIFRqSSBxRWhJbVRzCiAgICAgICAgKysgZXYgVGpJIFRrbElzVEVscS4gSGpJbSB1SSB1azk5IEpRIEVqSUVmIEVtZiBmSTlJVEkgVGpJIGxRZkk5IGttc1RFbUZJLgogICAgICAgICRUamtzLT5UUXBGak11bUlocygpOwoKICAgICAgICAkVGprcy0+cUloaVFobG5JOUlUSU1tM1FmSTkoKTsKCiAgICAgICAgKysgTW1GSSBUakkgbFFmSTkgakVzIGVJSW0gZkk5SVRJZiwgdUkgdWs5OSBpa2hJIFFpaSBUakkgZkk5SVRJZiBJVUltVCBzUSBUakVUCiAgICAgICAgKysgVGpJIGZJVUk5UXFJaHMgbEV2IGpRUTgga21UUSBxUXNULWZJOUlUSSBRcUloRVRrUW1zLiBiSSB1azk5IFRqSW0gaElUcGhtCiAgICAgICAgKysgRSBlUVE5SUVtIFRocEkgRXMgVGpJIGZJOUlUSSBrcyBxaElzcGxFZTl2IHNwRkZJc3NpcDkgUW0gVGpJIGZFVEVlRXNJLgogICAgICAgICRUamtzLT5pa2hJM1FmSTlnVUltVCgnZkk5SVRJZicsIGlFOXNJKTsKCiAgICAgICAgaElUcGhtIFRocEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSTlJVEkgVGpJIGxRZkk5IGloUWwgVGpJIGZFVEVlRXNJIHVrVGpRcFQgaEVrc2ttSiBFbXYgSVVJbVRzLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZkk5SVRJR3BrSVQ5digpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+Zkk5SVRJKCkpOwogICAgfQoKICAgICsqKgogICAgICogbkk5SVRJIFRqSSBsUWZJOSBpaFFsIFRqSSBmRVRFZUVzSSB1a1Rqa20gRSBUaEVtc0VGVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTl8bXA5OQogICAgICoKICAgICAqIEBUamhRdXMgXEhqaFF1RWU5SQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gZkk5SVRJTWgyRWs5KCkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbShpbSAoKSA9PiAkVGprcy0+Zkk5SVRJKCkpOwogICAgfQoKICAgICsqKgogICAgICogMlFoRkkgRSBqRWhmIGZJOUlUSSBRbSBFIHNRaVQgZkk5SVRJZiBsUWZJOS4KICAgICAqCiAgICAgKiBIamtzIGxJVGpRZiBxaFFUSUZUcyBmSVVJOVFxSWhzIGloUWwgaHBtbWttSiBpUWhGSW5JOUlUSSB1akltIFRqSSBUaEVrVCBrcyBsa3Nza21KLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROXxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpUWhGSW5JOUlUSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5mSTlJVEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIGFJaGlRaGwgVGpJIEVGVHBFOSBmSTlJVEkgUnBJaHYgUW0gVGprcyBsUWZJOSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHFJaGlRaGxuSTlJVElNbTNRZkk5KCkKICAgIHsKICAgICAgICAkVGprcy0+c0lUMUl2czJRaE9FVUlHcElodigkVGprcy0+bUl1M1FmSTlHcElodigpKS0+Zkk5SVRJKCk7CgogICAgICAgICRUamtzLT5JVmtzVHMgPSBpRTlzSTsKICAgIH0KCiAgICArKioKICAgICAqIHJJSmttIFJwSWh2a21KIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBScElodigpCiAgICB7CiAgICAgICAgaElUcGhtIChtSXUgc1RFVGtGKS0+bUl1R3BJaHYoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBlcGs5ZkloIGlRaCBUakkgbFFmSTkncyBURWU5SS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJSmtzVEloMDlRZUU5T0ZRcUlzKCRUamtzLT5tSXVHcElodmJrVGpRcFRPRlFxSXMoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBtSXUgUnBJaHYgZXBrOWZJaCBUakVUIGZRSXNtJ1QgakVVSSBFbXYgSjlRZUU5IHNGUXFJcyBRaCBJRUpJaCA5UUVma21KLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaHxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdTNRZkk5R3BJaHYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1ZzlRUnBJbVRycGs5ZkloKAogICAgICAgICAgICAkVGprcy0+bUl1ckVzSUdwSWh2cnBrOWZJaCgpCiAgICAgICAgKS0+c0lUM1FmSTkoJFRqa3MpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggdWtUaiBtUSBoSTlFVGtRbXNqa3FzIDlRRWZJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2YmtUalFwVE5JOUVUa1Ftc2prcXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElKa3NUSWgwOVFlRTlPRlFxSXMoJFRqa3MtPm1JdTNRZkk5R3BJaHYoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSUprc1RJaCBUakkgSjlRZUU5IHNGUXFJcyBpUWggVGprcyBlcGs5ZkloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaCAgJGVwazlmSWgKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElKa3NUSWgwOVFlRTlPRlFxSXMoJGVwazlmSWgpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVDA5UWVFOU9GUXFJcygpIEVzICRrZkltVGtpa0loID0+ICRzRlFxSSkgewogICAgICAgICAgICAkZXBrOWZJaC0+dWtUajA5UWVFOU9GUXFJKCRrZkltVGtpa0loLCAkc0ZRcUkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRlcGs5ZkloOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGVwazlmSWggVGpFVCBmUUlzbSdUIGpFVUkgRW12IEo5UWVFOSBzRlFxSXMuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZklofHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdTNRZkk5R3BJaHYoKQogICAgICAgICAgICAtPnVrVGooJFRqa3MtPnVrVGopCiAgICAgICAgICAgIC0+dWtUam9RcG1UKCRUamtzLT51a1Rqb1FwbVQpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IGttc1RFbUZJIHVrVGpRcFQgRSBKa1VJbSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE9GUXFJfHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIG1JdUdwSWh2YmtUalFwVE9GUXFJKCRzRlFxSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPm1JdUdwSWh2KCktPnVrVGpRcFQwOVFlRTlPRlFxSSgkc0ZRcUkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgbUl1IFJwSWh2IFRRIGhJc1RRaEkgUW1JIFFoIGxRaEkgbFFmSTlzIGV2IFRqSWtoIFJwSXBJRWU5SSBLbnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxrbVQgICRrZnMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRccnBrOWZJaAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1R3BJaHYyUWhOSXNUUWhFVGtRbSgka2ZzKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCktPnVqSWhJMUl2KCRrZnMpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGc5UVJwSW1UIFJwSWh2IGVwazlmSWggaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxycGs5ZklofHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1ZzlRUnBJbVRycGs5ZkloKCRScElodikKICAgIHsKICAgICAgICBoSVRwaG0gbUl1IHJwazlmSWgoJFJwSWh2KTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIG1JdSBScElodiBlcGs5ZkloIGttc1RFbUZJIGlRaCBUakkgRlFtbUlGVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIG1JdXJFc0lHcElodnJwazlmSWgoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUb1FtbUlGVGtRbSgpLT5ScElodigpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGc5UVJwSW1UIG9ROTlJRlRrUW0ga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGxRZkk5cwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBtSXVvUTk5SUZUa1FtKEVoaEV2ICRsUWZJOXMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gbUl1IG9ROTlJRlRrUW0oJGxRZkk5cyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgcWtVUVQgbFFmSTkga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOSAgJHFFaEltVAogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVEVlOUkKICAgICAqIEBxRWhFbCAgZVFROSAgJElWa3NUcwogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJHBza21KCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xha1VRVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1YWtVUVQoc0k5aSAkcUVoSW1ULCBFaGhFdiAkRVRUaGtlcFRJcywgJFRFZTlJLCAkSVZrc1RzLCAkcHNrbUogPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkcHNrbUogPyAkcHNrbUo6OmloUWxORXV0VFRoa2VwVElzKCRxRWhJbVQsICRFVFRoa2VwVElzLCAkVEVlOUksICRJVmtzVHMpCiAgICAgICAgICAgIDogYWtVUVQ6OmloUWx0VFRoa2VwVElzKCRxRWhJbVQsICRFVFRoa2VwVElzLCAkVEVlOUksICRJVmtzVHMpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBsUWZJOSBqRXMgRSBKa1VJbSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc0FFbElmT0ZRcUkoJHNGUXFJKQogICAgewogICAgICAgIGhJVHBobSBsSVRqUWZfSVZrc1RzKCRUamtzLCAnc0ZRcUknLnBGaWtoc1QoJHNGUXFJKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBUakkgSmtVSW0gbUVsSWYgc0ZRcUkga2kgcVFzc2tlOUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRzRlFxSQogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEZFOTlBRWxJZk9GUXFJKCRzRlFxSSwgRWhoRXYgJHFFaEVsSVRJaHMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnsnc0ZRcUknLnBGaWtoc1QoJHNGUXFJKX0oLi4uJHFFaEVsSVRJaHMpOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBUakkgbFFmSTkga21zVEVtRkkgVFEgRW0gRWhoRXYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gVFF0aGhFdigpCiAgICB7CiAgICAgICAgaElUcGhtIEVoaEV2X2xJaEpJKCRUamtzLT5FVFRoa2VwVElzSFF0aGhFdigpLCAkVGprcy0+aEk5RVRrUW1zSFF0aGhFdigpKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgVGpJIGxRZkk5IGttc1RFbUZJIFRRIERPTUEuCiAgICAgKgogICAgICogQHFFaEVsICBrbVQgICRRcVRrUW1zCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcRHNRbWdtRlFma21KZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBUUURzUW0oJFFxVGtRbXMgPSB3KQogICAgewogICAgICAgICRMc1FtID0gTHNRbV9JbUZRZkkoJFRqa3MtPkxzUW1PSWhrRTlrV0koKSwgJFFxVGtRbXMpOwoKICAgICAgICBraSAoTHNRbV85RXNUX0loaFFoKCkgIT09IERPTUFfZ05OTU5fQU1BZykgewogICAgICAgICAgICBUamhRdSBEc1FtZ21GUWZrbUpnVkZJcVRrUW06OmlRaDNRZkk5KCRUamtzLCBMc1FtXzlFc1RfSWhoUWhfbHNKKCkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRMc1FtOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBUakkgUWVMSUZUIGttVFEgc1FsSVRqa21KIERPTUEgc0loa0U5a1dFZTlJLgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIExzUW1PSWhrRTlrV0koKTogbGtWSWYKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlRRdGhoRXYoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JOVFFZiBFIGloSXNqIGxRZkk5IGttc1RFbUZJIGloUWwgVGpJIGZFVEVlRXNJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkdWtUagogICAgICogQGhJVHBobSBzVEVUa0Z8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhJc2ooJHVrVGogPSBbXSkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+SVZrc1RzKSB7CiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+c0lUMUl2czJRaE9JOUlGVEdwSWh2KCRUamtzLT5tSXVHcElodmJrVGpRcFRPRlFxSXMoKSkKICAgICAgICAgICAgLT5wc0liaGtUSWFmUSgpCiAgICAgICAgICAgIC0+dWtUaihrc19zVGhrbUooJHVrVGopID8gaXBtRl9KSVRfRWhKcygpIDogJHVrVGopCiAgICAgICAgICAgIC0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JOVFFZiBUakkgRnBoaEltVCBsUWZJOSBrbXNURW1GSSB1a1RqIGloSXNqIEVUVGhrZXBUSXMgaWhRbCBUakkgZkVURWVFc0kuCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElpaElzaigpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcykgewogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+c0lUTkV1dFRUaGtlcFRJcygKICAgICAgICAgICAgJFRqa3MtPnNJVDFJdnMyUWhPSTlJRlRHcElodigkVGprcy0+bUl1R3BJaHZia1RqUXBUT0ZRcUlzKCkpCiAgICAgICAgICAgICAgICAtPnBzSWJoa1RJYWZRKCkKICAgICAgICAgICAgICAgIC0+aWtoc1RNaDJFazkoKQogICAgICAgICAgICAgICAgLT5FVFRoa2VwVElzCiAgICAgICAgKTsKCiAgICAgICAgJFRqa3MtPjlRRWYoRlE5OUlGVCgkVGprcy0+aEk5RVRrUW1zKS0+aElMSUZUKGlwbUZUa1FtICgkaEk5RVRrUW0pIHsKICAgICAgICAgICAgaElUcGhtICRoSTlFVGtRbSBrbXNURW1GSVFpIGFrVVFUCiAgICAgICAgICAgICAgICB8fCAoa3NfUWVMSUZUKCRoSTlFVGtRbSkgJiYga21fRWhoRXYodHNha1VRVDo6RjlFc3MsIEY5RXNzX3BzSXNfaElGcGhza1VJKCRoSTlFVGtRbSksIFRocEkpKTsKICAgICAgICB9KS0+OEl2cygpLT5FOTkoKSk7CgogICAgICAgICRUamtzLT5zdm1GTWhrSmttRTkoKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogbzlRbUkgVGpJIGxRZkk5IGttVFEgRSBtSXUsIG1RbS1JVmtzVGttSiBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fG1wOTkgICRJVkZJcVQKICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXE5a0ZFVEkoRWhoRXYgJElWRklxVCA9IG1wOTkpCiAgICB7CiAgICAgICAgJGZJaUVwOVRzID0gRWhoRXZfVUU5cElzKEVoaEV2X2lrOVRJaChbCiAgICAgICAgICAgICRUamtzLT5KSVQxSXZBRWxJKCksCiAgICAgICAgICAgICRUamtzLT5KSVRvaElFVElmdFRvUTlwbG0oKSwKICAgICAgICAgICAgJFRqa3MtPkpJVFBxZkVUSWZ0VG9ROXBsbSgpLAogICAgICAgICAgICAuLi4kVGprcy0+cG1rUnBJS2ZzKCksCiAgICAgICAgXSkpOwoKICAgICAgICAkRVRUaGtlcFRJcyA9IHRoaDo6SVZGSXFUKAogICAgICAgICAgICAkVGprcy0+SklUdFRUaGtlcFRJcygpLCAkSVZGSXFUID8gRWhoRXZfcG1rUnBJKEVoaEV2X2xJaEpJKCRJVkZJcVQsICRmSWlFcDlUcykpIDogJGZJaUVwOVRzCiAgICAgICAgKTsKCiAgICAgICAgaElUcGhtIFRFcShtSXUgc1RFVGtGLCBpcG1GVGtRbSAoJGttc1RFbUZJKSBwc0kgKCRFVFRoa2VwVElzKSB7CiAgICAgICAgICAgICRrbXNURW1GSS0+c0lUTkV1dFRUaGtlcFRJcygkRVRUaGtlcFRJcyk7CgogICAgICAgICAgICAka21zVEVtRkktPnNJVE5JOUVUa1FtcygkVGprcy0+aEk5RVRrUW1zKTsKCiAgICAgICAgICAgICRrbXNURW1GSS0+aWtoSTNRZkk5Z1VJbVQoJ2hJcTlrRkVUa21KJywgaUU5c0kpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogbzlRbUkgVGpJIGxRZkk5IGttVFEgRSBtSXUsIG1RbS1JVmtzVGttSiBrbXNURW1GSSB1a1RqUXBUIGhFa3NrbUogRW12IElVSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fG1wOTkgICRJVkZJcVQKICAgICAqIEBoSVRwaG0gc1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBoSXE5a0ZFVElHcGtJVDl2KEVoaEV2ICRJVkZJcVQgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OnVrVGpRcFRnVUltVHMoaW0gKCkgPT4gJFRqa3MtPmhJcTlrRkVUSSgkSVZGSXFUKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVHVRIGxRZkk5cyBqRVVJIFRqSSBzRWxJIEtuIEVtZiBlSTlRbUogVFEgVGpJIHNFbEkgVEVlOUkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxtcDk5ICAkbFFmSTkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3MoJGxRZkk5KQogICAgewogICAgICAgIGhJVHBobSAhIGtzX21wOTkoJGxRZkk5KSAmJgogICAgICAgICAgICAkVGprcy0+SklUMUl2KCkgPT09ICRsUWZJOS0+SklUMUl2KCkgJiYKICAgICAgICAgICAgJFRqa3MtPkpJVEhFZTlJKCkgPT09ICRsUWZJOS0+SklUSEVlOUkoKSAmJgogICAgICAgICAgICAkVGprcy0+SklUb1FtbUlGVGtRbUFFbEkoKSA9PT0gJGxRZkk5LT5KSVRvUW1tSUZUa1FtQUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFR1USBsUWZJOXMgRWhJIG1RVCBUakkgc0VsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fG1wOTkgICRsUWZJOQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrc0FRVCgkbFFmSTkpCiAgICB7CiAgICAgICAgaElUcGhtICEgJFRqa3MtPmtzKCRsUWZJOSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGZFVEVlRXNJIEZRbW1JRlRrUW0gaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXG9RbW1JRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG9RbW1JRlRrUW0oKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OmhJc1E5VUlvUW1tSUZUa1FtKCRUamtzLT5KSVRvUW1tSUZUa1FtQUVsSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRnBoaEltVCBGUW1tSUZUa1FtIG1FbEkgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSnxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvUW1tSUZUa1FtQUVsSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5GUW1tSUZUa1FtOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBGUW1tSUZUa1FtIEVzc1FGa0VUSWYgdWtUaiBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJG1FbEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG9RbW1JRlRrUW0oJG1FbEkpCiAgICB7CiAgICAgICAgJFRqa3MtPkZRbW1JRlRrUW0gPSAkbUVsSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklzUTlVSSBFIEZRbW1JRlRrUW0ga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJEZRbW1JRlRrUW0KICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcb1FtbUlGVGtRbQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGhJc1E5VUlvUW1tSUZUa1FtKCRGUW1tSUZUa1FtID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokaElzUTlVSWgtPkZRbW1JRlRrUW0oJEZRbW1JRlRrUW0pOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBGUW1tSUZUa1FtIGhJc1E5VUloIGttc1RFbUZJLgogICAgICoKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcb1FtbUlGVGtRbU5Jc1E5VUloS21USWhpRUZJfG1wOTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBKSVRvUW1tSUZUa1FtTklzUTlVSWgoKQogICAgewogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRoSXNROVVJaDsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRlFtbUlGVGtRbSBoSXNROVVJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXG9RbW1JRlRrUW1OSXNROVVJaEttVEloaUVGSSAgJGhJc1E5VUloCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBzSVRvUW1tSUZUa1FtTklzUTlVSWgoTklzUTlVSWggJGhJc1E5VUloKQogICAgewogICAgICAgIHNURVRrRjo6JGhJc1E5VUloID0gJGhJc1E5VUloOwogICAgfQoKICAgICsqKgogICAgICogUG1zSVQgVGpJIEZRbW1JRlRrUW0gaElzUTlVSWggaVFoIGxRZkk5cy4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBwbXNJVG9RbW1JRlRrUW1OSXNROVVJaCgpCiAgICB7CiAgICAgICAgc1RFVGtGOjokaElzUTlVSWggPSBtcDk5OwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBURWU5SSBFc3NRRmtFVElmIHVrVGogVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRIRWU5SSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5URWU5SSA/PyBPVGg6OnNtRThJKE9UaDo6cTlwaEU5T1RwZjl2KEY5RXNzX2VFc0ltRWxJKCRUamtzKSkpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBURWU5SSBFc3NRRmtFVElmIHVrVGogVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkVEVlOUkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVEhFZTlJKCRURWU5SSkKICAgIHsKICAgICAgICAkVGprcy0+VEVlOUkgPSAkVEVlOUk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgcWhrbEVodiA4SXYgaVFoIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMUl2QUVsSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xaGtsRWh2MUl2OwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBxaGtsRWh2IDhJdiBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVQxSXZBRWxJKCQ4SXYpCiAgICB7CiAgICAgICAgJFRqa3MtPnFoa2xFaHYxSXYgPSAkOEl2OwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFRFZTlJIFJwRTlraWtJZiA4SXYgbUVsSS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUR3BFOWtpa0lmMUl2QUVsSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5ScEU5a2l2b1E5cGxtKCRUamtzLT5KSVQxSXZBRWxJKCkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBFcFRRLWttRmhJbEltVGttSiA4SXYgVHZxSS4KICAgICAqCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMUl2SHZxSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT44SXZIdnFJOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBmRVRFIFR2cUkgaVFoIFRqSSBxaGtsRWh2IDhJdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJFR2cUkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVDFJdkh2cUkoJFR2cUkpCiAgICB7CiAgICAgICAgJFRqa3MtPjhJdkh2cUkgPSAkVHZxSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBVRTlwSSBrbWZrRkVUa21KIHVqSVRqSWggVGpJIEtucyBFaEkga21GaElsSW1Ua21KLgogICAgICoKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUS21GaElsSW1Ua21KKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmttRmhJbEltVGttSjsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCB1aklUakloIEtucyBFaEkga21GaElsSW1Ua21KLgogICAgICoKICAgICAqIEBxRWhFbCAgZVFROSAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVRLbUZoSWxJbVRrbUooJFVFOXBJKQogICAgewogICAgICAgICRUamtzLT5rbUZoSWxJbVRrbUogPSAkVUU5cEk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgUWkgVGpJIGxRZkk5J3MgcWhrbEVodiA4SXYuCiAgICAgKgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUMUl2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSSgkVGprcy0+SklUMUl2QUVsSSgpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgUnBJcElFZTlJIGtmSW1Ua1R2IGlRaCBUakkgSW1Ua1R2LgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwSXBJRWU5SUtmKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVDFJdigpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBScElwSUVlOUkgaEk5RVRrUW1zamtxcyBpUWggVGpJIEltVGtUdi4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRHcElwSUVlOUlOSTlFVGtRbXMoKQogICAgewogICAgICAgICRoSTlFVGtRbXMgPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVE5JOUVUa1FtcygpIEVzICQ4SXYgPT4gJGhJOUVUa1FtKSB7CiAgICAgICAgICAgIGtpICghIGxJVGpRZl9JVmtzVHMoJFRqa3MsICQ4SXYpKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGhJOUVUa1Ftc1tdID0gJDhJdjsKCiAgICAgICAgICAgIGtpICgkaEk5RVRrUW0ga21zVEVtRklRaSBHcElwSUVlOUlvUTk5SUZUa1FtKSB7CiAgICAgICAgICAgICAgICBpUWhJRUZqICgkaEk5RVRrUW0tPkpJVEdwSXBJRWU5SU5JOUVUa1FtcygpIEVzICRGUTk5SUZUa1FtQkU5cEkpIHsKICAgICAgICAgICAgICAgICAgICAkaEk5RVRrUW1zW10gPSAkOEl2LicuJy4kRlE5OUlGVGtRbUJFOXBJOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoJGhJOUVUa1FtIGttc1RFbUZJUWkgR3BJcElFZTlJZ21Ua1R2KSB7CiAgICAgICAgICAgICAgICBpUWhJRUZqICgkaEk5RVRrUW0tPkpJVEdwSXBJRWU5SU5JOUVUa1FtcygpIEVzICRJbVRrVHZCRTlwSSkgewogICAgICAgICAgICAgICAgICAgICRoSTlFVGtRbXNbXSA9ICQ4SXYuJy4nLiRJbVRrVHZCRTlwSTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtIEVoaEV2X3Bta1JwSSgkaEk5RVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgUnBJcElFZTlJIEZRbW1JRlRrUW0gaVFoIFRqSSBJbVRrVHYuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUp8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUR3BJcElFZTlJb1FtbUlGVGtRbSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRvUW1tSUZUa1FtQUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBVRTlwSSBRaSBUakkgbFFmSTkncyBoUXBUSSA4SXYuCiAgICAgKgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTlFwVEkxSXYoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUdFRUaGtlcFRJKCRUamtzLT5KSVROUXBUSTFJdkFFbEkoKSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGhRcFRJIDhJdiBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVROUXBUSTFJdkFFbEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUMUl2QUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIGxRZkk5IGlRaCBFIGVRcG1mIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlOUXBUSXJrbWZrbUooJFVFOXBJLCAkaWtJOWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRUamtzLCAkVUU5cEksICRpa0k5ZiktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElzUTlVSU9RaVRuSTlJVEVlOUlOUXBUSXJrbWZrbUooJFVFOXBJLCAkaWtJOWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRUamtzLCAkVUU5cEksICRpa0k5ZiktPnVrVGpIaEVzaklmKCktPmlraHNUKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRoa0lVSSBUakkgRmprOWYgbFFmSTkgaVFoIEUgZVFwbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRGams5Zkh2cUkKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fG1wOTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJc1E5VUlvams5Zk5RcFRJcmttZmttSigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlvams5Zk5RcFRJcmttZmttSkdwSWh2KCRGams5Zkh2cUksICRVRTlwSSwgJGlrSTlmKS0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBGams5ZiBsUWZJOSBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZqazlmSHZxSQogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElzUTlVSU9RaVRuSTlJVEVlOUlvams5Zk5RcFRJcmttZmttSigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmhJc1E5VUlvams5Zk5RcFRJcmttZmttSkdwSWh2KCRGams5Zkh2cUksICRVRTlwSSwgJGlrSTlmKS0+dWtUakhoRXNqSWYoKS0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVGhrSVVJIFRqSSBGams5ZiBsUWZJOSBScElodiBpUWggRSBlUXBtZiBVRTlwSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEZqazlmSHZxSQogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkaWtJOWYKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBoSXNROVVJb2prOWZOUXBUSXJrbWZrbUpHcElodigkRmprOWZIdnFJLCAkVUU5cEksICRpa0k5ZikKICAgIHsKICAgICAgICAkaEk5RVRrUW1zamtxID0gJFRqa3MtPnskVGprcy0+RmprOWZOUXBUSXJrbWZrbUpOSTlFVGtRbXNqa3FBRWxJKCRGams5Zkh2cUkpfSgpOwoKICAgICAgICAkaWtJOWYgPSAkaWtJOWYgPzogJGhJOUVUa1Ftc2prcS0+SklUTkk5RVRJZigpLT5KSVROUXBUSTFJdkFFbEkoKTsKCiAgICAgICAga2kgKCRoSTlFVGtRbXNqa3Ega21zVEVtRklRaSBTRXMzRW12SGpoUXBKaiB8fAogICAgICAgICAgICAkaEk5RVRrUW1zamtxIGttc1RFbUZJUWkgckk5UW1Kc0hRM0VtdikgewogICAgICAgICAgICAkaWtJOWYgPSAkaEk5RVRrUW1zamtxLT5KSVROSTlFVElmKCktPkpJVEhFZTlJKCkuJy4nLiRpa0k5ZjsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkaEk5RVRrUW1zamtxIGttc1RFbUZJUWkgM1FmSTkKICAgICAgICAgICAgPyAkaEk5RVRrUW1zamtxLT5oSXNROVVJTlFwVElya21ma21KR3BJaHYoJGhJOUVUa1Ftc2prcSwgJFVFOXBJLCAkaWtJOWYpCiAgICAgICAgICAgIDogJGhJOUVUa1Ftc2prcS0+SklUTkk5RVRJZigpLT5oSXNROVVJTlFwVElya21ma21KR3BJaHYoJGhJOUVUa1Ftc2prcSwgJFVFOXBJLCAkaWtJOWYpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIEZqazlmIGhRcFRJIGxRZkk5IGVrbWZrbUogaEk5RVRrUW1zamtxIG1FbEkgaVFoIFRqSSBKa1VJbSBGams5ZiBUdnFJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRmprOWZIdnFJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRmprOWZOUXBUSXJrbWZrbUpOSTlFVGtRbXNqa3FBRWxJKCRGams5Zkh2cUkpCiAgICB7CiAgICAgICAgaElUcGhtIE9UaDo6cTlwaEU5KE9UaDo6RkVsSTkoJEZqazlmSHZxSSkpOwogICAgfQoKICAgICsqKgogICAgICogTklUaGtJVUkgVGpJIGxRZkk5IGlRaCBFIGVRcG1mIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8XEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtICAkUnBJaHYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJGlrSTlmCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaElzUTlVSU5RcFRJcmttZmttSkdwSWh2KCRScElodiwgJFVFOXBJLCAkaWtJOWYgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkUnBJaHYtPnVqSWhJKCRpa0k5ZiA/PyAkVGprcy0+SklUTlFwVEkxSXZBRWxJKCksICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGZJaUVwOVQgaVFoSWtKbSA4SXYgbUVsSSBpUWggVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQyUWhJa0ptMUl2KCkKICAgIHsKICAgICAgICBoSVRwaG0gT1RoOjpzbUU4SShGOUVzc19lRXNJbUVsSSgkVGprcykpLidfJy4kVGprcy0+SklUMUl2QUVsSSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBtcGxlSWggUWkgbFFmSTlzIFRRIGhJVHBobSBxSWggcUVKSS4KICAgICAqCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUYUloYUVKSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5xSWhhRUpJOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBtcGxlSWggUWkgbFFmSTlzIFRRIGhJVHBobSBxSWggcUVKSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIGttVCAgJHFJaGFFSkkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVGFJaGFFSkkoJHFJaGFFSkkpCiAgICB7CiAgICAgICAgJFRqa3MtPnFJaGFFSkkgPSAkcUloYUVKSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIDlFV3YgOVFFZmttSiBrcyBma3NFZTlJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBxaElVSW1UczZFV3Y2UUVma21KKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVDZFV3Y2UUVma21KOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIGZrc0ZFaGZrbUogSnBFaGZJZiBFVFRoa2VwVEkgaWs5OXMga3MgZmtzRWU5SWYuCiAgICAgKgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gcWhJVUltVHNPazlJbVQ5dm5rc0ZFaGZrbUp0VFRoa2VwVElzKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVE9rOUltVDl2bmtzRkVoZmttSnRUVGhrZXBUSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRUZGSXNza21KIGxrc3NrbUogRVRUaGtlcFRJcyBrcyBma3NFZTlJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBxaElVSW1Uc3RGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzKCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RFVGtGOjokbFFmSTlzT2pRcDlmYWhJVUltVHRGRklzc2ttSjNrc3NrbUp0VFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBlaFFFZkZFc1QgRmpFbW1JOSBoUXBUSSBmSWlrbWtUa1FtIFRqRVQga3MgRXNzUUZrRVRJZiB1a1RqIFRqSSBKa1VJbSBJbVRrVHYuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGVoUUVmRkVzVG9qRW1tSTlOUXBUSSgpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9oSXE5RUZJKCdcXCcsICcuJywgSklUX0Y5RXNzKCRUamtzKSkuJy57Jy5PVGg6OkZFbEk5KEY5RXNzX2VFc0ltRWxJKCRUamtzKSkuJ30nOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBlaFFFZkZFc1QgRmpFbW1JOSBtRWxJIFRqRVQga3MgRXNzUUZrRVRJZiB1a1RqIFRqSSBKa1VJbSBJbVRrVHYuCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGVoUUVmRkVzVG9qRW1tSTkoKQogICAgewogICAgICAgIGhJVHBobSBzVGhfaElxOUVGSSgnXFwnLCAnLicsIEpJVF9GOUVzcygkVGprcykpLicuJy4kVGprcy0+SklUMUl2KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBudm1FbGtGRTk5diBoSVRoa0lVSSBFVFRoa2VwVElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19KSVQoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSSgkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIG52bUVsa0ZFOTl2IHNJVCBFVFRoa2VwVElzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fc0lUKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkVGprcy0+c0lUdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIEVUVGhrZXBUSSBJVmtzVHMuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFFpaXNJVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaWlzSVRnVmtzVHMoJFFpaXNJVCk6IGVRUTkKICAgIHsKICAgICAgICBUaHYgewogICAgICAgICAgICBoSVRwaG0gISBrc19tcDk5KCRUamtzLT5KSVR0VFRoa2VwVEkoJFFpaXNJVCkpOwogICAgICAgIH0gRkVURmogKDNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW0pIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgaVFoIEUgSmtVSW0gUWlpc0lULgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRRaWlzSVQKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFpaXNJVDBJVCgkUWlpc0lUKTogbGtWSWYKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSSgkUWlpc0lUKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVUU5cEkgaVFoIEUgSmtVSW0gUWlpc0lULgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRRaWlzSVQKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaWlzSVRPSVQoJFFpaXNJVCwgJFVFOXBJKTogVVFrZgogICAgewogICAgICAgICRUamtzLT5zSVR0VFRoa2VwVEkoJFFpaXNJVCwgJFVFOXBJKTsKICAgIH0KCiAgICArKioKICAgICAqIFBtc0lUIFRqSSBVRTlwSSBpUWggRSBKa1VJbSBRaWlzSVQuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFFpaXNJVAogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaWlzSVRQbXNJVCgkUWlpc0lUKTogVVFrZgogICAgewogICAgICAgIHBtc0lUKCRUamtzLT5FVFRoa2VwVElzWyRRaWlzSVRdLCAkVGprcy0+aEk5RVRrUW1zWyRRaWlzSVRdKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFbSBFVFRoa2VwVEkgUWggaEk5RVRrUW0gSVZrc1RzIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX2tzc0lUKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5RaWlzSVRnVmtzVHMoJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBQbXNJVCBFbSBFVFRoa2VwVEkgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fcG1zSVQoJDhJdikKICAgIHsKICAgICAgICAkVGprcy0+UWlpc0lUUG1zSVQoJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBTRW1mOUkgZnZtRWxrRiBsSVRqUWYgRkU5OXMga21UUSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRsSVRqUWYKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZFOTkoJGxJVGpRZiwgJHFFaEVsSVRJaHMpCiAgICB7CiAgICAgICAga2kgKGttX0VoaEV2KCRsSVRqUWYsIFsna21GaElsSW1UJywgJ2ZJRmhJbEltVCcsICdrbUZoSWxJbVRHcGtJVDl2JywgJ2ZJRmhJbEltVEdwa0lUOXYnXSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT4kbElUalFmKC4uLiRxRWhFbElUSWhzKTsKICAgICAgICB9CgogICAgICAgIGtpICgkaElzUTlVSWggPSAkVGprcy0+aEk5RVRrUW1OSXNROVVJaChzVEVUa0Y6OkY5RXNzLCAkbElUalFmKSkgewogICAgICAgICAgICBoSVRwaG0gJGhJc1E5VUloKCRUamtzKTsKICAgICAgICB9CgogICAgICAgIGtpIChPVGg6OnNURWhUc2JrVGooJGxJVGpRZiwgJ1RqaFFwSmonKSAmJgogICAgICAgICAgICBsSVRqUWZfSVZrc1RzKCRUamtzLCAkaEk5RVRrUW0zSVRqUWYgPSBPVGg6OlFpKCRsSVRqUWYpLT5FaVRJaCgnVGpoUXBKaicpLT45RmlraHNUKCktPlRRT1Roa21KKCkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+VGpoUXBKaigkaEk5RVRrUW0zSVRqUWYpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5pUWh1RWhmb0U5OUhRKCRUamtzLT5tSXVHcElodigpLCAkbElUalFmLCAkcUVoRWxJVElocyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBTRW1mOUkgZnZtRWxrRiBzVEVUa0YgbElUalFmIEZFOTlzIGttVFEgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbElUalFmCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIF9fRkU5OU9URVRrRigkbElUalFmLCAkcUVoRWxJVElocykKICAgIHsKICAgICAgICBoSVRwaG0gKG1JdSBzVEVUa0YpLT4kbElUalFmKC4uLiRxRWhFbElUSWhzKTsKICAgIH0KCiAgICArKioKICAgICAqIG9RbVVJaFQgVGpJIGxRZkk5IFRRIGtUcyBzVGhrbUogaElxaElzSW1URVRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fVFFPVGhrbUooKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SXNGRXFJYmpJbW9Fc1RrbUpIUU9UaGttSgogICAgICAgICAgICA/IEkoJFRqa3MtPlRRRHNRbSgpKQogICAgICAgICAgICA6ICRUamtzLT5UUURzUW0oKTsKICAgIH0KCiAgICArKioKICAgICAqIEttZmtGRVRJIFRqRVQgVGpJIFFlTElGVCdzIHNUaGttSiBoSXFoSXNJbVRFVGtRbSBzalFwOWYgZUkgSXNGRXFJZiB1akltIF9fVFFPVGhrbUoga3Mga21VUThJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGVRUTkgICRJc0ZFcUkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIElzRkVxSWJqSW1vRXNUa21KSFFPVGhrbUooJElzRkVxSSA9IFRocEkpCiAgICB7CiAgICAgICAgJFRqa3MtPklzRkVxSWJqSW1vRXNUa21KSFFPVGhrbUogPSAkSXNGRXFJOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBhaElxRWhJIFRqSSBRZUxJRlQgaVFoIHNJaGtFOWtXRVRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19zOUlJcSgpCiAgICB7CiAgICAgICAgJFRqa3MtPmxJaEpJdFRUaGtlcFRJczJoUWxvRUZqSWZvRXNUcygpOwoKICAgICAgICAkVGprcy0+RjlFc3NvRXNUb0VGakkgPSBbXTsKICAgICAgICAkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJID0gW107CgogICAgICAgIGhJVHBobSBFaGhFdl84SXZzKEpJVF9RZUxJRlRfVUVocygkVGprcykpOwogICAgfQoKICAgICsqKgogICAgICogYmpJbSBFIGxRZkk5IGtzIGVJa21KIHBtc0loa0U5a1dJZiwgRmpJRjgga2kga1QgbUlJZnMgVFEgZUkgZVFRVElmLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX191RThJcHEoKQogICAgewogICAgICAgICRUamtzLT5lUVFUS2lBUVRyUVFUSWYoKTsKCiAgICAgICAgJFRqa3MtPmtta1RrRTlrV0lIaEVrVHMoKTsKICAgIH0KfQo=