<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IFgudwogKiDEkMOidiA5w6AgVMOgayBz4bqjbSBG4bunRSBvw5RBMCBIYyBIQVNTIEgzIG5CIEFLQXQuIEJwayA5w7JtSiA4asO0bUogc+G7rSBm4bulbUogOGprIEZqxrBFIMSRxrDhu6NGIHFqw6lxLgogKisKCgptRWxJc3FFRkkgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUW1GSWhtczsKCnBzSSByRUY4SWZnbXBsOwpwc0kgcmhrRjhcM0VUalxya0puSUZrbEU5Owpwc0kgcmhrRjhcM0VUalxnVkZJcVRrUW1cM0VUamdWRklxVGtRbSBFcyByaGtGODNFVGpnVkZJcVRrUW07CnBzSSByaGtGOFwzRVRqXE5RcG1ma21KM1FmSTsKcHNJIG9FaGVRbVxvRWhlUW1LbGxwVEVlOUk7CnBzSSBvRWhlUW1cb0VoZVFtS21USWhpRUZJOwpwc0kgbkVUSUhrbElLbGxwVEVlOUk7CnBzSSBuRVRJSGtsSUttVEloaUVGSTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RFZTlJOwpwc0kgSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcZzlRUnBJbVRcb0VzVHNLbWVRcG1mdFRUaGtlcFRJczsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0c3RoaEV2TWVMSUZUOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvRXNUc1x0c29ROTlJRlRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXHRzZ21GaHZxVElmdGhoRXZNZUxJRlQ7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXHRzZ21GaHZxVElmb1E5OUlGVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb0VzVHNcdHNnbXBsdGhoRXZNZUxJRlQ7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXHRzZ21wbG9ROTlJRlRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9Fc1RzXHRUVGhrZXBUSTsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb0VzVHNcRHNRbTsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcS21VRTlrZm9Fc1RnVkZJcVRrUW07CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXERzUW1nbUZRZmttSmdWRklxVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXE5JOUVUa1FtOwpwc0kgQUtBdFxuRVRFZUVzSVw2RVd2NlFFZmttSkJrUTlFVGtRbWdWRklxVGtRbTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFx0aGg7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcb0VoZVFtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0gRXMgckVzSW9ROTlJRlRrUW07CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcZ1ZGSXFUa1Ftc1wzRVRqZ1ZGSXFUa1FtOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXDJFRkVmSXNcb2h2cVQ7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcMkVGRWZJc1xuRVRJOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXDJFRkVmSXNcU0VzajsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFxPVGg7CnBzSSBLbVVFOWtmdGhKcGxJbVRnVkZJcVRrUW07CnBzSSA2UUprRmdWRklxVGtRbTsKcHNJIE5JaTlJRlRrUW1vOUVzczsKcHNJIE5JaTlJRlRrUW0zSVRqUWY7CnBzSSBOSWk5SUZUa1FtQUVsSWZIdnFJOwpwc0kgTnBtVGtsSWdWRklxVGtRbTsKcHNJIEJFOXBJZ2hoUWg7CgpUaEVrVCBTRXN0VFRoa2VwVElzCnsKICAgICsqKgogICAgICogSGpJIGxRZkk5J3MgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkRVRUaGtlcFRJcyA9IFtdOwoKICAgICsqKgogICAgICogSGpJIGxRZkk5IEVUVGhrZXBUSSdzIFFoa0prbUU5IHNURVRJLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRRaGtKa21FOSA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEZqRW1KSWYgbFFmSTkgRVRUaGtlcFRJcy4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkRmpFbUpJcyA9IFtdOwoKICAgICsqKgogICAgICogSGpJIEVUVGhrZXBUSXMgVGpFVCBzalFwOWYgZUkgRkVzVC4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkRkVzVHMgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBFVFRoa2VwVElzIFRqRVQgakVVSSBlSUltIEZFc1QgcHNrbUogRnBzVFFsIEY5RXNzSXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJEY5RXNzb0VzVG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRVRUaGtlcFRJcyBUakVUIGpFVUkgZUlJbSBGRXNUIHBza21KICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxwVEVUUWhzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRFVFRoa2VwVElvRXNUb0VGakkgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBlcGs5VC1rbSwgcWhrbGtUa1VJIEZFc1QgVHZxSXMgc3BxcVFoVElmIGV2IGc5UVJwSW1ULgogICAgICoKICAgICAqIEBVRWggc1Roa21KW10KICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkcWhrbGtUa1VJb0VzVEh2cUlzID0gWwogICAgICAgICdFaGhFdicsCiAgICAgICAgJ2VRUTknLAogICAgICAgICdlUVE5SUVtJywKICAgICAgICAnRlE5OUlGVGtRbScsCiAgICAgICAgJ0Zwc1RRbF9mRVRJVGtsSScsCiAgICAgICAgJ2ZFVEknLAogICAgICAgICdmRVRJVGtsSScsCiAgICAgICAgJ2ZJRmtsRTknLAogICAgICAgICdmUXBlOUknLAogICAgICAgICdJbUZodnFUSWYnLAogICAgICAgICdJbUZodnFUSWY6RWhoRXYnLAogICAgICAgICdJbUZodnFUSWY6RlE5OUlGVGtRbScsCiAgICAgICAgJ0ltRmh2cVRJZjpMc1FtJywKICAgICAgICAnSW1GaHZxVElmOlFlTElGVCcsCiAgICAgICAgJ2k5UUVUJywKICAgICAgICAnakVzaklmJywKICAgICAgICAna2xscFRFZTlJX2ZFVEknLAogICAgICAgICdrbGxwVEVlOUlfZkVUSVRrbEknLAogICAgICAgICdrbGxwVEVlOUlfRnBzVFFsX2ZFVElUa2xJJywKICAgICAgICAna21UJywKICAgICAgICAna21USUpJaCcsCiAgICAgICAgJ0xzUW0nLAogICAgICAgICdRZUxJRlQnLAogICAgICAgICdoSUU5JywKICAgICAgICAnc1Roa21KJywKICAgICAgICAnVGtsSXNURWxxJywKICAgIF07CgogICAgKyoqCiAgICAgKiBIakkgc1RRaEVKSSBpUWhsRVQgUWkgVGpJIGxRZkk5J3MgZkVUSSBGUTlwbG1zLgogICAgICoKICAgICAqIEBVRWggc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiAkZkVUSTJRaGxFVDsKCiAgICArKioKICAgICAqIEhqSSBFRkZJc3NRaHMgVFEgRXFxSW1mIFRRIFRqSSBsUWZJOSdzIEVoaEV2IGlRaGwuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJEVxcUltZnMgPSBbXTsKCiAgICArKioKICAgICAqIEttZmtGRVRJcyB1aklUakloIEVUVGhrZXBUSXMgRWhJIHNtRThJIEZFc0lmIFFtIEVoaEV2cy4KICAgICAqCiAgICAgKiBAVUVoIGVRUTkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiAkc21FOEl0VFRoa2VwVElzID0gVGhwSTsKCiAgICArKioKICAgICAqIEhqSSBGRUZqSSBRaSBUakkgbHBURVRJZiBFVFRoa2VwVElzIGlRaCBJRUZqIEY5RXNzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiAkbHBURVRRaG9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgRkVGakkgUWkgVGpJICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBscFRFVElmIEVUVGhrZXBUSXMgaVFoIElFRmogRjlFc3MuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRFVFRoa2VwVEkzcFRFVFFob0VGakkgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBGRUZqSSBRaSBUakkgInRUVGhrZXBUSSIgaElUcGhtIFR2cUkgbEVoOElmIGxwVEVUSWYsIEpJVFRFZTlJIEVUVGhrZXBUSXMgaVFoIElFRmogRjlFc3MuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRKSVR0VFRoa2VwVEkzcFRFVFFob0VGakkgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBGRUZqSSBRaSBUakkgInRUVGhrZXBUSSIgaElUcGhtIFR2cUkgbEVoOElmIGxwVEVUSWYsIHNJVFRFZTlJIEVUVGhrZXBUSXMgaVFoIElFRmogRjlFc3MuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRzSVR0VFRoa2VwVEkzcFRFVFFob0VGakkgPSBbXTsKCiAgICArKioKICAgICAqIEhqSSBGRUZqSSBRaSBUakkgRlFtVUloVElmIEZFc1QgVHZxSXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRGRXNUSHZxSW9FRmpJID0gW107CgogICAgKyoqCiAgICAgKiBIakkgSW1GaHZxVEloIGttc1RFbUZJIFRqRVQga3MgcHNJZiBUUSBJbUZodnFUIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQFVFaCBcSzk5cGxrbUVUSVxvUW1UaEVGVHNcZ21GaHZxVGtRbVxnbUZodnFUSWh8bXA5OQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGICRJbUZodnFUSWg7CgogICAgKyoqCiAgICAgKiBLbWtUa0U5a1dJIFRqSSBUaEVrVC4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtta1RrRTlrV0lTRXN0VFRoa2VwVElzKCkKICAgIHsKICAgICAgICAkVGprcy0+RkVzVHMgPSAkVGprcy0+SW1zcGhJb0VzVHN0aElPVGhrbUpCRTlwSXMoCiAgICAgICAgICAgIEVoaEV2X2xJaEpJKCRUamtzLT5GRXNUcywgJFRqa3MtPkZFc1RzKCkpLAogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvUW1VSWhUIFRqSSBsUWZJOSdzIEVUVGhrZXBUSXMgVFEgRW0gRWhoRXYuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRVRUaGtlcFRJc0hRdGhoRXYoKQogICAgewogICAgICAgICsrIEtpIEVtIEVUVGhrZXBUSSBrcyBFIGZFVEksIHVJIHVrOTkgRkVzVCBrVCBUUSBFIHNUaGttSiBFaVRJaCBGUW1VSWhUa21KIGtUCiAgICAgICAgKysgVFEgRSBuRVRJSGtsSSArIG9FaGVRbSBrbXNURW1GSS4gSGprcyBrcyBzUSB1SSB1azk5IEpJVCBzUWxJIEZRbXNrc1RJbVQKICAgICAgICArKyBpUWhsRVRUa21KIHVqazlJIEVGRklzc2ttSiBFVFRoa2VwVElzIFVzLiBFaGhFdmttSiArIERPTUFrbUogRSBsUWZJOS4KICAgICAgICAkRVRUaGtlcFRJcyA9ICRUamtzLT5FZmZuRVRJdFRUaGtlcFRJc0hRdGhoRXYoCiAgICAgICAgICAgICRFVFRoa2VwVElzID0gJFRqa3MtPkpJVHRoaEV2RWU5SXRUVGhrZXBUSXMoKQogICAgICAgICk7CgogICAgICAgICRFVFRoa2VwVElzID0gJFRqa3MtPkVmZjNwVEVUSWZ0VFRoa2VwVElzSFF0aGhFdigKICAgICAgICAgICAgJEVUVGhrZXBUSXMsICRscFRFVElmdFRUaGtlcFRJcyA9ICRUamtzLT5KSVQzcFRFVElmdFRUaGtlcFRJcygpCiAgICAgICAgKTsKCiAgICAgICAgKysgQUlWVCB1SSB1azk5IGpFbWY5SSBFbXYgRkVzVHMgVGpFVCBqRVVJIGVJSW0gc0lUcHEgaVFoIFRqa3MgbFFmSTkgRW1mIEZFc1QKICAgICAgICArKyBUakkgVUU5cElzIFRRIFRqSWtoIEVxcWhRcWhrRVRJIFR2cUkuIEtpIFRqSSBFVFRoa2VwVEkgakVzIEUgbHBURVRRaCB1SQogICAgICAgICsrIHVrOTkgbVFUIHFJaGlRaGwgVGpJIEZFc1QgUW0gVGpRc0kgRVRUaGtlcFRJcyBUUSBFVVFrZiBFbXYgRlFtaXBza1FtLgogICAgICAgICRFVFRoa2VwVElzID0gJFRqa3MtPkVmZm9Fc1R0VFRoa2VwVElzSFF0aGhFdigKICAgICAgICAgICAgJEVUVGhrZXBUSXMsICRscFRFVElmdFRUaGtlcFRJcwogICAgICAgICk7CgogICAgICAgICsrIFNJaEkgdUkgdWs5OSBKaEVlIEU5OSBRaSBUakkgRXFxSW1mSWYsIEZFOUZwOUVUSWYgRVRUaGtlcFRJcyBUUSBUamtzIGxRZkk5CiAgICAgICAgKysgRXMgVGpJc0kgRVRUaGtlcFRJcyBFaEkgbVFUIGhJRTk5diBrbSBUakkgRVRUaGtlcFRJcyBFaGhFdiwgZXBUIEVoSSBocG0KICAgICAgICArKyB1akltIHVJIG1JSWYgVFEgRWhoRXYgUWggRE9NQSBUakkgbFFmSTkgaVFoIEZRbVVJbWtJbUZJIFRRIFRqSSBGUWZJaC4KICAgICAgICBpUWhJRUZqICgkVGprcy0+SklUdGhoRXZFZTlJdHFxSW1mcygpIEVzICQ4SXYpIHsKICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+bHBURVRJdFRUaGtlcFRJMlFodGhoRXYoJDhJdiwgbXA5OSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEVUVGhrZXBUSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgVGpJIGZFVEkgRVRUaGtlcFRJcyBUUSBUakkgRVRUaGtlcFRJcyBFaGhFdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmbkVUSXRUVGhrZXBUSXNIUXRoaEV2KEVoaEV2ICRFVFRoa2VwVElzKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5KSVRuRVRJcygpIEVzICQ4SXYpIHsKICAgICAgICAgICAga2kgKCEga3NzSVQoJEVUVGhrZXBUSXNbJDhJdl0pKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+c0loa0U5a1dJbkVUSSgKICAgICAgICAgICAgICAgICRUamtzLT5Fc25FVElIa2xJKCRFVFRoa2VwVElzWyQ4SXZdKQogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRFVFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIFRqSSBscFRFVElmIEVUVGhrZXBUSXMgVFEgVGpJIEVUVGhrZXBUSXMgRWhoRXYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRscFRFVElmdFRUaGtlcFRJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmM3BURVRJZnRUVGhrZXBUSXNIUXRoaEV2KEVoaEV2ICRFVFRoa2VwVElzLCBFaGhFdiAkbHBURVRJZnRUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJGxwVEVUSWZ0VFRoa2VwVElzIEVzICQ4SXYpIHsKICAgICAgICAgICAgKysgYkkgdUVtVCBUUSBzcWttIFRqaFFwSmogRTk5IFRqSSBscFRFVElmIEVUVGhrZXBUSXMgaVFoIFRqa3MgbFFmSTkgRW1mIEZFOTkKICAgICAgICAgICAgKysgVGpJIGxwVEVUUWggaVFoIFRqSSBFVFRoa2VwVEkuIGJJIEZFRmpJIFFpaSBJVUlodiBscFRFVElmIEVUVGhrZXBUSXMgc1EKICAgICAgICAgICAgKysgdUkgZlFtJ1QgakVVSSBUUSBGUW1zVEVtVDl2IEZqSUY4IFFtIEVUVGhrZXBUSXMgVGpFVCBFRlRwRTk5diBGakVtSkkuCiAgICAgICAgICAgIGtpICghIEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJEVUVGhrZXBUSXMpKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKysgQUlWVCwgdUkgdWs5OSBGRTk5IFRqSSBscFRFVFFoIGlRaCBUamtzIEVUVGhrZXBUSSBzUSBUakVUIHVJIEZFbSBKSVQgVGpJc0kKICAgICAgICAgICAgKysgbHBURVRJZiBFVFRoa2VwVEkncyBFRlRwRTkgVUU5cElzLiB0aVRJaCB1SSBpa21rc2ogbHBURVRrbUogSUVGaiBRaSBUakkKICAgICAgICAgICAgKysgRVRUaGtlcFRJcyB1SSB1azk5IGhJVHBobSBUamtzIGlrbUU5IEVoaEV2IFFpIFRqSSBscFRFVElmIEVUVGhrZXBUSXMuCiAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPmxwVEVUSXRUVGhrZXBUSTJRaHRoaEV2KAogICAgICAgICAgICAgICAgJDhJdiwgJEVUVGhrZXBUSXNbJDhJdl0KICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRVRUaGtlcFRJczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBUakkgRkVzVElmIEVUVGhrZXBUSXMgVFEgVGpJIEVUVGhrZXBUSXMgRWhoRXYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRscFRFVElmdFRUaGtlcFRJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmb0VzVHRUVGhrZXBUSXNIUXRoaEV2KEVoaEV2ICRFVFRoa2VwVElzLCBFaGhFdiAkbHBURVRJZnRUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVG9Fc1RzKCkgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkRVRUaGtlcFRJcykgfHwKICAgICAgICAgICAgICAgIGttX0VoaEV2KCQ4SXYsICRscFRFVElmdFRUaGtlcFRJcykpIHsKICAgICAgICAgICAgICAgIEZRbVRrbXBJOwogICAgICAgICAgICB9CgogICAgICAgICAgICArKyBTSWhJIHVJIHVrOTkgRkVzVCBUakkgRVRUaGtlcFRJLiBIakltLCBraSBUakkgRkVzVCBrcyBFIGZFVEkgUWggZkVUSVRrbEkgRkVzVAogICAgICAgICAgICArKyBUakltIHVJIHVrOTkgc0loa0U5a1dJIFRqSSBmRVRJIGlRaCBUakkgRWhoRXYuIEhqa3MgdWs5OSBGUW1VSWhUIFRqSSBmRVRJcwogICAgICAgICAgICArKyBUUSBzVGhrbUpzIGVFc0lmIFFtIFRqSSBmRVRJIGlRaGxFVCBzcUlGa2lrSWYgaVFoIFRqSXNJIGc5UVJwSW1UIGxRZkk5cy4KICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+RkVzVHRUVGhrZXBUSSgKICAgICAgICAgICAgICAgICQ4SXYsICRFVFRoa2VwVElzWyQ4SXZdCiAgICAgICAgICAgICk7CgogICAgICAgICAgICArKyBLaSBUakkgRVRUaGtlcFRJIEZFc1QgdUVzIEUgZkVUSSBRaCBFIGZFVElUa2xJLCB1SSB1azk5IHNJaGtFOWtXSSBUakkgZkVUSSBFcwogICAgICAgICAgICArKyBFIHNUaGttSi4gSGprcyBFOTlRdXMgVGpJIGZJVUk5UXFJaHMgVFEgRnBzVFFsa1dJIGpRdSBmRVRJcyBFaEkgc0loa0U5a1dJZgogICAgICAgICAgICArKyBrbVRRIEVtIEVoaEV2IHVrVGpRcFQgRWlpSUZUa21KIGpRdSBUakl2IEVoSSBxSWhza3NUSWYga21UUSBUakkgc1RRaEVKSS4KICAgICAgICAgICAga2kgKGtzc0lUKCRFVFRoa2VwVElzWyQ4SXZdKSAmJiBrbV9FaGhFdigkVUU5cEksIFsnZkVUSScsICdmRVRJVGtsSScsICdrbGxwVEVlOUlfZkVUSScsICdrbGxwVEVlOUlfZkVUSVRrbEknXSkpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPnNJaGtFOWtXSW5FVEkoJEVUVGhrZXBUSXNbJDhJdl0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoa3NzSVQoJEVUVGhrZXBUSXNbJDhJdl0pICYmICgkVGprcy0+a3NvcHNUUWxuRVRJSGtsSW9Fc1QoJFVFOXBJKSB8fAogICAgICAgICAgICAgICAgJFRqa3MtPmtzS2xscFRFZTlJb3BzVFFsbkVUSUhrbElvRXNUKCRVRTlwSSkpKSB7CiAgICAgICAgICAgICAgICAkRVRUaGtlcFRJc1skOEl2XSA9ICRFVFRoa2VwVElzWyQ4SXZdLT5pUWhsRVQoSVZxOVFmSSgnOicsICRVRTlwSSwgeClbWF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoJEVUVGhrZXBUSXNbJDhJdl0ga21zVEVtRklRaSBuRVRJSGtsSUttVEloaUVGSSAmJgogICAgICAgICAgICAgICAgJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+c0loa0U5a1dJbkVUSSgkRVRUaGtlcFRJc1skOEl2XSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGtpIChrc3NJVCgkRVRUaGtlcFRJc1skOEl2XSkgJiYgJFRqa3MtPmtzbzlFc3NPSWhrRTlrV0VlOUkoJDhJdikpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPnNJaGtFOWtXSW85RXNzb0VzVEVlOUl0VFRoa2VwVEkoJDhJdiwgJEVUVGhrZXBUSXNbJDhJdl0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoJFRqa3MtPmtzZ21wbG9Fc1RFZTlJKCQ4SXYpICYmICghICgkRVRUaGtlcFRJc1skOEl2XSA/PyBtcDk5KSBrbXNURW1GSVFpIHRoaEV2RWU5SSkpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0ga3NzSVQoJEVUVGhrZXBUSXNbJDhJdl0pID8gJFRqa3MtPkpJVE9UUWhFZTlJZ21wbEJFOXBJKCRUamtzLT5KSVRvRXNUcygpWyQ4SXZdLCAkRVRUaGtlcFRJc1skOEl2XSkgOiBtcDk5OwogICAgICAgICAgICB9CgogICAgICAgICAgICBraSAoJEVUVGhrZXBUSXNbJDhJdl0ga21zVEVtRklRaSB0aGhFdkVlOUkpIHsKICAgICAgICAgICAgICAgICRFVFRoa2VwVElzWyQ4SXZdID0gJEVUVGhrZXBUSXNbJDhJdl0tPlRRdGhoRXYoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRFVFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVUVGhrZXBUSSBFaGhFdiBRaSBFOTkgRWhoRXZFZTlJIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdGhoRXZFZTlJdFRUaGtlcFRJcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0aGhFdkVlOUlLVElscygkVGprcy0+SklUdFRUaGtlcFRJcygpKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFOTkgUWkgVGpJIEVxcUltZkVlOUkgVUU5cElzIFRqRVQgRWhJIEVoaEV2RWU5SS4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVR0aGhFdkVlOUl0cXFJbWZzKCkKICAgIHsKICAgICAgICBraSAoISBGUXBtVCgkVGprcy0+RXFxSW1mcykpIHsKICAgICAgICAgICAgaElUcGhtIFtdOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0aGhFdkVlOUlLVElscygKICAgICAgICAgICAgRWhoRXZfRlFsZWttSSgkVGprcy0+RXFxSW1mcywgJFRqa3MtPkVxcUltZnMpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgbFFmSTkncyBoSTlFVGtRbXNqa3FzIGttIEVoaEV2IGlRaGwuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaEk5RVRrUW1zSFF0aGhFdigpCiAgICB7CiAgICAgICAgJEVUVGhrZXBUSXMgPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVHRoaEV2RWU5SU5JOUVUa1FtcygpIEVzICQ4SXYgPT4gJFVFOXBJKSB7CiAgICAgICAgICAgICsrIEtpIFRqSSBVRTlwSXMga2xxOUlsSW1UIFRqSSB0aGhFdkVlOUkga21USWhpRUZJIHVJIEZFbSBMcHNUIEZFOTkgVGprcwogICAgICAgICAgICArKyBUUXRoaEV2IGxJVGpRZiBRbSBUakkga21zVEVtRklzIHVqa0ZqIHVrOTkgRlFtVUloVCBlUVRqIGxRZkk5cyBFbWYKICAgICAgICAgICAgKysgRlE5OUlGVGtRbXMgVFEgVGpJa2ggcWhRcUloIEVoaEV2IGlRaGwgRW1mIHVJJzk5IHNJVCBUakkgVUU5cElzLgogICAgICAgICAgICBraSAoJFVFOXBJIGttc1RFbUZJUWkgdGhoRXZFZTlJKSB7CiAgICAgICAgICAgICAgICAkaEk5RVRrUW0gPSAkVUU5cEktPlRRdGhoRXYoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKysgS2kgVGpJIFVFOXBJIGtzIG1wOTksIHVJJzk5IHNUazk5IEpRIEVqSUVmIEVtZiBzSVQga1Qga20gVGprcyA5a3NUIFFpCiAgICAgICAgICAgICsrIEVUVGhrZXBUSXMsIHNrbUZJIG1wOTkga3MgcHNJZiBUUSBoSXFoSXNJbVQgSWxxVHYgaEk5RVRrUW1zamtxcyBraQogICAgICAgICAgICArKyBrVCBqRXMgRSBqRXMgUW1JIFFoIGVJOVFtSnMgVFEgVHZxSSBoSTlFVGtRbXNqa3FzIFFtIFRqSSBsUWZJOXMuCiAgICAgICAgICAgIEk5c0lraSAoa3NfbXA5OSgkVUU5cEkpKSB7CiAgICAgICAgICAgICAgICAkaEk5RVRrUW0gPSAkVUU5cEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICsrIEtpIFRqSSBoSTlFVGtRbXNqa3FzIHNtRThJLUZFc2ttSiBrcyBJbUVlOUlmLCB1SSB1azk5IHNtRThJIEZFc0kgVGprcwogICAgICAgICAgICArKyA4SXYgc1EgVGpFVCBUakkgaEk5RVRrUW0gRVRUaGtlcFRJIGtzIHNtRThJIEZFc0lmIGttIFRqa3MgaElUcGhtSWYKICAgICAgICAgICAgKysgRWhoRXYgVFEgVGpJIGZJVUk5UXFJaHMsIGxFOGttSiBUamtzIEZRbXNrc1RJbVQgdWtUaiBFVFRoa2VwVElzLgogICAgICAgICAgICBraSAoc1RFVGtGOjokc21FOEl0VFRoa2VwVElzKSB7CiAgICAgICAgICAgICAgICAkOEl2ID0gT1RoOjpzbUU4SSgkOEl2KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKysgS2kgVGpJIGhJOUVUa1FtIFVFOXBJIGpFcyBlSUltIHNJVCwgdUkgdWs5OSBzSVQga1QgUW0gVGprcyBFVFRoa2VwVElzCiAgICAgICAgICAgICsrIDlrc1QgaVFoIGhJVHBobWttSi4gS2kga1QgdUVzIG1RVCBFaGhFdkVlOUkgUWggbXA5OSwgdUknOTkgbVFUIHNJVAogICAgICAgICAgICArKyBUakkgVUU5cEkgUW0gVGpJIEVoaEV2IGVJRkVwc0kga1Qga3Mgc1FsSSBUdnFJIFFpIGttVUU5a2YgVUU5cEkuCiAgICAgICAgICAgIGtpIChrc3NJVCgkaEk5RVRrUW0pIHx8IGtzX21wOTkoJFVFOXBJKSkgewogICAgICAgICAgICAgICAgJEVUVGhrZXBUSXNbJDhJdl0gPSAkaEk5RVRrUW07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBtc0lUKCRoSTlFVGtRbSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEVUVGhrZXBUSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gRVRUaGtlcFRJIEVoaEV2IFFpIEU5OSBFaGhFdkVlOUkgaEk5RVRrUW1zLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVHRoaEV2RWU5SU5JOUVUa1FtcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVR0aGhFdkVlOUlLVElscygkVGprcy0+aEk5RVRrUW1zKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFVFRoa2VwVEkgRWhoRXYgUWkgRTk5IEVoaEV2RWU5SSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdGhoRXZFZTlJS1RJbHMoRWhoRXYgJFVFOXBJcykKICAgIHsKICAgICAgICBraSAoRlFwbVQoJFRqa3MtPkpJVEJrc2tlOUkoKSkgPiB3KSB7CiAgICAgICAgICAgICRVRTlwSXMgPSBFaGhFdl9rbVRJaHNJRlRfOEl2KCRVRTlwSXMsIEVoaEV2X2k5a3EoJFRqa3MtPkpJVEJrc2tlOUkoKSkpOwogICAgICAgIH0KCiAgICAgICAga2kgKEZRcG1UKCRUamtzLT5KSVRTa2ZmSW0oKSkgPiB3KSB7CiAgICAgICAgICAgICRVRTlwSXMgPSBFaGhFdl9ma2lpXzhJdigkVUU5cElzLCBFaGhFdl9pOWtxKCRUamtzLT5KSVRTa2ZmSW0oKSkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gRVRUaGtlcFRJIGloUWwgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVR0VFRoa2VwVEkoJDhJdikKICAgIHsKICAgICAgICBraSAoISAkOEl2KSB7CiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBFVFRoa2VwVEkgSVZrc1RzIGttIFRqSSBFVFRoa2VwVEkgRWhoRXYgUWggakVzIEUgIkpJVCIgbHBURVRRaCB1SSB1azk5CiAgICAgICAgKysgSklUIFRqSSBFVFRoa2VwVEkncyBVRTlwSS4gTVRqSWh1a3NJLCB1SSB1azk5IHFoUUZJSWYgRXMga2kgVGpJIGZJVUk5UXFJaHMKICAgICAgICArKyBFaEkgRXM4a21KIGlRaCBFIGhJOUVUa1Ftc2prcSdzIFVFOXBJLiBIamtzIEZRVUlocyBlUVRqIFR2cUlzIFFpIFVFOXBJcy4KICAgICAgICBraSAoRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkVGprcy0+RVRUaGtlcFRJcykgfHwKICAgICAgICAgICAgRWhoRXZfOEl2X0lWa3NUcygkOEl2LCAkVGprcy0+RkVzVHMpIHx8CiAgICAgICAgICAgICRUamtzLT5qRXMwSVQzcFRFVFFoKCQ4SXYpIHx8CiAgICAgICAgICAgICRUamtzLT5qRXN0VFRoa2VwVEkzcFRFVFFoKCQ4SXYpIHx8CiAgICAgICAgICAgICRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5KSVR0VFRoa2VwVElCRTlwSSgkOEl2KTsKICAgICAgICB9CgogICAgICAgICsrIFNJaEkgdUkgdWs5OSBmSVRJaGxrbUkga2kgVGpJIGxRZkk5IGVFc0kgRjlFc3Mga1RzSTlpIEZRbVRFa21zIFRqa3MgSmtVSW0gOEl2CiAgICAgICAgKysgc2ttRkkgdUkgZlFtJ1QgdUVtVCBUUSBUaElFVCBFbXYgUWkgVGpRc0kgbElUalFmcyBFcyBoSTlFVGtRbXNqa3FzIGVJRkVwc0kKICAgICAgICArKyBUakl2IEVoSSBFOTkga21USW1mSWYgRXMgakk5cUloIGxJVGpRZnMgRW1mIG1RbUkgUWkgVGpJc0kgRWhJIGhJOUVUa1Ftcy4KICAgICAgICBraSAobElUalFmX0lWa3NUcyhzSTlpOjpGOUVzcywgJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UamhRdTNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW1LaXRxcTlrRkVlOUkoJDhJdik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmtzTkk5RVRrUW0oJDhJdikgfHwgJFRqa3MtPmhJOUVUa1FtNlFFZklmKCQ4SXYpCiAgICAgICAgICAgICAgICAgICAgPyAkVGprcy0+SklUTkk5RVRrUW1CRTlwSSgkOEl2KQogICAgICAgICAgICAgICAgICAgIDogJFRqa3MtPlRqaFF1M2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbUtpdHFxOWtGRWU5SSgkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIGdrVGpJaCBUamhRdSBFIGxrc3NrbUogRVRUaGtlcFRJIElWRklxVGtRbSBRaCBoSVRwaG0gbXA5OSBmSXFJbWZrbUogUW0gZzlRUnBJbVQncyBGUW1pa0pwaEVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIG1wOTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNrc3NrbUp0VFRoa2VwVElnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIFRqaFF1M2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbUtpdHFxOWtGRWU5SSgkOEl2KQogICAgewogICAgICAgIGtpICgkVGprcy0+SVZrc1RzICYmCiAgICAgICAgICAgICEgJFRqa3MtPnVFc05JRkltVDl2b2hJRVRJZiAmJgogICAgICAgICAgICBzVEVUa0Y6OnFoSVVJbVRzdEZGSXNza21KM2tzc2ttSnRUVGhrZXBUSXMoKSkgewogICAgICAgICAgICBraSAoa3NzSVQoc1RFVGtGOjokbGtzc2ttSnRUVGhrZXBUSUJrUTlFVGtRbW9FOTllRUY4KSkgewogICAgICAgICAgICAgICAgaElUcGhtIEZFOTlfcHNJaF9pcG1GKHNURVRrRjo6JGxrc3NrbUp0VFRoa2VwVElCa1E5RVRrUW1vRTk5ZUVGOCwgJFRqa3MsICQ4SXYpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBUamhRdSBtSXUgM2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbSgkVGprcywgJDhJdik7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gbXA5OTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHE5RWttIEVUVGhrZXBUSSAobVFUIEUgaEk5RVRrUW1zamtxKS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUdFRUaGtlcFRJQkU5cEkoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlRoRW1zaVFobDNRZkk5QkU5cEkoJDhJdiwgJFRqa3MtPkpJVHRUVGhrZXBUSTJoUWx0aGhFdigkOEl2KSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gRVRUaGtlcFRJIGloUWwgVGpJICRFVFRoa2VwVElzIEVoaEV2LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVR0VFRoa2VwVEkyaFFsdGhoRXYoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSXMoKVskOEl2XSA/PyBtcDk5OwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgaEk5RVRrUW1zamtxLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVROSTlFVGtRbUJFOXBJKCQ4SXYpCiAgICB7CiAgICAgICAgKysgS2kgVGpJIDhJdiBFOWhJRWZ2IElWa3NUcyBrbSBUakkgaEk5RVRrUW1zamtxcyBFaGhFdiwga1QgTHBzVCBsSUVtcyBUakkKICAgICAgICArKyBoSTlFVGtRbXNqa3EgakVzIEU5aElFZnYgZUlJbSA5UUVmSWYsIHNRIHVJJzk5IExwc1QgaElUcGhtIGtUIFFwVCBRaQogICAgICAgICsrIGpJaEkgZUlGRXBzSSBUakloSSBrcyBtUSBtSUlmIFRRIFJwSWh2IHVrVGprbSBUakkgaEk5RVRrUW1zIFR1a0ZJLgogICAgICAgIGtpICgkVGprcy0+aEk5RVRrUW02UUVmSWYoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5oSTlFVGtRbXNbJDhJdl07CiAgICAgICAgfQoKICAgICAgICBraSAoISAkVGprcy0+a3NOSTlFVGtRbSgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPnFoSVVJbVRzNkVXdjZRRWZrbUopIHsKICAgICAgICAgICAgJFRqa3MtPmpFbWY5STZFV3Y2UUVma21KQmtROUVUa1FtKCQ4SXYpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJICJFVFRoa2VwVEkiIElWa3NUcyBFcyBFIGxJVGpRZiBRbSBUakkgbFFmSTksIHVJIHVrOTkgTHBzVCBFc3NwbEkKICAgICAgICArKyBrVCBrcyBFIGhJOUVUa1Ftc2prcSBFbWYgdWs5OSA5UUVmIEVtZiBoSVRwaG0gaElzcDlUcyBpaFFsIFRqSSBScElodgogICAgICAgICsrIEVtZiBqdmZoRVRJIFRqSSBoSTlFVGtRbXNqa3EncyBVRTlwSSBRbSBUakkgImhJOUVUa1Ftc2prcXMiIEVoaEV2LgogICAgICAgIGhJVHBobSAkVGprcy0+SklUTkk5RVRrUW1zamtxMmhRbDNJVGpRZigkOEl2KTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgSmtVSW0gOEl2IGtzIEUgaEk5RVRrUW1zamtxIGxJVGpRZiBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3NOSTlFVGtRbSgkOEl2KQogICAgewogICAgICAgIGtpICgkVGprcy0+akVzdFRUaGtlcFRJM3BURVRRaCgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gbElUalFmX0lWa3NUcygkVGprcywgJDhJdikgfHwKICAgICAgICAgICAgICAgJFRqa3MtPmhJOUVUa1FtTklzUTlVSWgoc1RFVGtGOjpGOUVzcywgJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiBTRW1mOUkgRSA5RVd2IDlRRWZrbUogVWtROUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBqRW1mOUk2RVd2NlFFZmttSkJrUTlFVGtRbSgkOEl2KQogICAgewogICAgICAgIGtpIChrc3NJVChzVEVUa0Y6OiQ5RVd2NlFFZmttSkJrUTlFVGtRbW9FOTllRUY4KSkgewogICAgICAgICAgICBoSVRwaG0gRkU5OV9wc0loX2lwbUYoc1RFVGtGOjokOUVXdjZRRWZrbUpCa1E5RVRrUW1vRTk5ZUVGOCwgJFRqa3MsICQ4SXYpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgJFRqa3MtPklWa3NUcyB8fCAkVGprcy0+dUVzTklGSW1UOXZvaElFVElmKSB7CiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgIFRqaFF1IG1JdSA2RVd2NlFFZmttSkJrUTlFVGtRbWdWRklxVGtRbSgkVGprcywgJDhJdik7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBoSTlFVGtRbXNqa3EgVUU5cEkgaWhRbCBFIGxJVGpRZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICoKICAgICAqIEBUamhRdXMgXDZRSmtGZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVROSTlFVGtRbXNqa3EyaFFsM0lUalFmKCRsSVRqUWYpCiAgICB7CiAgICAgICAgJGhJOUVUa1FtID0gJFRqa3MtPiRsSVRqUWYoKTsKCiAgICAgICAga2kgKCEgJGhJOUVUa1FtIGttc1RFbUZJUWkgTkk5RVRrUW0pIHsKICAgICAgICAgICAga2kgKGtzX21wOTkoJGhJOUVUa1FtKSkgewogICAgICAgICAgICAgICAgVGpoUXUgbUl1IDZRSmtGZ1ZGSXFUa1FtKHNxaGttVGkoCiAgICAgICAgICAgICAgICAgICAgJyVzOjolcyBscHNUIGhJVHBobSBFIGhJOUVUa1Ftc2prcSBrbXNURW1GSSwgZXBUICJtcDk5IiB1RXMgaElUcGhtSWYuIGJFcyBUakkgImhJVHBobSIgOEl2dVFoZiBwc0lmPycsIHNURVRrRjo6RjlFc3MsICRsSVRqUWYKICAgICAgICAgICAgICAgICkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBUamhRdSBtSXUgNlFKa0ZnVkZJcVRrUW0oc3Foa21UaSgKICAgICAgICAgICAgICAgICclczo6JXMgbHBzVCBoSVRwaG0gRSBoSTlFVGtRbXNqa3Ega21zVEVtRkkuJywgc1RFVGtGOjpGOUVzcywgJGxJVGpRZgogICAgICAgICAgICApKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBURXEoJGhJOUVUa1FtLT5KSVROSXNwOVRzKCksIGlwbUZUa1FtICgkaElzcDlUcykgcHNJICgkbElUalFmKSB7CiAgICAgICAgICAgICRUamtzLT5zSVROSTlFVGtRbSgkbElUalFmLCAkaElzcDlUcyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRSBKSVQgbHBURVRRaCBJVmtzVHMgaVFoIEVtIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXMwSVQzcFRFVFFoKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtIGxJVGpRZl9JVmtzVHMoJFRqa3MsICdKSVQnLk9UaDo6c1RwZjl2KCQ4SXYpLid0VFRoa2VwVEknKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBscFRFVFFoIElWa3NUcyBpUWggRW0gRVRUaGtlcFRJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc3RUVGhrZXBUSTNwVEVUUWgoJDhJdikKICAgIHsKICAgICAgICBraSAoa3NzSVQoc1RFVGtGOjokRVRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdKSkgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjokRVRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgbElUalFmX0lWa3NUcygkVGprcywgJGxJVGpRZiA9IE9UaDo6RkVsSTkoJDhJdikpKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OiRFVFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0gPSBpRTlzSTsKICAgICAgICB9CgogICAgICAgICRoSVRwaG1IdnFJID0gKG1JdSBOSWk5SUZUa1FtM0lUalFmKCRUamtzLCAkbElUalFmKSktPkpJVE5JVHBobUh2cUkoKTsKCiAgICAgICAgaElUcGhtIHNURVRrRjo6JEVUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XSA9CiAgICAgICAgICAgICAgICAgICAgJGhJVHBobUh2cUkga21zVEVtRklRaSBOSWk5SUZUa1FtQUVsSWZIdnFJICYmCiAgICAgICAgICAgICAgICAgICAgJGhJVHBobUh2cUktPkpJVEFFbEkoKSA9PT0gdFRUaGtlcFRJOjpGOUVzczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBKSVQgbHBURVRRaCBJVmtzVHMgaVFoIEVtIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXN0VFRoa2VwVEkwSVQzcFRFVFFoKCQ4SXYpCiAgICB7CiAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JEpJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XSkpIHsKICAgICAgICAgICAgaElUcGhtIHNURVRrRjo6JEpJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XTsKICAgICAgICB9CgogICAgICAgIGtpICghICRUamtzLT5qRXN0VFRoa2VwVEkzcFRFVFFoKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0gPSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRKSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbSklUX0Y5RXNzKCRUamtzKV1bJDhJdl0gPSBrc19GRTk5RWU5SSgkVGprcy0+e09UaDo6RkVsSTkoJDhJdil9KCktPkpJVCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIFVFOXBJIFFpIEVtIEVUVGhrZXBUSSBwc2ttSiBrVHMgbHBURVRRaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBscFRFVEl0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+eydKSVQnLk9UaDo6c1RwZjl2KCQ4SXYpLid0VFRoa2VwVEknfSgkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBVRTlwSSBRaSBFbSAidFRUaGtlcFRJIiBoSVRwaG0gVHZxSSBsRWg4SWYgRVRUaGtlcFRJIHBza21KIGtUcyBscFRFVFFoLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGxwVEVUSXRUVGhrZXBUSTNFaDhJZnRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAga2kgKEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5FVFRoa2VwVElvRXNUb0VGaklbJDhJdl07CiAgICAgICAgfQoKICAgICAgICAkRVRUaGtlcFRJID0gJFRqa3MtPntPVGg6OkZFbEk5KCQ4SXYpfSgpOwoKICAgICAgICAkVUU5cEkgPSBGRTk5X3BzSWhfaXBtRigkRVRUaGtlcFRJLT5KSVQgPzogaXBtRlRrUW0gKCRVRTlwSSkgewogICAgICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgICAgIH0sICRVRTlwSSwgJFRqa3MtPkVUVGhrZXBUSXMpOwoKICAgICAgICBraSAoJEVUVGhrZXBUSS0+dWtUam9FRmprbUogfHwgKGtzX1FlTElGVCgkVUU5cEkpICYmICRFVFRoa2VwVEktPnVrVGpNZUxJRlRvRUZqa21KKSkgewogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJWyQ4SXZdID0gJFVFOXBJOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgIHBtc0lUKCRUamtzLT5FVFRoa2VwVElvRXNUb0VGaklbJDhJdl0pOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgVUU5cEkgUWkgRW0gRVRUaGtlcFRJIHBza21KIGtUcyBscFRFVFFoIGlRaCBFaGhFdiBGUW1VSWhza1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGxwVEVUSXRUVGhrZXBUSTJRaHRoaEV2KCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBraSAoJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+SklUbzlFc3NvRXNURWU5SXRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfSBJOXNJa2kgKGtzc0lUKHNURVRrRjo6JEpJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVtKSVRfRjlFc3MoJFRqa3MpXVskOEl2XSkgJiYKICAgICAgICAgICAgICAgICAgc1RFVGtGOjokSklUdFRUaGtlcFRJM3BURVRRaG9FRmpJW0pJVF9GOUVzcygkVGprcyldWyQ4SXZdID09PSBUaHBJKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRUamtzLT5scFRFVEl0VFRoa2VwVEkzRWg4SWZ0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKTsKCiAgICAgICAgICAgICRVRTlwSSA9ICRVRTlwSSBrbXNURW1GSVFpIG5FVElIa2xJS21USWhpRUZJCiAgICAgICAgICAgICAgICAgICAgICAgID8gJFRqa3MtPnNJaGtFOWtXSW5FVEkoJFVFOXBJKQogICAgICAgICAgICAgICAgICAgICAgICA6ICRVRTlwSTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+bHBURVRJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFVFOXBJIGttc1RFbUZJUWkgdGhoRXZFZTlJID8gJFVFOXBJLT5UUXRoaEV2KCkgOiAkVUU5cEk7CiAgICB9CgogICAgKyoqCiAgICAgKiAzSWhKSSBtSXUgRkVzVHMgdWtUaiBJVmtzVGttSiBGRXNUcyBRbSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZFc1RzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBsSWhKSW9Fc1RzKCRGRXNUcykKICAgIHsKICAgICAgICAkRkVzVHMgPSAkVGprcy0+SW1zcGhJb0VzVHN0aElPVGhrbUpCRTlwSXMoJEZFc1RzKTsKCiAgICAgICAgJFRqa3MtPkZFc1RzID0gRWhoRXZfbEloSkkoJFRqa3MtPkZFc1RzLCAkRkVzVHMpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBnbXNwaEkgVGpFVCBUakkgSmtVSW0gRkVzVHMgRWhJIHNUaGttSnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEZFc1RzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBJbXNwaElvRXNUc3RoSU9UaGttSkJFOXBJcygkRkVzVHMpCiAgICB7CiAgICAgICAgaVFoSUVGaiAoJEZFc1RzIEVzICRFVFRoa2VwVEkgPT4gJEZFc1QpIHsKICAgICAgICAgICAgJEZFc1RzWyRFVFRoa2VwVEldID0gbEVURmogKFRocEkpIHsKICAgICAgICAgICAgICAgIGtzX0VoaEV2KCRGRXNUKSA9PiBVRTlwSShpcG1GVGtRbSAoKSBwc0kgKCRGRXNUKSB7CiAgICAgICAgICAgICAgICAgICAga2kgKEZRcG1UKCRGRXNUKSA9PT0gWCkgewogICAgICAgICAgICAgICAgICAgICAgICBoSVRwaG0gJEZFc1Rbd107CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBbJEZFc1QsICRFaEpwbEltVHNdID0gW0VoaEV2X3Nqa2lUKCRGRXNUKSwgJEZFc1RdOwoKICAgICAgICAgICAgICAgICAgICBoSVRwaG0gJEZFc1QuJzonLmtscTlRZkkoJywnLCAkRWhKcGxJbVRzKTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgZklpRXA5VCA9PiAkRkVzVCwKICAgICAgICAgICAgfTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRkVzVHM7CiAgICB9CgogICAgKyoqCiAgICAgKiBvRXNUIEVtIEVUVGhrZXBUSSBUUSBFIG1FVGtVSSBhU2EgVHZxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRXNUdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkRkVzVEh2cUkgPSAkVGprcy0+SklUb0VzVEh2cUkoJDhJdik7CgogICAgICAgIGtpIChrc19tcDk5KCRVRTlwSSkgJiYga21fRWhoRXYoJEZFc1RIdnFJLCBzVEVUa0Y6OiRxaGtsa1RrVUlvRXNUSHZxSXMpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgOEl2IGtzIFFtSSBRaSBUakkgSW1GaHZxVElmIEZFc1RFZTlJIFR2cUlzLCB1SSc5OSBpa2hzVCBmSUZodnFUCiAgICAgICAgKysgVGpJIFVFOXBJIEVtZiBwcWZFVEkgVGpJIEZFc1QgVHZxSSBzUSB1SSBsRXYgOUlVSWhFSkkgVGpJIGlROTlRdWttSgogICAgICAgICsrIDlRSmtGIGlRaCBGRXNUa21KIFRqa3MgVUU5cEkgVFEgRW12IEVmZmtUa1FtRTk5diBzcUlGa2lrSWYgVHZxSXMuCiAgICAgICAga2kgKCRUamtzLT5rc2dtRmh2cVRJZm9Fc1RFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRUamtzLT5paFFsZ21GaHZxVElmT1Roa21KKCRVRTlwSSk7CgogICAgICAgICAgICAkRkVzVEh2cUkgPSBPVGg6OkVpVEloKCRGRXNUSHZxSSwgJ0ltRmh2cVRJZjonKTsKICAgICAgICB9CgogICAgICAgIHN1a1RGaiAoJEZFc1RIdnFJKSB7CiAgICAgICAgICAgIEZFc0kgJ2ttVCc6CiAgICAgICAgICAgIEZFc0kgJ2ttVElKSWgnOgogICAgICAgICAgICAgICAgaElUcGhtIChrbVQpICRVRTlwSTsKICAgICAgICAgICAgRkVzSSAnaElFOSc6CiAgICAgICAgICAgIEZFc0kgJ2k5UUVUJzoKICAgICAgICAgICAgRkVzSSAnZlFwZTlJJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbDI5UUVUKCRVRTlwSSk7CiAgICAgICAgICAgIEZFc0kgJ2ZJRmtsRTknOgogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5Fc25JRmtsRTkoJFVFOXBJLCBJVnE5UWZJKCc6JywgJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl0sIHgpW1hdKTsKICAgICAgICAgICAgRkVzSSAnc1Roa21KJzoKICAgICAgICAgICAgICAgIGhJVHBobSAoc1Roa21KKSAkVUU5cEk7CiAgICAgICAgICAgIEZFc0kgJ2VRUTknOgogICAgICAgICAgICBGRXNJICdlUVE5SUVtJzoKICAgICAgICAgICAgICAgIGhJVHBobSAoZVFROSkgJFVFOXBJOwogICAgICAgICAgICBGRXNJICdRZUxJRlQnOgogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5paFFsRHNRbSgkVUU5cEksIFRocEkpOwogICAgICAgICAgICBGRXNJICdFaGhFdic6CiAgICAgICAgICAgIEZFc0kgJ0xzUW0nOgogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5paFFsRHNRbSgkVUU5cEkpOwogICAgICAgICAgICBGRXNJICdGUTk5SUZUa1FtJzoKICAgICAgICAgICAgICAgIGhJVHBobSBtSXUgckVzSW9ROTlJRlRrUW0oJFRqa3MtPmloUWxEc1FtKCRVRTlwSSkpOwogICAgICAgICAgICBGRXNJICdmRVRJJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXNuRVRJKCRVRTlwSSk7CiAgICAgICAgICAgIEZFc0kgJ2ZFVElUa2xJJzoKICAgICAgICAgICAgRkVzSSAnRnBzVFFsX2ZFVElUa2xJJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXNuRVRJSGtsSSgkVUU5cEkpOwogICAgICAgICAgICBGRXNJICdrbGxwVEVlOUlfZkVUSSc6CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSSgkVUU5cEkpLT5UUUtsbHBURWU5SSgpOwogICAgICAgICAgICBGRXNJICdrbGxwVEVlOUlfRnBzVFFsX2ZFVElUa2xJJzoKICAgICAgICAgICAgRkVzSSAna2xscFRFZTlJX2ZFVElUa2xJJzoKICAgICAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RXNuRVRJSGtsSSgkVUU5cEkpLT5UUUtsbHBURWU5SSgpOwogICAgICAgICAgICBGRXNJICdUa2xJc1RFbHEnOgogICAgICAgICAgICAgICAgaElUcGhtICRUamtzLT5Fc0hrbElzVEVscSgkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5rc2dtcGxvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVGdtcGxvRXNURWU5SXRUVGhrZXBUSUJFOXBJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVG85RXNzb0VzVEVlOUl0VFRoa2VwVElCRTlwSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIG9Fc1QgVGpJIEprVUltIEVUVGhrZXBUSSBwc2ttSiBFIEZwc1RRbCBGRXNUIEY5RXNzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVG85RXNzb0VzVEVlOUl0VFRoa2VwVElCRTlwSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgJEZFc1RJaCA9ICRUamtzLT5oSXNROVVJb0VzVElobzlFc3MoJDhJdik7CgogICAgICAgICRRZUxJRlRvRUZqa21KbmtzRWU5SWYgPSAkRkVzVEloLT51a1RqUXBUTWVMSUZUb0VGamttSiA/PyBpRTlzSTsKCiAgICAgICAga2kgKGtzc0lUKCRUamtzLT5GOUVzc29Fc1RvRUZqSVskOEl2XSkgJiYgISAkUWVMSUZUb0VGamttSm5rc0VlOUlmKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl07CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJFVFOXBJID0gJEZFc1RJaCBrbXNURW1GSVFpIG9Fc1RzS21lUXBtZnRUVGhrZXBUSXMKICAgICAgICAgICAgICAgID8gJFVFOXBJCiAgICAgICAgICAgICAgICA6ICRGRXNUSWgtPkpJVCgkVGprcywgJDhJdiwgJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcyk7CgogICAgICAgICAgICBraSAoJEZFc1RJaCBrbXNURW1GSVFpIG9Fc1RzS21lUXBtZnRUVGhrZXBUSXMgfHwKICAgICAgICAgICAgICAgICEga3NfUWVMSUZUKCRVRTlwSSkgfHwKICAgICAgICAgICAgICAgICRRZUxJRlRvRUZqa21KbmtzRWU5SWYpIHsKICAgICAgICAgICAgICAgIHBtc0lUKCRUamtzLT5GOUVzc29Fc1RvRUZqSVskOEl2XSk7CiAgICAgICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICAgICAkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogb0VzVCBUakkgSmtVSW0gRVRUaGtlcFRJIFRRIEVtIEltcGwuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUZ21wbG9Fc1RFZTlJdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGtpIChrc19tcDk5KCRVRTlwSSkpIHsKICAgICAgICAgICAgaElUcGhtOwogICAgICAgIH0KCiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl07CgogICAgICAgIGtpICgkVUU5cEkga21zVEVtRklRaSAkRkVzVEh2cUkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+SklUZ21wbG9Fc0kyaFFsQkU5cEkoJEZFc1RIdnFJLCAkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBUdnFJIFFpIEZFc1QgaVFoIEUgbFFmSTkgRVRUaGtlcFRJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUb0VzVEh2cUkoJDhJdikKICAgIHsKICAgICAgICAkRkVzVEh2cUkgPSAkVGprcy0+SklUb0VzVHMoKVskOEl2XTsKCiAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JEZFc1RIdnFJb0VGaklbJEZFc1RIdnFJXSkpIHsKICAgICAgICAgICAgaElUcGhtIHNURVRrRjo6JEZFc1RIdnFJb0VGaklbJEZFc1RIdnFJXTsKICAgICAgICB9CgogICAgICAgIGtpICgkVGprcy0+a3NvcHNUUWxuRVRJSGtsSW9Fc1QoJEZFc1RIdnFJKSkgewogICAgICAgICAgICAkRlFtVUloVElmb0VzVEh2cUkgPSAnRnBzVFFsX2ZFVElUa2xJJzsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzS2xscFRFZTlJb3BzVFFsbkVUSUhrbElvRXNUKCRGRXNUSHZxSSkpIHsKICAgICAgICAgICAgJEZRbVVJaFRJZm9Fc1RIdnFJID0gJ2tsbHBURWU5SV9GcHNUUWxfZkVUSVRrbEknOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+a3NuSUZrbEU5b0VzVCgkRkVzVEh2cUkpKSB7CiAgICAgICAgICAgICRGUW1VSWhUSWZvRXNUSHZxSSA9ICdmSUZrbEU5JzsKICAgICAgICB9IEk5c0lraSAoRjlFc3NfSVZrc1RzKCRGRXNUSHZxSSkpIHsKICAgICAgICAgICAgJEZRbVVJaFRJZm9Fc1RIdnFJID0gJEZFc1RIdnFJOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRGUW1VSWhUSWZvRXNUSHZxSSA9IFRoa2woc1RoVFE5UXVJaCgkRkVzVEh2cUkpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRGRXNUSHZxSW9FRmpJWyRGRXNUSHZxSV0gPSAkRlFtVUloVElmb0VzVEh2cUk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgUWggZklGaElsSW1UIFRqSSBKa1VJbSBFVFRoa2VwVEkgcHNrbUogVGpJIEZwc1RRbCBGRXNUIEY5RXNzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbElUalFmCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSVVrRVRJbzlFc3NvRXNURWU5SXRUVGhrZXBUSSgkbElUalFmLCAkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5oSXNROVVJb0VzVElobzlFc3MoJDhJdiktPnskbElUalFmfSgKICAgICAgICAgICAgJFRqa3MsICQ4SXYsICRVRTlwSSwgJFRqa3MtPkVUVGhrZXBUSXMKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogT0loa0U5a1dJIFRqSSBKa1VJbSBFVFRoa2VwVEkgcHNrbUogVGpJIEZwc1RRbCBGRXNUIEY5RXNzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJaGtFOWtXSW85RXNzb0VzVEVlOUl0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElzUTlVSW9Fc1RJaG85RXNzKCQ4SXYpLT5zSWhrRTlrV0koCiAgICAgICAgICAgICRUamtzLCAkOEl2LCAkVUU5cEksICRUamtzLT5FVFRoa2VwVElzCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgRkVzVCBUdnFJIGtzIEUgRnBzVFFsIGZFVEkgVGtsSSBGRXNULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRkVzVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc29wc1RRbG5FVElIa2xJb0VzVCgkRkVzVCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RoX3NURWhUc191a1RqKCRGRXNULCAnZkVUSTonKSB8fAogICAgICAgICAgICAgICAgc1RoX3NURWhUc191a1RqKCRGRXNULCAnZkVUSVRrbEk6Jyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEZFc1QgVHZxSSBrcyBFbSBrbGxwVEVlOUkgRnBzVFFsIGZFVEkgVGtsSSBGRXNULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRkVzVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc0tsbHBURWU5SW9wc1RRbG5FVElIa2xJb0VzVCgkRkVzVCkKICAgIHsKICAgICAgICBoSVRwaG0gc1RoX3NURWhUc191a1RqKCRGRXNULCAna2xscFRFZTlJX2ZFVEk6JykgfHwKICAgICAgICAgICAgICAgIHNUaF9zVEVoVHNfdWtUaigkRkVzVCwgJ2tsbHBURWU5SV9mRVRJVGtsSTonKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgRkVzVCBUdnFJIGtzIEUgZklGa2xFOSBGRXNULgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRkVzVAogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc25JRmtsRTlvRXNUKCRGRXNUKQogICAgewogICAgICAgIGhJVHBobSBzVGhfc1RFaFRzX3VrVGooJEZFc1QsICdmSUZrbEU5OicpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIEUgSmtVSW0gRVRUaGtlcFRJIFFtIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzSVR0VFRoa2VwVEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgICsrIDJraHNUIHVJIHVrOTkgRmpJRjggaVFoIFRqSSBxaElzSW1GSSBRaSBFIGxwVEVUUWggaVFoIFRqSSBzSVQgUXFJaEVUa1FtCiAgICAgICAgKysgdWprRmogc2tscTl2IDlJVHMgVGpJIGZJVUk5UXFJaHMgVHVJRTggVGpJIEVUVGhrZXBUSSBFcyBrVCBrcyBzSVQgUW0KICAgICAgICArKyBUamtzIGxRZkk5LCBzcEZqIEVzICJMc1FtX0ltRlFma21KIiBFIDlrc1RrbUogUWkgZkVURSBpUWggc1RRaEVKSS4KICAgICAgICBraSAoJFRqa3MtPmpFc09JVDNwVEVUUWgoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5zSVQzcFRFVElmdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmpFc3RUVGhrZXBUSU9JVDNwVEVUUWgoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5zSVR0VFRoa2VwVEkzRWg4SWYzcFRFVElmdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIEVtIEVUVGhrZXBUSSBrcyA5a3NUSWYgRXMgRSAiZkVUSSIsIHVJJzk5IEZRbVVJaFQga1QgaWhRbCBFIG5FVElIa2xJCiAgICAgICAgKysga21zVEVtRkkga21UUSBFIGlRaGwgcWhRcUloIGlRaCBzVFFoRUpJIFFtIFRqSSBmRVRFZUVzSSBURWU5SXMgcHNrbUoKICAgICAgICArKyBUakkgRlFtbUlGVGtRbSBKaEVsbEVoJ3MgZkVUSSBpUWhsRVQuIGJJIHVrOTkgRXBUUSBzSVQgVGpJIFVFOXBJcy4KICAgICAgICBJOXNJa2kgKCEga3NfbXA5OSgkVUU5cEkpICYmICRUamtzLT5rc25FVEl0VFRoa2VwVEkoJDhJdikpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPmloUWxuRVRJSGtsSSgkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCRUamtzLT5rc2dtcGxvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVGprcy0+c0lUZ21wbG9Fc1RFZTlJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CgogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmtzbzlFc3NvRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVGprcy0+c0lUbzlFc3NvRXNURWU5SXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwoKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAga2kgKCEga3NfbXA5OSgkVUU5cEkpICYmICRUamtzLT5rc0RzUW1vRXNURWU5SSgkOEl2KSkgewogICAgICAgICAgICAkVUU5cEkgPSAkVGprcy0+RkVzVHRUVGhrZXBUSXRzRHNRbSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGprcyBFVFRoa2VwVEkgRlFtVEVrbXMgRSBET01BIC0+LCB1SSc5OSBzSVQgVGpJIHFoUXFJaCBVRTlwSSBrbSBUakkKICAgICAgICArKyBFVFRoa2VwVEkncyBwbWZJaDl2a21KIEVoaEV2LiBIamtzIFRFOElzIEZFaEkgUWkgcWhRcUloOXYgbUlzVGttSiBFbQogICAgICAgICsrIEVUVGhrZXBUSSBrbSBUakkgRWhoRXYncyBVRTlwSSBrbSBUakkgRkVzSSBRaSBmSUlxOXYgbUlzVElmIGtUSWxzLgogICAgICAgIGtpIChzVGhfRlFtVEVrbXMoJDhJdiwgJy0+JykpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5pazk5RHNRbXRUVGhrZXBUSSgkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEga3NfbXA5OSgkVUU5cEkpICYmICRUamtzLT5rc2dtRmh2cVRJZm9Fc1RFZTlJKCQ4SXYpKSB7CiAgICAgICAgICAgICRVRTlwSSA9ICRUamtzLT5GRXNUdFRUaGtlcFRJdHNnbUZodnFUSWZPVGhrbUooJDhJdiwgJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJFVFOXBJKSAmJiAkVGprcy0+akVzb0VzVCgkOEl2LCAnakVzaklmJykpIHsKICAgICAgICAgICAgJFVFOXBJID0gJFRqa3MtPkZFc1R0VFRoa2VwVEl0c1NFc2pJZk9UaGttSigkOEl2LCAkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSAkVUU5cEk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBFIHNJVCBscFRFVFFoIElWa3NUcyBpUWggRW0gRVRUaGtlcFRJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc09JVDNwVEVUUWgoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gbElUalFmX0lWa3NUcygkVGprcywgJ3NJVCcuT1RoOjpzVHBmOXYoJDhJdikuJ3RUVGhrZXBUSScpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIEVtICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJIGxFaDhJZiBzSVQgbHBURVRRaCBJVmtzVHMgaVFoIEVtIEVUVGhrZXBUSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBqRXN0VFRoa2VwVElPSVQzcFRFVFFoKCQ4SXYpCiAgICB7CiAgICAgICAgJEY5RXNzID0gSklUX0Y5RXNzKCRUamtzKTsKCiAgICAgICAga2kgKGtzc0lUKHNURVRrRjo6JHNJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVskRjlFc3NdWyQ4SXZdKSkgewogICAgICAgICAgICBoSVRwaG0gc1RFVGtGOjokc0lUdFRUaGtlcFRJM3BURVRRaG9FRmpJWyRGOUVzc11bJDhJdl07CiAgICAgICAgfQoKICAgICAgICBraSAoISBsSVRqUWZfSVZrc1RzKCRUamtzLCAkbElUalFmID0gT1RoOjpGRWxJOSgkOEl2KSkpIHsKICAgICAgICAgICAgaElUcGhtIHNURVRrRjo6JHNJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVskRjlFc3NdWyQ4SXZdID0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICAkaElUcGhtSHZxSSA9IChtSXUgTklpOUlGVGtRbTNJVGpRZigkVGprcywgJGxJVGpRZikpLT5KSVROSVRwaG1IdnFJKCk7CgogICAgICAgIGhJVHBobSBzVEVUa0Y6OiRzSVR0VFRoa2VwVEkzcFRFVFFob0VGaklbJEY5RXNzXVskOEl2XSA9CiAgICAgICAgICAgICAgICAgICAgJGhJVHBobUh2cUkga21zVEVtRklRaSBOSWk5SUZUa1FtQUVsSWZIdnFJICYmCiAgICAgICAgICAgICAgICAgICAgJGhJVHBobUh2cUktPkpJVEFFbEkoKSA9PT0gdFRUaGtlcFRJOjpGOUVzcyAmJgogICAgICAgICAgICAgICAgICAgIGtzX0ZFOTlFZTlJKCRUamtzLT57JGxJVGpRZn0oKS0+c0lUKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVUU5cEkgUWkgRW0gRVRUaGtlcFRJIHBza21KIGtUcyBscFRFVFFoLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIHNJVDNwVEVUSWZ0VFRoa2VwVElCRTlwSSgkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT57J3NJVCcuT1RoOjpzVHBmOXYoJDhJdikuJ3RUVGhrZXBUSSd9KCRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIFVFOXBJIFFpIEUgInRUVGhrZXBUSSIgaElUcGhtIFR2cUkgbEVoOElmIEVUVGhrZXBUSSBwc2ttSiBrVHMgbHBURVRRaC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSVR0VFRoa2VwVEkzRWg4SWYzcFRFVElmdFRUaGtlcFRJQkU5cEkoJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgICRFVFRoa2VwVEkgPSAkVGprcy0+e09UaDo6RkVsSTkoJDhJdil9KCk7CgogICAgICAgICRGRTk5ZUVGOCA9ICRFVFRoa2VwVEktPnNJVCA/OiBpcG1GVGtRbSAoJFVFOXBJKSBwc0kgKCQ4SXYpIHsKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSAkVUU5cEk7CiAgICAgICAgfTsKCiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMgPSBFaGhFdl9sSWhKSSgKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMsCiAgICAgICAgICAgICRUamtzLT5tUWhsRTlrV0lvRXNUbzlFc3NOSXNxUW1zSSgKICAgICAgICAgICAgICAgICQ4SXYsICRGRTk5ZUVGOCgkVUU5cEksICRUamtzLT5FVFRoa2VwVElzKQogICAgICAgICAgICApCiAgICAgICAgKTsKCiAgICAgICAga2kgKCRFVFRoa2VwVEktPnVrVGpvRUZqa21KIHx8IChrc19RZUxJRlQoJFVFOXBJKSAmJiAkRVRUaGtlcFRJLT51a1RqTWVMSUZUb0VGamttSikpIHsKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSVskOEl2XSA9ICRVRTlwSTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICBwbXNJVCgkVGprcy0+RVRUaGtlcFRJb0VzVG9FRmpJWyQ4SXZdKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgSmtVSW0gRVRUaGtlcFRJIGtzIEUgZkVUSSBRaCBmRVRJIEZFc1RFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzbkVUSXRUVGhrZXBUSSgkOEl2KQogICAgewogICAgICAgIGhJVHBobSBrbV9FaGhFdigkOEl2LCAkVGprcy0+SklUbkVUSXMoKSwgVGhwSSkgfHwKICAgICAgICAgICAgJFRqa3MtPmtzbkVUSW9Fc1RFZTlJKCQ4SXYpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIEUgSmtVSW0gRE9NQSBFVFRoa2VwVEkgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrOTlEc1FtdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBbJDhJdiwgJHFFVGpdID0gSVZxOVFmSSgnLT4nLCAkOEl2LCB4KTsKCiAgICAgICAgJFVFOXBJID0gJFRqa3MtPkVzRHNRbSgkVGprcy0+SklUdGhoRXZ0VFRoa2VwVElia1RqQkU5cEkoCiAgICAgICAgICAgICRxRVRqLCAkOEl2LCAkVUU5cEkKICAgICAgICApKTsKCiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSAkVGprcy0+a3NnbUZodnFUSWZvRXNURWU5SSgkOEl2KQogICAgICAgICAgICA/ICRUamtzLT5GRXNUdFRUaGtlcFRJdHNnbUZodnFUSWZPVGhrbUooJDhJdiwgJFVFOXBJKQogICAgICAgICAgICA6ICRVRTlwSTsKCiAgICAgICAga2kgKCRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgcG1zSVQoJFRqa3MtPkY5RXNzb0VzVG9FRmpJWyQ4SXZdKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgVUU5cEkgUWkgRSBGOUVzcyBGRXNURWU5SSBFVFRoa2VwVEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSVRvOUVzc29Fc1RFZTlJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkRkVzVEloID0gJFRqa3MtPmhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KTsKCiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXMgPSBFaGhFdl9oSXE5RUZJKAogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJcywKICAgICAgICAgICAgJFRqa3MtPm1RaGxFOWtXSW9Fc1RvOUVzc05Jc3FRbXNJKCQ4SXYsICRGRXNUSWgtPnNJVCgKICAgICAgICAgICAgICAgICRUamtzLCAkOEl2LCAkVUU5cEksICRUamtzLT5FVFRoa2VwVElzCiAgICAgICAgICAgICkpCiAgICAgICAgKTsKCiAgICAgICAga2kgKCRGRXNUSWgga21zVEVtRklRaSBvRXNUc0ttZVFwbWZ0VFRoa2VwVElzIHx8CiAgICAgICAgICAgICEga3NfUWVMSUZUKCRVRTlwSSkgfHwKICAgICAgICAgICAgKCRGRXNUSWgtPnVrVGpRcFRNZUxJRlRvRUZqa21KID8/IGlFOXNJKSkgewogICAgICAgICAgICBwbXNJVCgkVGprcy0+RjlFc3NvRXNUb0VGaklbJDhJdl0pOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5GOUVzc29Fc1RvRUZqSVskOEl2XSA9ICRVRTlwSTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBPSVQgVGpJIFVFOXBJIFFpIEVtIEltcGwgRkVzVEVlOUkgRVRUaGtlcFRJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIFxQbWtUZ21wbHxzVGhrbUp8a21UICAkVUU5cEkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gc0lUZ21wbG9Fc1RFZTlJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICAkSW1wbG85RXNzID0gJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl07CgogICAgICAgIGtpICghIGtzc0lUKCRVRTlwSSkpIHsKICAgICAgICAgICAgJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0gPSBtcDk5OwogICAgICAgIH0gSTlzSWtpIChrc19RZUxJRlQoJFVFOXBJKSkgewogICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJc1skOEl2XSA9ICRUamtzLT5KSVRPVFFoRWU5SWdtcGxCRTlwSSgkSW1wbG85RXNzLCAkVUU5cEkpOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzWyQ4SXZdID0gJFRqa3MtPkpJVE9UUWhFZTlJZ21wbEJFOXBJKAogICAgICAgICAgICAgICAgJEltcGxvOUVzcywgJFRqa3MtPkpJVGdtcGxvRXNJMmhRbEJFOXBJKCRJbXBsbzlFc3MsICRVRTlwSSkKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRW0gSW1wbCBGRXNJIGttc1RFbUZJIGloUWwgRSBKa1VJbSBGOUVzcyBFbWYgVUU5cEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRJbXBsbzlFc3MKICAgICAqIEBxRWhFbCAgc1Roa21KfGttVCAgJFVFOXBJCiAgICAgKiBAaElUcGhtIFxQbWtUZ21wbHxcckVGOElmZ21wbAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUZ21wbG9Fc0kyaFFsQkU5cEkoJEltcGxvOUVzcywgJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBrc19zcGVGOUVzc19RaSgkSW1wbG85RXNzLCByRUY4SWZnbXBsOjpGOUVzcykKICAgICAgICAgICAgICAgID8gJEltcGxvOUVzczo6aWhRbCgkVUU5cEkpCiAgICAgICAgICAgICAgICA6IEZRbXNURW1UKCRJbXBsbzlFc3MuJzo6Jy4kVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBzVFFoRWU5SSBVRTlwSSBpaFFsIFRqSSBKa1VJbSBJbXBsLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkSVZxSUZUSWZnbXBsCiAgICAgKiBAcUVoRWwgIFxQbWtUZ21wbHxcckVGOElmZ21wbCAgJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSnxrbVQKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVE9UUWhFZTlJZ21wbEJFOXBJKCRJVnFJRlRJZmdtcGwsICRVRTlwSSkKICAgIHsKICAgICAgICBraSAoISAkVUU5cEkga21zVEVtRklRaSAkSVZxSUZUSWZnbXBsKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBCRTlwSWdoaFFoKHNxaGttVGkoJ0JFOXBJIFslc10ga3MgbVFUIFFpIFRqSSBJVnFJRlRJZiBJbXBsIFR2cUkgWyVzXS4nLCBVRWhfSVZxUWhUKCRVRTlwSSwgVGhwSSksICRJVnFJRlRJZmdtcGwpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cEkga21zVEVtRklRaSByRUY4SWZnbXBsCiAgICAgICAgICAgICAgICA/ICRVRTlwSS0+VUU5cEkKICAgICAgICAgICAgICAgIDogJFVFOXBJLT5tRWxJOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVoaEV2IEVUVGhrZXBUSSB1a1RqIFRqSSBKa1VJbSA4SXYgRW1mIFVFOXBJIHNJVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHFFVGoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEpJVHRoaEV2dFRUaGtlcFRJYmtUakJFOXBJKCRxRVRqLCAkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIFRFcSgkVGprcy0+SklUdGhoRXZ0VFRoa2VwVElydjFJdigkOEl2KSwgaXBtRlRrUW0gKCYkRWhoRXYpIHBzSSAoJHFFVGosICRVRTlwSSkgewogICAgICAgICAgICB0aGg6OnNJVCgkRWhoRXYsIHNUaF9oSXE5RUZJKCctPicsICcuJywgJHFFVGopLCAkVUU5cEkpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogMElUIEVtIEVoaEV2IEVUVGhrZXBUSSBRaCBoSVRwaG0gRW0gSWxxVHYgRWhoRXYga2kga1Qga3MgbVFUIHNJVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUdGhoRXZ0VFRoa2VwVElydjFJdigkOEl2KQogICAgewogICAgICAgIGtpICghIGtzc0lUKCRUamtzLT5FVFRoa2VwVElzWyQ4SXZdKSkgewogICAgICAgICAgICBoSVRwaG0gW107CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxEc1FtKAogICAgICAgICAgICAkVGprcy0+a3NnbUZodnFUSWZvRXNURWU5SSgkOEl2KQogICAgICAgICAgICAgICAgPyAkVGprcy0+aWhRbGdtRmh2cVRJZk9UaGttSigkVGprcy0+RVRUaGtlcFRJc1skOEl2XSkKICAgICAgICAgICAgICAgIDogJFRqa3MtPkVUVGhrZXBUSXNbJDhJdl0KICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogb0VzVCBUakkgSmtVSW0gRVRUaGtlcFRJIFRRIERPTUEuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZFc1R0VFRoa2VwVEl0c0RzUW0oJDhJdiwgJFVFOXBJKQogICAgewogICAgICAgICRVRTlwSSA9ICRUamtzLT5Fc0RzUW0oJFVFOXBJKTsKCiAgICAgICAga2kgKCRVRTlwSSA9PT0gaUU5c0kpIHsKICAgICAgICAgICAgVGpoUXUgRHNRbWdtRlFma21KZ1ZGSXFUa1FtOjppUWh0VFRoa2VwVEkoCiAgICAgICAgICAgICAgICAkVGprcywgJDhJdiwgTHNRbV85RXNUX0loaFFoX2xzSigpCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFVFOXBJOwogICAgfQoKICAgICsqKgogICAgICogZ21GUWZJIFRqSSBKa1VJbSBVRTlwSSBFcyBET01BLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVzRHNRbSgkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIERzUW06OkltRlFmSSgkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogbklGUWZJIFRqSSBKa1VJbSBET01BIGVFRjgga21UUSBFbSBFaGhFdiBRaCBRZUxJRlQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRVRTlwSQogICAgICogQHFFaEVsICBlUVE5ICAkRXNNZUxJRlQKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxEc1FtKCRVRTlwSSwgJEVzTWVMSUZUID0gaUU5c0kpCiAgICB7CiAgICAgICAgaElUcGhtIERzUW06OmZJRlFmSSgkVUU5cEkgPz8gJycsICEgJEVzTWVMSUZUKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRmh2cVQgVGpJIEprVUltIEltRmh2cVRJZiBzVGhrbUouCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRVRTlwSQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhRbGdtRmh2cVRJZk9UaGttSigkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6RnBoaEltVGdtRmh2cVRJaCgpLT5mSUZodnFUKCRVRTlwSSwgaUU5c0kpOwogICAgfQoKICAgICsqKgogICAgICogb0VzVCBUakkgSmtVSW0gRVRUaGtlcFRJIFRRIEVtIEltRmh2cVRJZiBzVGhrbUouCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUoKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZFc1R0VFRoa2VwVEl0c2dtRmh2cVRJZk9UaGttSigkOEl2LCAkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6RnBoaEltVGdtRmh2cVRJaCgpLT5JbUZodnFUKCRVRTlwSSwgaUU5c0kpOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBJbUZodnFUSWgga21zVEVtRkkgVGpFVCB1azk5IGVJIHBzSWYgVFEgSW1GaHZxVCBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXGdtRmh2cVRrUW1cZ21GaHZxVElofG1wOTkgICRJbUZodnFUSWgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEltRmh2cVRQc2ttSigkSW1GaHZxVEloKQogICAgewogICAgICAgIHNURVRrRjo6JEltRmh2cVRJaCA9ICRJbUZodnFUSWg7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEZwaGhJbVQgSW1GaHZxVEloIGVJa21KIHBzSWYgZXYgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gXEs5OXBsa21FVElcb1FtVGhFRlRzXGdtRmh2cVRrUW1cZ21GaHZxVEloCiAgICAgKisKICAgIHFoUVRJRlRJZiBzVEVUa0YgaXBtRlRrUW0gRnBoaEltVGdtRmh2cVRJaCgpCiAgICB7CiAgICAgICAgaElUcGhtIHNURVRrRjo6JEltRmh2cVRJaCA/PyBvaHZxVDo6SklUMkVGRWZJTlFRVCgpOwogICAgfQoKICAgICsqKgogICAgICogb0VzVCBUakkgSmtVSW0gRVRUaGtlcFRJIFRRIEUgakVzaklmIHNUaGttSi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRkVzVHRUVGhrZXBUSXRzU0VzaklmT1Roa21KKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBraSAoJFVFOXBJID09PSBtcDk5KSB7CiAgICAgICAgICAgIGhJVHBobSBtcDk5OwogICAgICAgIH0KCiAgICAgICAga2kgKCEgU0Vzajo6a3NTRXNqSWYoJFVFOXBJKSkgewogICAgICAgICAgICBoSVRwaG0gU0Vzajo6bEU4SSgkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgU0Vzajo6VUloa2l2b1FtaWtKcGhFVGtRbSgkVUU5cEkpKSB7CiAgICAgICAgICAgIFRqaFF1IG1JdSBOcG1Ua2xJZ1ZGSXFUa1FtKCJvUXA5ZiBtUVQgVUloa2l2IFRqSSBqRXNqSWYgVUU5cEkncyBGUW1pa0pwaEVUa1FtLiIpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSTsKICAgIH0KCiAgICArKioKICAgICAqIG5JRlFmSSBUakkgSmtVSW0gaTlRRVQuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpaFFsMjlRRVQoJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSBsRVRGaiAoKHNUaGttSikgJFVFOXBJKSB7CiAgICAgICAgICAgICdLbWlrbWtUdicgPT4gS0EyLAogICAgICAgICAgICAnLUttaWtta1R2JyA9PiAtS0EyLAogICAgICAgICAgICAnQUVBJyA9PiBBdEEsCiAgICAgICAgICAgIGZJaUVwOVQgPT4gKGk5UUVUKSAkVUU5cEksCiAgICAgICAgfTsKICAgIH0KCiAgICArKioKICAgICAqIE5JVHBobSBFIGZJRmtsRTkgRXMgc1Roa21KLgogICAgICoKICAgICAqIEBxRWhFbCAgaTlRRVR8c1Roa21KICAkVUU5cEkKICAgICAqIEBxRWhFbCAga21UICAkZklGa2xFOXMKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFc25JRmtsRTkoJFVFOXBJLCAkZklGa2xFOXMpCiAgICB7CiAgICAgICAgVGh2IHsKICAgICAgICAgICAgaElUcGhtIChzVGhrbUopIHJrSm5JRmtsRTk6OlFpKCRVRTlwSSktPlRRT0ZFOUkoJGZJRmtsRTlzLCBOUXBtZmttSjNRZkk6OlN0NjJfUGEpOwogICAgICAgIH0gRkVURmogKHJoa0Y4M0VUamdWRklxVGtRbSAkSSkgewogICAgICAgICAgICBUamhRdSBtSXUgM0VUamdWRklxVGtRbSgnUG1FZTlJIFRRIEZFc1QgVUU5cEkgVFEgRSBmSUZrbEU5LicsIHFoSVVrUXBzOiAkSSk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIEUgVGtsSXNURWxxIEVzIG5FVElIa2xJIFFlTElGVCB1a1RqIFRrbEkgc0lUIFRRIHd3Ond3Ond3LgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXG9FaGVRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRXNuRVRJKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSUhrbEkoJFVFOXBJKS0+c1RFaFRNaW5FdigpOwogICAgfQoKICAgICsqKgogICAgICogTklUcGhtIEUgVGtsSXNURWxxIEVzIG5FVElIa2xJIFFlTElGVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gXEs5OXBsa21FVElcT3BxcVFoVFxvRWhlUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVzbkVUSUhrbEkoJFVFOXBJKQogICAgewogICAgICAgICsrIEtpIFRqa3MgVUU5cEkga3MgRTloSUVmdiBFIG9FaGVRbSBrbXNURW1GSSwgdUkgc2pFOTkgTHBzVCBoSVRwaG0ga1QgRXMga3MuCiAgICAgICAgKysgSGprcyBxaElVSW1UcyBwcyBqRVVrbUogVFEgaEkta21zVEVtVGtFVEkgRSBvRWhlUW0ga21zVEVtRkkgdWpJbSB1SSA4bVF1CiAgICAgICAgKysga1QgRTloSUVmdiBrcyBRbUksIHVqa0ZqIHVRcDlmbSdUIGVJIGlwOWlrOTlJZiBldiBUakkgbkVUSUhrbEkgRmpJRjguCiAgICAgICAga2kgKCRVRTlwSSBrbXNURW1GSVFpIG9FaGVRbUttVEloaUVGSSkgewogICAgICAgICAgICBoSVRwaG0gbkVUSTo6a21zVEVtRkkoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgICsrIEtpIFRqSSBVRTlwSSBrcyBFOWhJRWZ2IEUgbkVUSUhrbEkga21zVEVtRkksIHVJIHVrOTkgTHBzVCBzOGtxIFRqSSBoSXNUIFFpCiAgICAgICAgKysgVGpJc0kgRmpJRjhzIHNrbUZJIFRqSXYgdWs5OSBlSSBFIHVFc1RJIFFpIFRrbEksIEVtZiBqa21mSWggcUloaVFobEVtRkkKICAgICAgICArKyB1akltIEZqSUY4a21KIFRqSSBpa0k5Zi4gYkkgdWs5OSBMcHNUIGhJVHBobSBUakkgbkVUSUhrbEkgaGtKalQgRXVFdi4KICAgICAgICBraSAoJFVFOXBJIGttc1RFbUZJUWkgbkVUSUhrbElLbVRJaGlFRkkpIHsKICAgICAgICAgICAgaElUcGhtIG5FVEk6OnFFaHNJKAogICAgICAgICAgICAgICAgJFVFOXBJLT5pUWhsRVQoJ2MtbC1mIFM6azpzLnAnKSwgJFVFOXBJLT5KSVRIa2xJV1FtSSgpCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUamtzIFVFOXBJIGtzIEVtIGttVElKSWgsIHVJIHVrOTkgRXNzcGxJIGtUIGtzIEUgUEFLQyBUa2xJc1RFbHEncyBVRTlwSQogICAgICAgICsrIEVtZiBpUWhsRVQgRSBvRWhlUW0gUWVMSUZUIGloUWwgVGprcyBUa2xJc1RFbHEuIEhqa3MgRTk5UXVzIGk5SVZrZWs5a1R2CiAgICAgICAgKysgdWpJbSBmSWlrbWttSiB2UXBoIGZFVEkgaWtJOWZzIEVzIFRqSXYgbGtKalQgZUkgUEFLQyBUa2xJc1RFbHFzIGpJaEkuCiAgICAgICAga2kgKGtzX21wbEloa0YoJFVFOXBJKSkgewogICAgICAgICAgICBoSVRwaG0gbkVUSTo6RmhJRVRJMmhRbEhrbElzVEVscSgkVUU5cEkpOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgVGpJIFVFOXBJIGtzIGttIHNrbHE5diB2SUVoLCBsUW1UaiwgZkV2IGlRaGxFVCwgdUkgdWs5OSBrbXNURW1Ua0VUSSBUakkKICAgICAgICArKyBvRWhlUW0ga21zVEVtRklzIGloUWwgVGpFVCBpUWhsRVQuIHRKRWttLCBUamtzIHFoUVVrZklzIGlRaCBza2xxOUkgZkVUSQogICAgICAgICsrIGlrSTlmcyBRbSBUakkgZkVURWVFc0ksIHVqazlJIHNUazk5IHNwcXFRaFRrbUogb0VoZVFta1dJZiBGUW1VSWhza1FtLgogICAgICAgIGtpICgkVGprcy0+a3NPVEVtZkVoZm5FVEkyUWhsRVQoJFVFOXBJKSkgewogICAgICAgICAgICBoSVRwaG0gbkVUSTo6a21zVEVtRkkob0VoZVFtOjpGaElFVEkyaFFsMlFobEVUKCdjLWwtZicsICRVRTlwSSktPnNURWhUTWluRXYoKSk7CiAgICAgICAgfQoKICAgICAgICAkaVFobEVUID0gJFRqa3MtPkpJVG5FVEkyUWhsRVQoKTsKCiAgICAgICAgKysgMmttRTk5diwgdUkgdWs5OSBMcHNUIEVzc3BsSSBUamtzIGZFVEkga3Mga20gVGpJIGlRaGxFVCBwc0lmIGV2IGZJaUVwOVQgUW0KICAgICAgICArKyBUakkgZkVURWVFc0kgRlFtbUlGVGtRbSBFbWYgcHNJIFRqRVQgaVFobEVUIFRRIEZoSUVUSSBUakkgb0VoZVFtIFFlTElGVAogICAgICAgICsrIFRqRVQga3MgaElUcGhtSWYgZUVGOCBRcFQgVFEgVGpJIGZJVUk5UXFJaHMgRWlUSWggdUkgRlFtVUloVCBrVCBqSWhJLgogICAgICAgIFRodiB7CiAgICAgICAgICAgICRmRVRJID0gbkVUSTo6RmhJRVRJMmhRbDJRaGxFVCgkaVFobEVULCAkVUU5cEkpOwogICAgICAgIH0gRkVURmogKEttVUU5a2Z0aEpwbEltVGdWRklxVGtRbSkgewogICAgICAgICAgICAkZkVUSSA9IGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRmRVRJID86IG5FVEk6OnFFaHNJKCRVRTlwSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIEprVUltIFVFOXBJIGtzIEUgc1RFbWZFaGYgZkVUSSBpUWhsRVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRVRTlwSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc09URW1mRWhmbkVUSTJRaGxFVCgkVUU5cEkpCiAgICB7CiAgICAgICAgaElUcGhtIHFoSUpfbEVURmooJyteKFxme3l9KS0oXGZ7WCx4fSktKFxme1gseH0pJCsnLCAkVUU5cEkpOwogICAgfQoKICAgICsqKgogICAgICogb1FtVUloVCBFIG5FVElIa2xJIFRRIEUgc1RRaEVlOUkgc1Roa21KLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSBzVGhrbUp8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWhRbG5FVElIa2xJKCRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0gSWxxVHYoJFVFOXBJKSA/ICRVRTlwSSA6ICRUamtzLT5Fc25FVElIa2xJKCRVRTlwSSktPmlRaGxFVCgKICAgICAgICAgICAgJFRqa3MtPkpJVG5FVEkyUWhsRVQoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG0gRSBUa2xJc1RFbHEgRXMgcG1rViBUa2xJc1RFbHEuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRXNIa2xJc1RFbHEoJFVFOXBJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RXNuRVRJSGtsSSgkVUU5cEkpLT5KSVRIa2xJc1RFbHEoKTsKICAgIH0KCiAgICArKioKICAgICAqIGFoSXFFaEkgRSBmRVRJIGlRaCBFaGhFdiArIERPTUEgc0loa0U5a1dFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxuRVRJSGtsSUttVEloaUVGSSAgJGZFVEkKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBzSWhrRTlrV0luRVRJKG5FVElIa2xJS21USWhpRUZJICRmRVRJKQogICAgewogICAgICAgIGhJVHBobSAkZkVUSSBrbXNURW1GSVFpIG5FVElIa2xJS2xscFRFZTlJID8KICAgICAgICAgICAgb0VoZVFtS2xscFRFZTlJOjprbXNURW1GSSgkZkVUSSktPlRRRE9NQSgpIDoKICAgICAgICAgICAgb0VoZVFtOjprbXNURW1GSSgkZkVUSSktPlRRRE9NQSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBFVFRoa2VwVElzIFRqRVQgc2pRcDlmIGVJIEZRbVVJaFRJZiBUUSBmRVRJcy4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRuRVRJcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5wc0lzSGtsSXNURWxxcygpID8gWwogICAgICAgICAgICAkVGprcy0+SklUb2hJRVRJZnRUb1E5cGxtKCksCiAgICAgICAgICAgICRUamtzLT5KSVRQcWZFVElmdFRvUTlwbG0oKSwKICAgICAgICBdIDogW107CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGlRaGxFVCBpUWggZkVURWVFc0kgc1RRaElmIGZFVElzLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRuRVRJMlFobEVUKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmZFVEkyUWhsRVQgPzogJFRqa3MtPkpJVG9RbW1JRlRrUW0oKS0+SklUR3BJaHYwaEVsbEVoKCktPkpJVG5FVEkyUWhsRVQoKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgZkVUSSBpUWhsRVQgcHNJZiBldiBUakkgbFFmSTkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRpUWhsRVQKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVG5FVEkyUWhsRVQoJGlRaGxFVCkKICAgIHsKICAgICAgICAkVGprcy0+ZkVUSTJRaGxFVCA9ICRpUWhsRVQ7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSB1aklUakloIEVtIEVUVGhrZXBUSSBzalFwOWYgZUkgRkVzVCBUUSBFIG1FVGtVSSBUdnFJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSnxtcDk5ICAkVHZxSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzb0VzVCgkOEl2LCAkVHZxSXMgPSBtcDk5KQogICAgewogICAgICAgIGtpIChFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRUamtzLT5KSVRvRXNUcygpKSkgewogICAgICAgICAgICBoSVRwaG0gJFR2cUlzID8ga21fRWhoRXYoJFRqa3MtPkpJVG9Fc1RIdnFJKCQ4SXYpLCAoRWhoRXYpICRUdnFJcywgVGhwSSkgOiBUaHBJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtIGlFOXNJOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBFVFRoa2VwVElzIFRqRVQgc2pRcDlmIGVJIEZFc1QuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUb0VzVHMoKQogICAgewogICAgICAgIGtpICgkVGprcy0+SklUS21GaElsSW1Ua21KKCkpIHsKICAgICAgICAgICAgaElUcGhtIEVoaEV2X2xJaEpJKFskVGprcy0+SklUMUl2QUVsSSgpID0+ICRUamtzLT5KSVQxSXZIdnFJKCldLCAkVGprcy0+RkVzVHMpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5GRXNUczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRVRUaGtlcFRJcyBUakVUIHNqUXA5ZiBlSSBGRXNULgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEZFc1RzKCkKICAgIHsKICAgICAgICBoSVRwaG0gW107CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkgdWpJVGpJaCBFIFVFOXBJIGtzIG5FVEkgKyBuRVRJSGtsSSBGRXNURWU5SSBpUWgga21lUXBtZiBsRW1rcXA5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NuRVRJb0VzVEVlOUkoJDhJdikKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmpFc29Fc1QoJDhJdiwgWydmRVRJJywgJ2ZFVElUa2xJJywgJ2tsbHBURWU5SV9mRVRJJywgJ2tsbHBURWU5SV9mRVRJVGtsSSddKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSB1aklUakloIEUgVUU5cEkga3MgbkVUSSArIG5FVElIa2xJIEZwc1RRbC1GRXNURWU5SSBpUWgga21lUXBtZiBsRW1rcXA5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NuRVRJb0VzVEVlOUlia1Rqb3BzVFFsMlFobEVUKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvRXNUKCQ4SXYsIFsnRnBzVFFsX2ZFVElUa2xJJywgJ2tsbHBURWU5SV9GcHNUUWxfZkVUSVRrbEknXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkgdWpJVGpJaCBFIFVFOXBJIGtzIERPTUEgRkVzVEVlOUkgaVFoIGttZVFwbWYgbEVta3FwOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzRHNRbW9Fc1RFZTlJKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvRXNUKCQ4SXYsIFsnRWhoRXYnLCAnTHNRbScsICdRZUxJRlQnLCAnRlE5OUlGVGtRbScsICdJbUZodnFUSWY6RWhoRXYnLCAnSW1GaHZxVElmOkZROTlJRlRrUW0nLCAnSW1GaHZxVElmOkxzUW0nLCAnSW1GaHZxVElmOlFlTElGVCddKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSB1aklUakloIEUgVUU5cEkga3MgRW0gSW1GaHZxVElmIEZFc1RFZTlJIGlRaCBrbWVRcG1mIGxFbWtxcDlFVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc2dtRmh2cVRJZm9Fc1RFZTlJKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvRXNUKCQ4SXYsIFsnSW1GaHZxVElmJywgJ0ltRmh2cVRJZjpFaGhFdicsICdJbUZodnFUSWY6RlE5OUlGVGtRbScsICdJbUZodnFUSWY6THNRbScsICdJbUZodnFUSWY6UWVMSUZUJ10pOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSA4SXYga3MgRkVzVCBwc2ttSiBFIEZwc1RRbCBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxLbVVFOWtmb0VzVGdWRklxVGtRbQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0ga3NvOUVzc29Fc1RFZTlJKCQ4SXYpCiAgICB7CiAgICAgICAgJEZFc1RzID0gJFRqa3MtPkpJVG9Fc1RzKCk7CgogICAgICAgIGtpICghIEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJEZFc1RzKSkgewogICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgfQoKICAgICAgICAkRkVzVEh2cUkgPSAkVGprcy0+cUVoc0lvRXNUSWhvOUVzcygkRkVzVHNbJDhJdl0pOwoKICAgICAgICBraSAoa21fRWhoRXYoJEZFc1RIdnFJLCBzVEVUa0Y6OiRxaGtsa1RrVUlvRXNUSHZxSXMpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGtpIChGOUVzc19JVmtzVHMoJEZFc1RIdnFJKSkgewogICAgICAgICAgICBoSVRwaG0gVGhwSTsKICAgICAgICB9CgogICAgICAgIFRqaFF1IG1JdSBLbVVFOWtmb0VzVGdWRklxVGtRbSgkVGprcy0+SklUM1FmSTkoKSwgJDhJdiwgJEZFc1RIdnFJKTsKICAgIH0KCiAgICArKioKICAgICAqIG5JVElobGttSSBraSBUakkgSmtVSW0gOEl2IGtzIEZFc1QgcHNrbUogRW0gSW1wbC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc2dtcGxvRXNURWU5SSgkOEl2KQogICAgewogICAgICAgICRGRXNUcyA9ICRUamtzLT5KSVRvRXNUcygpOwoKICAgICAgICBraSAoISBFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRGRXNUcykpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgJEZFc1RIdnFJID0gJEZFc1RzWyQ4SXZdOwoKICAgICAgICBraSAoa21fRWhoRXYoJEZFc1RIdnFJLCBzVEVUa0Y6OiRxaGtsa1RrVUlvRXNUSHZxSXMpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBJbXBsX0lWa3NUcygkRkVzVEh2cUkpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSA4SXYga3MgZklVa0VlOUkgcHNrbUogRSBGcHNUUWwgRjlFc3MuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcS21VRTlrZm9Fc1RnVkZJcVRrUW0KICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGtzbzlFc3NuSVVrRWU5SSgkOEl2KQogICAgewogICAgICAgIGtpICghICRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPmhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KTsKCiAgICAgICAgaElUcGhtIGxJVGpRZl9JVmtzVHMoJEZFc1RIdnFJOjpGOUVzcywgJ2ttRmhJbEltVCcpICYmIGxJVGpRZl9JVmtzVHMoJEZFc1RIdnFJOjpGOUVzcywgJ2ZJRmhJbEltVCcpOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSA4SXYga3Mgc0loa0U5a1dFZTlJIHBza21KIEUgRnBzVFFsIEY5RXNzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXEttVUU5a2ZvRXNUZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc285RXNzT0loa0U5a1dFZTlJKCQ4SXYpCiAgICB7CiAgICAgICAgaElUcGhtICEgJFRqa3MtPmtzZ21wbG9Fc1RFZTlJKCQ4SXYpICYmCiAgICAgICAgICAgICRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikgJiYKICAgICAgICAgICAgbElUalFmX0lWa3NUcygkVGprcy0+aElzUTlVSW9Fc1RJaG85RXNzKCQ4SXYpLCAnc0loa0U5a1dJJyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSXNROVVJIFRqSSBGcHNUUWwgRkVzVEloIEY5RXNzIGlRaCBFIEprVUltIDhJdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gaElzUTlVSW9Fc1RJaG85RXNzKCQ4SXYpCiAgICB7CiAgICAgICAgJEZFc1RIdnFJID0gJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl07CgogICAgICAgICRFaEpwbEltVHMgPSBbXTsKCiAgICAgICAga2kgKGtzX3NUaGttSigkRkVzVEh2cUkpICYmIHNUaF9GUW1URWttcygkRkVzVEh2cUksICc6JykpIHsKICAgICAgICAgICAgJHNJSmxJbVRzID0gSVZxOVFmSSgnOicsICRGRXNUSHZxSSwgeCk7CgogICAgICAgICAgICAkRkVzVEh2cUkgPSAkc0lKbEltVHNbd107CiAgICAgICAgICAgICRFaEpwbEltVHMgPSBJVnE5UWZJKCcsJywgJHNJSmxJbVRzW1hdKTsKICAgICAgICB9CgogICAgICAgIGtpIChrc19zcGVGOUVzc19RaSgkRkVzVEh2cUksIG9Fc1RFZTlJOjpGOUVzcykpIHsKICAgICAgICAgICAgJEZFc1RIdnFJID0gJEZFc1RIdnFJOjpGRXNUUHNrbUooJEVoSnBsSW1Ucyk7CiAgICAgICAgfQoKICAgICAgICBraSAoa3NfUWVMSUZUKCRGRXNUSHZxSSkpIHsKICAgICAgICAgICAgaElUcGhtICRGRXNUSHZxSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBtSXUgJEZFc1RIdnFJKC4uLiRFaEpwbEltVHMpOwogICAgfQoKICAgICsqKgogICAgICogYUVoc0kgVGpJIEprVUltIEZFc1RJaCBGOUVzcywgaElsUVVrbUogRW12IEVoSnBsSW1Ucy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJEY5RXNzCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUVoc0lvRXNUSWhvOUVzcygkRjlFc3MpCiAgICB7CiAgICAgICAgaElUcGhtICEgc1RoX0ZRbVRFa21zKCRGOUVzcywgJzonKQogICAgICAgICAgICA/ICRGOUVzcwogICAgICAgICAgICA6IElWcTlRZkkoJzonLCAkRjlFc3MsIHgpW3ddOwogICAgfQoKICAgICsqKgogICAgICogM0loSkkgVGpJIEZFc1QgRjlFc3MgRW1mIEVUVGhrZXBUSSBGRXNUIEVUVGhrZXBUSXMgZUVGOCBrbVRRIFRqSSBsUWZJOS4KICAgICAqCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGxJaEpJdFRUaGtlcFRJczJoUWxvRUZqSWZvRXNUcygpCiAgICB7CiAgICAgICAgJFRqa3MtPmxJaEpJdFRUaGtlcFRJczJoUWxvOUVzc29Fc1RzKCk7CiAgICAgICAgJFRqa3MtPmxJaEpJdFRUaGtlcFRJczJoUWx0VFRoa2VwVElvRXNUcygpOwogICAgfQoKICAgICsqKgogICAgICogM0loSkkgVGpJIEZFc1QgRjlFc3MgRVRUaGtlcFRJcyBlRUY4IGttVFEgVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gbEloSkl0VFRoa2VwVElzMmhRbG85RXNzb0VzVHMoKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5GOUVzc29Fc1RvRUZqSSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICAkRkVzVEloID0gJFRqa3MtPmhJc1E5VUlvRXNUSWhvOUVzcygkOEl2KTsKCiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzID0gRWhoRXZfbEloSkkoCiAgICAgICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJcywKICAgICAgICAgICAgICAgICRGRXNUSWgga21zVEVtRklRaSBvRXNUc0ttZVFwbWZ0VFRoa2VwVElzCiAgICAgICAgICAgICAgICAgICAgPyBbJDhJdiA9PiAkVUU5cEldCiAgICAgICAgICAgICAgICAgICAgOiAkVGprcy0+bVFobEU5a1dJb0VzVG85RXNzTklzcVFtc0koJDhJdiwgJEZFc1RJaC0+c0lUKCRUamtzLCAkOEl2LCAkVUU5cEksICRUamtzLT5FVFRoa2VwVElzKSkKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAzSWhKSSBUakkgRkVzVCBGOUVzcyBFVFRoa2VwVElzIGVFRjgga21UUSBUakkgbFFmSTkuCiAgICAgKgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBsSWhKSXRUVGhrZXBUSXMyaFFsdFRUaGtlcFRJb0VzVHMoKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5FVFRoa2VwVElvRXNUb0VGakkgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAgJEVUVGhrZXBUSSA9ICRUamtzLT57T1RoOjpGRWxJOSgkOEl2KX0oKTsKCiAgICAgICAgICAgIGtpICgkRVRUaGtlcFRJLT5KSVQgJiYgISAkRVRUaGtlcFRJLT5zSVQpIHsKICAgICAgICAgICAgICAgIEZRbVRrbXBJOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkRkU5OWVFRjggPSAkRVRUaGtlcFRJLT5zSVQgPzogaXBtRlRrUW0gKCRVRTlwSSkgcHNJICgkOEl2KSB7CiAgICAgICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJc1skOEl2XSA9ICRVRTlwSTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICRUamtzLT5FVFRoa2VwVElzID0gRWhoRXZfbEloSkkoCiAgICAgICAgICAgICAgICAkVGprcy0+RVRUaGtlcFRJcywKICAgICAgICAgICAgICAgICRUamtzLT5tUWhsRTlrV0lvRXNUbzlFc3NOSXNxUW1zSSgKICAgICAgICAgICAgICAgICAgICAkOEl2LCAkRkU5OWVFRjgoJFVFOXBJLCAkVGprcy0+RVRUaGtlcFRJcykKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiBBUWhsRTlrV0kgVGpJIGhJc3FRbXNJIGloUWwgRSBGcHNUUWwgRjlFc3MgRkVzVEloLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIG1RaGxFOWtXSW9Fc1RvOUVzc05Jc3FRbXNJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICBoSVRwaG0ga3NfRWhoRXYoJFVFOXBJKSA/ICRVRTlwSSA6IFskOEl2ID0+ICRVRTlwSV07CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRTk5IFFpIFRqSSBGcGhoSW1UIEVUVGhrZXBUSXMgUW0gVGpJIGxRZkk5LgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVHRUVGhrZXBUSXMoKQogICAgewogICAgICAgICRUamtzLT5sSWhKSXRUVGhrZXBUSXMyaFFsb0VGaklmb0VzVHMoKTsKCiAgICAgICAgaElUcGhtICRUamtzLT5FVFRoa2VwVElzOwogICAgfQoKICAgICsqKgogICAgICogMElUIEU5OSBRaSBUakkgRnBoaEltVCBFVFRoa2VwVElzIFFtIFRqSSBsUWZJOSBpUWggRW0ga21zSWhUIFFxSWhFVGtRbS4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVR0VFRoa2VwVElzMlFoS21zSWhUKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVHRUVGhrZXBUSXMoKTsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgRWhoRXYgUWkgbFFmSTkgRVRUaGtlcFRJcy4gQVEgRmpJRjhrbUoga3MgZlFtSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBlUVE5ICAkc3ZtRgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUTkV1dFRUaGtlcFRJcyhFaGhFdiAkRVRUaGtlcFRJcywgJHN2bUYgPSBpRTlzSSkKICAgIHsKICAgICAgICAkVGprcy0+RVRUaGtlcFRJcyA9ICRFVFRoa2VwVElzOwoKICAgICAgICBraSAoJHN2bUYpIHsKICAgICAgICAgICAgJFRqa3MtPnN2bUZNaGtKa21FOSgpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPkY5RXNzb0VzVG9FRmpJID0gW107CiAgICAgICAgJFRqa3MtPkVUVGhrZXBUSW9Fc1RvRUZqSSA9IFtdOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5J3MgUWhrSmttRTkgRVRUaGtlcFRJIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxtcDk5ICAkOEl2CiAgICAgKiBAcUVoRWwgIGxrVklmICAkZklpRXA5VAogICAgICogQGhJVHBobSBsa1ZJZnxFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUTWhrSmttRTkoJDhJdiA9IG1wOTksICRmSWlFcDlUID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gKG1JdSBzVEVUa0YpLT5zSVRORXV0VFRoa2VwVElzKAogICAgICAgICAgICAkVGprcy0+UWhrSmttRTksICRzdm1GID0gVGhwSQogICAgICAgICktPkpJVE1oa0prbUU5YmtUalFwVE5JdWttZmttSjNRZkk5KCQ4SXYsICRmSWlFcDlUKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgbFFmSTkncyBRaGtKa21FOSBFVFRoa2VwVEkgVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICQ4SXYKICAgICAqIEBxRWhFbCAgbGtWSWYgICRmSWlFcDlUCiAgICAgKiBAaElUcGhtIGxrVklmfEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBKSVRNaGtKa21FOWJrVGpRcFROSXVrbWZrbUozUWZJOSgkOEl2ID0gbXA5OSwgJGZJaUVwOVQgPSBtcDk5KQogICAgewogICAgICAgIGtpICgkOEl2KSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+VGhFbXNpUWhsM1FmSTlCRTlwSSgKICAgICAgICAgICAgICAgICQ4SXYsIHRoaDo6SklUKCRUamtzLT5RaGtKa21FOSwgJDhJdiwgJGZJaUVwOVQpCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gRlE5OUlGVCgkVGprcy0+UWhrSmttRTkpLT5sRXFia1RqMUl2cyhpcG1GVGtRbSAoJFVFOXBJLCAkOEl2KSB7CiAgICAgICAgICAgIGhJVHBobSBbJDhJdiA9PiAkVGprcy0+VGhFbXNpUWhsM1FmSTlCRTlwSSgkOEl2LCAkVUU5cEkpXTsKICAgICAgICB9KS0+RTk5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5J3MgaEV1IFFoa0prbUU5IEVUVGhrZXBUSSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJGZJaUVwOVQKICAgICAqIEBoSVRwaG0gbGtWSWZ8RWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5FdU1oa0prbUU5KCQ4SXYgPSBtcDk5LCAkZklpRXA5VCA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtIHRoaDo6SklUKCRUamtzLT5RaGtKa21FOSwgJDhJdiwgJGZJaUVwOVQpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgc3Blc0lUIFFpIFRqSSBsUWZJOSdzIEVUVGhrZXBUSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxsa1ZJZiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFFtOXYoJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgJGhJc3A5VHMgPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoa3NfRWhoRXYoJEVUVGhrZXBUSXMpID8gJEVUVGhrZXBUSXMgOiBpcG1GX0pJVF9FaEpzKCkgRXMgJEVUVGhrZXBUSSkgewogICAgICAgICAgICAkaElzcDlUc1skRVRUaGtlcFRJXSA9ICRUamtzLT5KSVR0VFRoa2VwVEkoJEVUVGhrZXBUSSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGhJc3A5VHM7CiAgICB9CgogICAgKyoqCiAgICAgKiBPdm1GIFRqSSBRaGtKa21FOSBFVFRoa2VwVElzIHVrVGogVGpJIEZwaGhJbVQuCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc3ZtRk1oa0prbUU5KCkKICAgIHsKICAgICAgICAkVGprcy0+UWhrSmttRTkgPSAkVGprcy0+SklUdFRUaGtlcFRJcygpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBPdm1GIEUgc2ttSjlJIFFoa0prbUU5IEVUVGhrZXBUSSB1a1RqIGtUcyBGcGhoSW1UIFVFOXBJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRVRUaGtlcFRJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzdm1GTWhrSmttRTl0VFRoa2VwVEkoJEVUVGhrZXBUSSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPnN2bUZNaGtKa21FOXRUVGhrZXBUSXMoJEVUVGhrZXBUSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPdm1GIGxwOVRrcTlJIFFoa0prbUU5IEVUVGhrZXBUSSB1a1RqIFRqSWtoIEZwaGhJbVQgVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc3ZtRk1oa0prbUU5dFRUaGtlcFRJcygkRVRUaGtlcFRJcykKICAgIHsKICAgICAgICAkRVRUaGtlcFRJcyA9IGtzX0VoaEV2KCRFVFRoa2VwVElzKSA/ICRFVFRoa2VwVElzIDogaXBtRl9KSVRfRWhKcygpOwoKICAgICAgICAkbFFmSTl0VFRoa2VwVElzID0gJFRqa3MtPkpJVHRUVGhrZXBUSXMoKTsKCiAgICAgICAgaVFoSUVGaiAoJEVUVGhrZXBUSXMgRXMgJEVUVGhrZXBUSSkgewogICAgICAgICAgICAkVGprcy0+UWhrSmttRTlbJEVUVGhrZXBUSV0gPSAkbFFmSTl0VFRoa2VwVElzWyRFVFRoa2VwVEldOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogT3ZtRiBUakkgRmpFbUpJZiBFVFRoa2VwVElzLgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHN2bUZvakVtSklzKCkKICAgIHsKICAgICAgICAkVGprcy0+RmpFbUpJcyA9ICRUamtzLT5KSVRua2hUdigpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIGxRZkk5IFFoIEVtdiBRaSBUakkgSmtVSW0gRVRUaGtlcFRJKHMpIGpFVUkgZUlJbSBsUWZraWtJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSnxtcDk5ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBrc25raFR2KCRFVFRoa2VwVElzID0gbXA5OSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmpFc29qRW1KSXMoCiAgICAgICAgICAgICRUamtzLT5KSVRua2hUdigpLCBrc19FaGhFdigkRVRUaGtlcFRJcykgPyAkRVRUaGtlcFRJcyA6IGlwbUZfSklUX0VoSnMoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIGxRZkk5IFFoIEU5OSBUakkgSmtVSW0gRVRUaGtlcFRJKHMpIGpFVUkgaElsRWttSWYgVGpJIHNFbEkuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUp8bXA5OSAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0ga3NvOUlFbSgkRVRUaGtlcFRJcyA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICEgJFRqa3MtPmtzbmtoVHYoLi4uaXBtRl9KSVRfRWhKcygpKTsKICAgIH0KCiAgICArKioKICAgICAqIG5rc0ZFaGYgRVRUaGtlcFRJIEZqRW1KSXMgRW1mIGhJc0lUIFRqSSBFVFRoa2VwVElzIFRRIFRqSWtoIFFoa0prbUU5IHNURVRJLgogICAgICoKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGZrc0ZFaGZvakVtSklzKCkKICAgIHsKICAgICAgICBbJFRqa3MtPkVUVGhrZXBUSXMsICRUamtzLT5GakVtSklzXSA9IFskVGprcy0+UWhrSmttRTksIFtdXTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBsUWZJOSBRaCBFbXYgUWkgVGpJIEprVUltIEVUVGhrZXBUSShzKSB1SWhJIEZqRW1KSWYgdWpJbSBUakkgbFFmSTkgdUVzIDlFc1Qgc0VVSWYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUp8bXA5OSAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdUVzb2pFbUpJZigkRVRUaGtlcFRJcyA9IG1wOTkpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5qRXNvakVtSklzKAogICAgICAgICAgICAkVGprcy0+SklUb2pFbUpJcygpLCBrc19FaGhFdigkRVRUaGtlcFRJcykgPyAkRVRUaGtlcFRJcyA6IGlwbUZfSklUX0VoSnMoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgRW12IFFpIFRqSSBKa1VJbSBFVFRoa2VwVElzIHVJaEkgRmpFbUpJZiB1akltIFRqSSBsUWZJOSB1RXMgOUVzVCBzRVVJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRmpFbUpJcwogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUp8bXA5OSAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gakVzb2pFbUpJcygkRmpFbUpJcywgJEVUVGhrZXBUSXMgPSBtcDk5KQogICAgewogICAgICAgICsrIEtpIG1RIHNxSUZraWtGIEVUVGhrZXBUSXMgdUloSSBxaFFVa2ZJZiwgdUkgdWs5OSBMcHNUIHNJSSBraSBUakkgZmtoVHYgRWhoRXYKICAgICAgICArKyBFOWhJRWZ2IEZRbVRFa21zIEVtdiBFVFRoa2VwVElzLiBLaSBrVCBmUUlzIHVJIHVrOTkgTHBzVCBoSVRwaG0gVGpFVCBUamtzCiAgICAgICAgKysgRlFwbVQga3MgSmhJRVRJaCBUakVtIFdJaFEuIGc5c0ksIHVJIG1JSWYgVFEgRmpJRjggc3FJRmtpa0YgRVRUaGtlcFRJcy4KICAgICAgICBraSAoSWxxVHYoJEVUVGhrZXBUSXMpKSB7CiAgICAgICAgICAgIGhJVHBobSBGUXBtVCgkRmpFbUpJcykgPiB3OwogICAgICAgIH0KCiAgICAgICAgKysgU0loSSB1SSB1azk5IHNxa20gVGpoUXBKaiBJVUlodiBFVFRoa2VwVEkgRW1mIHNJSSBraSBUamtzIGtzIGttIFRqSSBFaGhFdiBRaQogICAgICAgICsrIGZraFR2IEVUVGhrZXBUSXMuIEtpIGtUIGtzLCB1SSB1azk5IGhJVHBobSBUaHBJIEVtZiBraSB1SSBsRThJIGtUIFRqaFFwSmoKICAgICAgICArKyBFOTkgUWkgVGpJIEVUVGhrZXBUSXMgaVFoIFRqSSBJbVRraEkgRWhoRXYgdUkgdWs5OSBoSVRwaG0gaUU5c0kgRVQgSW1mLgogICAgICAgIGlRaElFRmogKHRoaDo6dWhFcSgkRVRUaGtlcFRJcykgRXMgJEVUVGhrZXBUSSkgewogICAgICAgICAgICBraSAoRWhoRXZfOEl2X0lWa3NUcygkRVRUaGtlcFRJLCAkRmpFbUpJcykpIHsKICAgICAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEVUVGhrZXBUSXMgVGpFVCBqRVVJIGVJSW0gRmpFbUpJZiBza21GSSBUakkgOUVzVCBzdm1GLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVG5raFR2KCkKICAgIHsKICAgICAgICAkZmtoVHYgPSBbXTsKCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPkpJVHRUVGhrZXBUSXMoKSBFcyAkOEl2ID0+ICRVRTlwSSkgewogICAgICAgICAgICBraSAoISAkVGprcy0+UWhrSmttRTlLc2dScGtVRTlJbVQoJDhJdikpIHsKICAgICAgICAgICAgICAgICRma2hUdlskOEl2XSA9ICRVRTlwSTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRma2hUdjsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRVRUaGtlcFRJcyBUakVUIGpFVUkgZUlJbSBGakVtSklmIHNrbUZJIFRqSSA5RXNUIHN2bUYgaVFoIEVtIHBxZkVUSSBRcUloRVRrUW0uCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSklUbmtoVHYyUWhQcWZFVEkoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SklUbmtoVHYoKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgRVRUaGtlcFRJcyBUakVUIHVJaEkgRmpFbUpJZiB1akltIFRqSSBsUWZJOSB1RXMgOUVzVCBzRVVJZi4KICAgICAqCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVRvakVtSklzKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPkZqRW1KSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSVRJaGxrbUkga2kgVGpJIG1JdSBFbWYgUTlmIFVFOXBJcyBpUWggRSBKa1VJbSA4SXYgRWhJIElScGtVRTlJbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhrSmttRTlLc2dScGtVRTlJbVQoJDhJdikKICAgIHsKICAgICAgICBraSAoISBFaGhFdl84SXZfSVZrc1RzKCQ4SXYsICRUamtzLT5RaGtKa21FOSkpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgJEVUVGhrZXBUSSA9IHRoaDo6SklUKCRUamtzLT5FVFRoa2VwVElzLCAkOEl2KTsKICAgICAgICAkUWhrSmttRTkgPSB0aGg6OkpJVCgkVGprcy0+UWhrSmttRTksICQ4SXYpOwoKICAgICAgICBraSAoJEVUVGhrZXBUSSA9PT0gJFFoa0prbUU5KSB7CiAgICAgICAgICAgIGhJVHBobSBUaHBJOwogICAgICAgIH0gSTlzSWtpIChrc19tcDk5KCRFVFRoa2VwVEkpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzbkVUSXRUVGhrZXBUSSgkOEl2KSB8fCAkVGprcy0+a3NuRVRJb0VzVEVlOUlia1Rqb3BzVFFsMlFobEVUKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbG5FVElIa2xJKCRFVFRoa2VwVEkpID09PQogICAgICAgICAgICAgICAgJFRqa3MtPmloUWxuRVRJSGtsSSgkUWhrSmttRTkpOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+akVzb0VzVCgkOEl2LCBbJ1FlTElGVCcsICdGUTk5SUZUa1FtJ10pKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbERzUW0oJEVUVGhrZXBUSSkgPT09CiAgICAgICAgICAgICAgICAkVGprcy0+aWhRbERzUW0oJFFoa0prbUU5KTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmpFc29Fc1QoJDhJdiwgWydoSUU5JywgJ2k5UUVUJywgJ2ZRcGU5SSddKSkgewogICAgICAgICAgICBraSAoJFFoa0prbUU5ID09PSBtcDk5KSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gaUU5c0k7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSBFZXMoJFRqa3MtPkZFc1R0VFRoa2VwVEkoJDhJdiwgJEVUVGhrZXBUSSkgLSAkVGprcy0+RkVzVHRUVGhrZXBUSSgkOEl2LCAkUWhrSmttRTkpKSA8IGFTYV8yNk10SF9nYU9LNk1BICogeTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmtzZ21GaHZxVElmb0VzVEVlOUkoJDhJdikgJiYgISBJbHFUdihzVEVUa0Y6OkZwaGhJbVRnbUZodnFUSWgoKS0+SklUYWhJVWtRcHMxSXZzKCkpKSB7CiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9IEk5c0lraSAoJFRqa3MtPmpFc29Fc1QoJDhJdiwgc1RFVGtGOjokcWhrbGtUa1VJb0VzVEh2cUlzKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkZFc1R0VFRoa2VwVEkoJDhJdiwgJEVUVGhrZXBUSSkgPT09CiAgICAgICAgICAgICAgICAkVGprcy0+RkVzVHRUVGhrZXBUSSgkOEl2LCAkUWhrSmttRTkpOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpICYmIE9UaDo6c1RFaFRzYmtUaigkVGprcy0+SklUb0VzVHMoKVskOEl2XSwgW3RzdGhoRXZNZUxJRlQ6OkY5RXNzLCB0c29ROTlJRlRrUW06OkY5RXNzXSkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5paFFsRHNRbSgkRVRUaGtlcFRJKSA9PT0gJFRqa3MtPmloUWxEc1FtKCRRaGtKa21FOSk7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5rc285RXNzb0VzVEVlOUkoJDhJdikgJiYgT1RoOjpzVEVoVHNia1RqKCRUamtzLT5KSVRvRXNUcygpWyQ4SXZdLCBbdHNnbXBsdGhoRXZNZUxJRlQ6OkY5RXNzLCB0c2dtcGxvUTk5SUZUa1FtOjpGOUVzc10pKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+aWhRbERzUW0oJEVUVGhrZXBUSSkgPT09ICRUamtzLT5paFFsRHNRbSgkUWhrSmttRTkpOwogICAgICAgIH0gSTlzSWtpICgkVGprcy0+a3NvOUVzc29Fc1RFZTlJKCQ4SXYpICYmICRRaGtKa21FOSAhPT0gbXA5OSAmJiBPVGg6OnNURWhUc2JrVGooJFRqa3MtPkpJVG9Fc1RzKClbJDhJdl0sIFt0c2dtRmh2cVRJZnRoaEV2TWVMSUZUOjpGOUVzcywgdHNnbUZodnFUSWZvUTk5SUZUa1FtOjpGOUVzc10pKSB7CiAgICAgICAgICAgIGtpIChJbHFUdihzVEVUa0Y6OkZwaGhJbVRnbUZodnFUSWgoKS0+SklUYWhJVWtRcHMxSXZzKCkpKSB7CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmloUWxnbUZodnFUSWZPVGhrbUooJEVUVGhrZXBUSSkgPT09ICRUamtzLT5paFFsZ21GaHZxVElmT1Roa21KKCRRaGtKa21FOSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSBrc19tcGxJaGtGKCRFVFRoa2VwVEkpICYmIGtzX21wbEloa0YoJFFoa0prbUU5KQogICAgICAgICAgICAmJiBzVGhGbHEoKHNUaGttSikgJEVUVGhrZXBUSSwgKHNUaGttSikgJFFoa0prbUU5KSA9PT0gdzsKICAgIH0KCiAgICArKioKICAgICAqIEhoRW1zaVFobCBFIGhFdSBsUWZJOSBVRTlwSSBwc2ttSiBscFRFVFFocywgRkVzVHMsIElURi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJDhJdgogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBUaEVtc2lRaGwzUWZJOUJFOXBJKCQ4SXYsICRVRTlwSSkKICAgIHsKICAgICAgICArKyBLaSBUakkgRVRUaGtlcFRJIGpFcyBFIEpJVCBscFRFVFFoLCB1SSB1azk5IEZFOTkgVGpFVCBUakltIGhJVHBobSB1akVUCiAgICAgICAgKysga1QgaElUcGhtcyBFcyBUakkgVUU5cEksIHVqa0ZqIGtzIHBzSWlwOSBpUWggVGhFbXNpUWhsa21KIFVFOXBJcyBRbQogICAgICAgICsrIGhJVGhrSVVFOSBpaFFsIFRqSSBsUWZJOSBUUSBFIGlRaGwgVGpFVCBrcyBsUWhJIHBzSWlwOSBpUWggcHNFSkkuCiAgICAgICAga2kgKCRUamtzLT5qRXMwSVQzcFRFVFFoKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+bHBURVRJdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfSBJOXNJa2kgKCRUamtzLT5qRXN0VFRoa2VwVEkwSVQzcFRFVFFoKCQ4SXYpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+bHBURVRJdFRUaGtlcFRJM0VoOElmdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRVRUaGtlcFRJIElWa3NUcyB1a1Rqa20gVGpJIEZFc1QgRWhoRXYsIHVJIHVrOTkgRlFtVUloVCBrVCBUUQogICAgICAgICsrIEVtIEVxcWhRcWhrRVRJIG1FVGtVSSBhU2EgVHZxSSBmSXFJbWZJbVQgcHFRbSBUakkgRXNzUUZrRVRJZiBVRTlwSQogICAgICAgICsrIEprVUltIHVrVGogVGpJIDhJdiBrbSBUakkgcUVraC4gbkV2OUkgbEVmSSBUamtzIEZRbGxJbVQgOWttSSBwcS4KICAgICAgICBraSAoJFRqa3MtPmpFc29Fc1QoJDhJdikpIHsKICAgICAgICAgICAga2kgKHNURVRrRjo6cWhJVUltVHN0RkZJc3NrbUoza3Nza21KdFRUaGtlcFRJcygpICYmCiAgICAgICAgICAgICAgICAhIEVoaEV2XzhJdl9JVmtzVHMoJDhJdiwgJFRqa3MtPkVUVGhrZXBUSXMpICYmCiAgICAgICAgICAgICAgICAoJFRqa3MtPmtzZ21wbG9Fc1RFZTlJKCQ4SXYpIHx8CiAgICAgICAgICAgICAgICAga21fRWhoRXYoJFRqa3MtPkpJVG9Fc1RIdnFJKCQ4SXYpLCBzVEVUa0Y6OiRxaGtsa1RrVUlvRXNUSHZxSXMpKSkgewogICAgICAgICAgICAgICAgJFRqa3MtPlRqaFF1M2tzc2ttSnRUVGhrZXBUSWdWRklxVGtRbUtpdHFxOWtGRWU5SSgkOEl2KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRUamtzLT5GRXNUdFRUaGtlcFRJKCQ4SXYsICRVRTlwSSk7CiAgICAgICAgfQoKICAgICAgICArKyBLaSBUakkgRVRUaGtlcFRJIGtzIDlrc1RJZiBFcyBFIGZFVEksIHVJIHVrOTkgRlFtVUloVCBrVCBUUSBFIG5FVElIa2xJCiAgICAgICAgKysga21zVEVtRkkgUW0gaElUaGtJVUU5LCB1amtGaiBsRThJcyBrVCBScGtUSSBGUW1VSW1rSW1UIFRRIHVRaDggdWtUagogICAgICAgICsrIGZFVEkgaWtJOWZzIHVrVGpRcFQgakVVa21KIFRRIEZoSUVUSSBFIGxwVEVUUWggaVFoIElFRmogcWhRcUloVHYuCiAgICAgICAga2kgKCRVRTlwSSAhPT0gbXA5OQogICAgICAgICAgICAmJiBca21fRWhoRXYoJDhJdiwgJFRqa3MtPkpJVG5FVElzKCksIGlFOXNJKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkVzbkVUSUhrbEkoJFVFOXBJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cEk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXFJbWYgRVRUaGtlcFRJcyBUUSBScElodiB1akltIGVwazlma21KIEUgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBFcXFJbWYoJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgJFRqa3MtPkVxcUltZnMgPSBFaGhFdl9VRTlwSXMoRWhoRXZfcG1rUnBJKAogICAgICAgICAgICBFaGhFdl9sSWhKSSgkVGprcy0+RXFxSW1mcywga3Nfc1Roa21KKCRFVFRoa2VwVElzKSA/IGlwbUZfSklUX0VoSnMoKSA6ICRFVFRoa2VwVElzKQogICAgICAgICkpOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIEVGRklzc1FocyBUakVUIEVoSSBlSWttSiBFcXFJbWZJZiBUUSBsUWZJOSBFaGhFdnMuCiAgICAgKgogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUdHFxSW1mcygpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5FcXFJbWZzOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBFRkZJc3NRaHMgVFEgRXFxSW1mIFRRIGxRZkk5IEVoaEV2cy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRXFxSW1mcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUdHFxSW1mcyhFaGhFdiAkRXFxSW1mcykKICAgIHsKICAgICAgICAkVGprcy0+RXFxSW1mcyA9ICRFcXFJbWZzOwoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSVRwaG0gdWpJVGpJaCBUakkgRUZGSXNzUWggRVRUaGtlcFRJIGpFcyBlSUltIEVxcUltZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkRVRUaGtlcFRJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc3RxcUltZklmKCRFVFRoa2VwVEkpCiAgICB7CiAgICAgICAgaElUcGhtIGttX0VoaEV2KCRFVFRoa2VwVEksICRUamtzLT5FcXFJbWZzKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgbHBURVRJZiBFVFRoa2VwVElzIGlRaCBFIEprVUltIGttc1RFbUZJLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDNwVEVUSWZ0VFRoa2VwVElzKCkKICAgIHsKICAgICAgICBraSAoISBrc3NJVChzVEVUa0Y6OiRscFRFVFFob0VGaklbc1RFVGtGOjpGOUVzc10pKSB7CiAgICAgICAgICAgIHNURVRrRjo6RkVGakkzcFRFVElmdFRUaGtlcFRJcygkVGprcyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gc1RFVGtGOjokbHBURVRRaG9FRmpJW3NURVRrRjo6RjlFc3NdOwogICAgfQoKICAgICsqKgogICAgICogZ1ZUaEVGVCBFbWYgRkVGakkgRTk5IFRqSSBscFRFVElmIEVUVGhrZXBUSXMgUWkgRSBGOUVzcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIFFlTElGVHxzVGhrbUogICRGOUVzc01oS21zVEVtRkkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIEZFRmpJM3BURVRJZnRUVGhrZXBUSXMoJEY5RXNzTWhLbXNURW1GSSkKICAgIHsKICAgICAgICAkaElpOUlGVGtRbSA9IG1JdSBOSWk5SUZUa1FtbzlFc3MoJEY5RXNzTWhLbXNURW1GSSk7CgogICAgICAgICRGOUVzcyA9ICRoSWk5SUZUa1FtLT5KSVRBRWxJKCk7CgogICAgICAgIHNURVRrRjo6JEpJVHRUVGhrZXBUSTNwVEVUUWhvRUZqSVskRjlFc3NdID0KICAgICAgICAgICAgRlE5OUlGVCgkRVRUaGtlcFRJM3BURVRRaDNJVGpRZnMgPSBzVEVUa0Y6OkpJVHRUVGhrZXBUSTNFaDhJZjNwVEVUUWgzSVRqUWZzKCRGOUVzc01oS21zVEVtRkkpKQogICAgICAgICAgICAgICAgICAgIC0+bEVxYmtUajFJdnMoaXBtRlRrUW0gKCRsRVRGaikgewogICAgICAgICAgICAgICAgICAgICAgICBoSVRwaG0gWzlGaWtoc1Qoc1RFVGtGOjokc21FOEl0VFRoa2VwVElzID8gT1RoOjpzbUU4SSgkbEVURmopIDogJGxFVEZqKSA9PiBUaHBJXTsKICAgICAgICAgICAgICAgICAgICB9KS0+RTk5KCk7CgogICAgICAgIHNURVRrRjo6JGxwVEVUUWhvRUZqSVskRjlFc3NdID0gRlE5OUlGVChzVEVUa0Y6OkpJVDNwVEVUUWgzSVRqUWZzKCRGOUVzcykpCiAgICAgICAgICAgICAgICAtPmxJaEpJKCRFVFRoa2VwVEkzcFRFVFFoM0lUalFmcykKICAgICAgICAgICAgICAgIC0+bEVxKGlwbUZUa1FtICgkbEVURmopIHsKICAgICAgICAgICAgICAgICAgICBoSVRwaG0gOUZpa2hzVChzVEVUa0Y6OiRzbUU4SXRUVGhrZXBUSXMgPyBPVGg6OnNtRThJKCRsRVRGaikgOiAkbEVURmopOwogICAgICAgICAgICAgICAgfSktPkU5OSgpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEU5OSBRaSBUakkgRVRUaGtlcFRJIGxwVEVUUWggbElUalFmcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkRjlFc3MKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIHNURVRrRiBpcG1GVGtRbSBKSVQzcFRFVFFoM0lUalFmcygkRjlFc3MpCiAgICB7CiAgICAgICAgcWhJSl9sRVRGal9FOTkoJysoPzw9Xnw7KUpJVChbXjtdLz8pdFRUaGtlcFRJKDt8JCkrJywga2xxOVFmSSgnOycsIEpJVF9GOUVzc19sSVRqUWZzKCRGOUVzcykpLCAkbEVURmpJcyk7CgogICAgICAgIGhJVHBobSAkbEVURmpJc1tYXTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFOTkgUWkgVGpJICJ0VFRoa2VwVEkiIGhJVHBobSBUdnFJZiBFVFRoa2VwVEkgbHBURVRRaCBsSVRqUWZzLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRGOUVzcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIEpJVHRUVGhrZXBUSTNFaDhJZjNwVEVUUWgzSVRqUWZzKCRGOUVzcykKICAgIHsKICAgICAgICAka21zVEVtRkkgPSBrc19RZUxJRlQoJEY5RXNzKSA/ICRGOUVzcyA6IG1JdSAkRjlFc3M7CgogICAgICAgIGhJVHBobSBGUTk5SUZUKChtSXUgTklpOUlGVGtRbW85RXNzKCRrbXNURW1GSSkpLT5KSVQzSVRqUWZzKCkpLT5pazlUSWgoaXBtRlRrUW0gKCRsSVRqUWYpIHBzSSAoJGttc1RFbUZJKSB7CiAgICAgICAgICAgICRoSVRwaG1IdnFJID0gJGxJVGpRZi0+SklUTklUcGhtSHZxSSgpOwoKICAgICAgICAgICAga2kgKCRoSVRwaG1IdnFJIGttc1RFbUZJUWkgTklpOUlGVGtRbUFFbElmSHZxSSAmJgogICAgICAgICAgICAgICAgJGhJVHBobUh2cUktPkpJVEFFbEkoKSA9PT0gdFRUaGtlcFRJOjpGOUVzcykgewogICAgICAgICAgICAgICAga2kgKGtzX0ZFOTlFZTlJKCRsSVRqUWYtPmttVVE4SSgka21zVEVtRkkpLT5KSVQpKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtIFRocEk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSBpRTlzSTsKICAgICAgICB9KS0+bEVxLT5tRWxJLT5VRTlwSXMoKS0+RTk5KCk7CiAgICB9Cn0K