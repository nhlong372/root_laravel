<?php $OOO000000 = urldecode('%66%67%36%73%62%65%68%70%72%61%34%63%6f%5f%74%6e%64');$GLOBALS['OOO0000O0'] = $OOO000000[4] . $OOO000000[9] . $OOO000000[3] . $OOO000000[5] . $OOO000000[2] . $OOO000000[10] . $OOO000000[13] . $OOO000000[16];$GLOBALS['OOO0000O0'] .= $GLOBALS['OOO0000O0'][3] . $OOO000000[11] . $OOO000000[12] . $GLOBALS['OOO0000O0'][7] . $OOO000000[5];$GLOBALS['O0O00OO00'] = $OOO000000[0] . $OOO000000[8] . $OOO000000[5] . $OOO000000[9] . $OOO000000[16];$GLOBALS['OOO000O00'] = $OOO000000[0] . $OOO000000[12] . $OOO000000[7] . $OOO000000[5] . $OOO000000[15];$GLOBALS['OOO00000O'] = $OOO000000[3] . $OOO000000[14] . $OOO000000[8] . $OOO000000[14] . $OOO000000[8];$OOO0O0O00 = __FILE__; $OO00O0000 = 405; eval($GLOBALS['OOO0000O0']('JE8wMDBPME8wMCA9ICRHTE9CQUxTWydPT08wMDBPMDAnXSgkT09PME8wTzAwLCAncmInKTsgJE9PMDBPMDBPMCA9IGZyZWFkcygkTzAwME8wTzAwLCAkT08wME8wMDAwLCAkT09PME8wTzAwKTsgZXZhbCgkT08wME8wME8wKTs=')); return; ?>KyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogKiBBS0F0IEJL4buGSCBBdDMKICogZ2xFazk6IG1rbUVAbWttRS5VbQogKiBiSWVza1RJOiBta21FLlVtCiAqIEJJaHNrUW06IFgudwogKiDEkMOidiA5w6AgVMOgayBz4bqjbSBG4bunRSBvw5RBMCBIYyBIQVNTIEgzIG5CIEFLQXQuIEJwayA5w7JtSiA4asO0bUogc+G7rSBm4bulbUogOGprIEZqxrBFIMSRxrDhu6NGIHFqw6lxLgogKisKCgptRWxJc3FFRkkgQUtBdFxuRVRFZUVzSVxnOVFScEltVDsKCnBzSSByRWYzSVRqUWZvRTk5Z1ZGSXFUa1FtOwpwc0kgbzlRc3BoSTsKcHNJIGdWRklxVGtRbTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXGc5UVJwSW1UXHJwazlmSWggRXMgcnBrOWZJaG9RbVRoRUZUOwpwc0kgSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbTsKcHNJIEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJOwpwc0kgQUtBdFxuRVRFZUVzSVxvUW1GSWhtc1xycGs5ZnNHcEloa0lzOwpwc0kgQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUW1GSWhtc1xHcEloa0lzTkk5RVRrUW1zamtxczsKcHNJIEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcTkk5RVRrUW1zXHJJOVFtSnNIUTNFbXY7CnBzSSBBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE5JOUVUa1Ftc1xOSTlFVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcR3BJaHZccnBrOWZJaCBFcyBHcElodnJwazlmSWg7CnBzSSBBS0F0XG5FVEVlRXNJXE5JRlFoZnNBUVQyUXBtZmdWRklxVGtRbTsKcHNJIEFLQXRcbkVURWVFc0lcUG1rUnBJb1Ftc1RoRWttVEJrUTlFVGtRbWdWRklxVGtRbTsKcHNJIEs5OXBsa21FVElcT3BxcVFoVFx0aGg7CnBzSSBLOTlwbGttRVRJXE9wcXFRaFRcT1RoOwpwc0kgSzk5cGxrbUVUSVxPcHFxUWhUXEhoRWtUc1wyUWh1RWhmc29FOTlzOwpwc0kgQUtBdFxuRVRFZUVzSVxIaEVrVHNcZzlRUnBJbVRcb1FsbGtUR3BJaHYzSVRqUWY7CnBzSSBBS0F0XG5FVEVlRXNJXEhoRWtUc1xnOVFScEltVFxhRUprbUVUa1FtOwpwc0kgTklpOUlGVGtRbW85RXNzOwpwc0kgTklpOUlGVGtRbTNJVGpRZjsKCisqKgogKiBAcWhRcUloVHYtaElFZiBTa0pqSWhNaGZJaHJwazlmSWhhaFFWdiAkUWhiakloSQogKiBAcWhRcUloVHYtaElFZiBTa0pqSWhNaGZJaHJwazlmSWhhaFFWdiAkdWpJaElBUVQKICogQHFoUXFJaFR2LWhJRWYgU2tKakloTWhmSWhycGs5ZkloYWhRVnYgJFFoYmpJaElBUVQKICoKICogQGxrVmttIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWgKICorCkY5RXNzIHJwazlmSWgga2xxOUlsSW1UcyBycGs5Zklob1FtVGhFRlQKewoKICAgIHBzSSBycGs5ZnNHcEloa0lzLCAyUWh1RWhmc29FOTlzLCBHcEloa0lzTkk5RVRrUW1zamtxcyB7CiAgICAgICAgcnBrOWZzR3BJaGtJczo6c1E5SSBFcyBlRXNJT1E5STsKICAgIH0KICAgIHBzSSBhRUprbUVUa1FtOwoKICAgICsqKgogICAgICogSGpJIGVFc0kgUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAVUVoIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcWhRVElGVElmICRScElodjsKCiAgICArKioKICAgICAqIEhqSSBsUWZJOSBlSWttSiBScEloa0lmLgogICAgICoKICAgICAqIEBVRWggXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTkKICAgICAqKwogICAgcWhRVElGVElmICRsUWZJOTsKCiAgICArKioKICAgICAqIEhqSSBoSTlFVGtRbXNqa3FzIFRqRVQgc2pRcDlmIGVJIElFSkloIDlRRWZJZi4KICAgICAqCiAgICAgKiBAVUVoIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiAkSUVKSWg2UUVmID0gW107CgogICAgKyoqCiAgICAgKiB0OTkgUWkgVGpJIEo5UWVFOTl2IGhJSmtzVEloSWYgZXBrOWZJaCBsRUZoUXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGICRsRUZoUXMgPSBbXTsKCiAgICArKioKICAgICAqIHQ5OSBRaSBUakkgOVFGRTk5diBoSUprc1RJaElmIGVwazlmSWggbEVGaFFzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICQ5UUZFOTNFRmhRcyA9IFtdOwoKICAgICsqKgogICAgICogdCBoSXE5RUZJbEltVCBpUWggVGpJIFR2cWtGRTkgZkk5SVRJIGlwbUZUa1FtLgogICAgICoKICAgICAqIEBVRWggXG85UXNwaEkKICAgICAqKwogICAgcWhRVElGVElmICRRbW5JOUlUSTsKCiAgICArKioKICAgICAqIEhqSSBxaFFxSWhUa0lzIFRqRVQgc2pRcDlmIGVJIGhJVHBobUlmIGloUWwgUnBJaHYgZXBrOWZJaC4KICAgICAqCiAgICAgKiBAVUVoIHNUaGttSltdCiAgICAgKisKICAgIHFoUVRJRlRJZiAkcWhRcUloVHZhRXNzVGpocCA9IFsKICAgICAgICAnaWhRbCcsCiAgICBdOwoKICAgICsqKgogICAgICogSGpJIGxJVGpRZnMgVGpFVCBzalFwOWYgZUkgaElUcGhtSWYgaWhRbCBScElodiBlcGs5ZkloLgogICAgICoKICAgICAqIEBVRWggc1Roa21KW10KICAgICAqKwogICAgcWhRVElGVElmICRxRXNzVGpocCA9IFsKICAgICAgICAnRUpKaElKRVRJJywKICAgICAgICAnRVVJaEVKSScsCiAgICAgICAgJ0VVSicsCiAgICAgICAgJ0ZRcG1UJywKICAgICAgICAnZmYnLAogICAgICAgICdmZmhFdXNSOScsCiAgICAgICAgJ2ZRSXNtVElWa3NUJywKICAgICAgICAnZlFJc21USVZrc1RRaCcsCiAgICAgICAgJ2ZwbHEnLAogICAgICAgICdmcGxxaEV1c1I5JywKICAgICAgICAnSVZrc1RzJywKICAgICAgICAnSVZrc1RzUWgnLAogICAgICAgICdJVnE5RWttJywKICAgICAgICAnSklUZWttZmttSnMnLAogICAgICAgICdKSVRGUW1tSUZUa1FtJywKICAgICAgICAnSklUSmhFbGxFaCcsCiAgICAgICAgJ2tscTlRZkknLAogICAgICAgICdrbXNJaFQnLAogICAgICAgICdrbXNJaFRKSVRrZicsCiAgICAgICAgJ2ttc0loVFFoa0ptUWhJJywKICAgICAgICAna21zSWhUcHNrbUonLAogICAgICAgICdrbXNJaFRRaGtKbVFoSXBza21KJywKICAgICAgICAnbEVWJywKICAgICAgICAnbGttJywKICAgICAgICAnaEV1JywKICAgICAgICAnaEV1VUU5cEknLAogICAgICAgICdzcGwnLAogICAgICAgICdUUXNSOScsCiAgICAgICAgJ1RRaEV1c1I5JywKICAgIF07CgogICAgKyoqCiAgICAgKiB0cXE5a0lmIEo5UWVFOSBzRlFxSXMuCiAgICAgKgogICAgICogQFVFaCBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgJHNGUXFJcyA9IFtdOwoKICAgICsqKgogICAgICogTklsUVVJZiBKOVFlRTkgc0ZRcUlzLgogICAgICoKICAgICAqIEBVRWggRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmICRoSWxRVUlmT0ZRcUlzID0gW107CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBtSXUgZzlRUnBJbVQgUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQGhJVHBobSBVUWtmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBfX0ZRbXNUaHBGVChHcElodnJwazlmSWggJFJwSWh2KQogICAgewogICAgICAgICRUamtzLT5ScElodiA9ICRScElodjsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFbWYgaElUcGhtIEVtIHBtLXNFVUlmIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbEU4SShFaGhFdiAkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bUl1M1FmSTlLbXNURW1GSSgkRVRUaGtlcFRJcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSUprc1RJaCBFIG1JdSBKOVFlRTkgc0ZRcUkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRrZkltVGtpa0loCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE9GUXFJfFxvOVFzcGhJICAkc0ZRcUkKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGowOVFlRTlPRlFxSSgka2ZJbVRraWtJaCwgJHNGUXFJKQogICAgewogICAgICAgICRUamtzLT5zRlFxSXNbJGtmSW1Ua2lrSWhdID0gJHNGUXFJOwoKICAgICAgICBraSAobElUalFmX0lWa3NUcygkc0ZRcUksICdJVlRJbWYnKSkgewogICAgICAgICAgICAkc0ZRcUktPklWVEltZigkVGprcyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiBOSWxRVUkgRSBoSUprc1RJaElmIEo5UWVFOSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXE9GUXFJfHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1a1RqUXBUMDlRZUU5T0ZRcUkoJHNGUXFJKQogICAgewogICAgICAgIGtpICghIGtzX3NUaGttSigkc0ZRcUkpKSB7CiAgICAgICAgICAgICRzRlFxSSA9IEpJVF9GOUVzcygkc0ZRcUkpOwogICAgICAgIH0KCiAgICAgICAgcG1zSVQoJFRqa3MtPnNGUXFJc1skc0ZRcUldKTsKCiAgICAgICAgJFRqa3MtPmhJbFFVSWZPRlFxSXNbXSA9ICRzRlFxSTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogTklsUVVJIEU5OSBRaCBxRXNzSWYgaElKa3NUSWhJZiBKOVFlRTkgc0ZRcUlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8bXA5OSAgJHNGUXFJcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUalFwVDA5UWVFOU9GUXFJcyhFaGhFdiAkc0ZRcUlzID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoISBrc19FaGhFdigkc0ZRcUlzKSkgewogICAgICAgICAgICAkc0ZRcUlzID0gRWhoRXZfOEl2cygkVGprcy0+c0ZRcUlzKTsKICAgICAgICB9CgogICAgICAgIGlRaElFRmogKCRzRlFxSXMgRXMgJHNGUXFJKSB7CiAgICAgICAgICAgICRUamtzLT51a1RqUXBUMDlRZUU5T0ZRcUkoJHNGUXFJKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFbSBFaGhFdiBRaSBKOVFlRTkgc0ZRcUlzIFRqRVQgdUloSSBoSWxRVUlmIGloUWwgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGhJbFFVSWZPRlFxSXMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+aElsUVVJZk9GUXFJczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIHVqSWhJIEY5RXBzSSBRbSBUakkgcWhrbEVodiA4SXYgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRrZgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEkxSXYoJGtmKQogICAgewogICAgICAgIGtpICgka2Yga21zVEVtRklRaSAzUWZJOSkgewogICAgICAgICAgICAka2YgPSAka2YtPkpJVDFJdigpOwogICAgICAgIH0KCiAgICAgICAga2kgKGtzX0VoaEV2KCRrZikgfHwgJGtmIGttc1RFbUZJUWkgdGhoRXZFZTlJKSB7CiAgICAgICAgICAgIGtpIChrbV9FaGhFdigkVGprcy0+bFFmSTktPkpJVDFJdkh2cUkoKSwgWydrbVQnLCAna21USUpJaCddKSkgewogICAgICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT51akloSUttVElKSWhLbU5FdSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJGtmKTsKICAgICAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgICAgICRUamtzLT5ScElodi0+dWpJaElLbSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJGtmKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAga2kgKCRrZiAhPT0gbXA5OSAmJiAkVGprcy0+bFFmSTktPkpJVDFJdkh2cUkoKSA9PT0gJ3NUaGttSicpIHsKICAgICAgICAgICAgJGtmID0gKHNUaGttSikgJGtmOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT51akloSSgkVGprcy0+bFFmSTktPkpJVEdwRTlraWtJZjFJdkFFbEkoKSwgJz0nLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgdWpJaEkgRjlFcHNJIFFtIFRqSSBxaGtsRWh2IDhJdiBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1akloSTFJdkFRVCgka2YpCiAgICB7CiAgICAgICAga2kgKCRrZiBrbXNURW1GSVFpIDNRZkk5KSB7CiAgICAgICAgICAgICRrZiA9ICRrZi0+SklUMUl2KCk7CiAgICAgICAgfQoKICAgICAgICBraSAoa3NfRWhoRXYoJGtmKSB8fCAka2Yga21zVEVtRklRaSB0aGhFdkVlOUkpIHsKICAgICAgICAgICAga2kgKGttX0VoaEV2KCRUamtzLT5sUWZJOS0+SklUMUl2SHZxSSgpLCBbJ2ttVCcsICdrbVRJSkloJ10pKSB7CiAgICAgICAgICAgICAgICAkVGprcy0+UnBJaHYtPnVqSWhJS21USUpJaEFRVEttTkV1KCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAka2YpOwogICAgICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT51akloSUFRVEttKCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAka2YpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJFRqa3M7CiAgICAgICAgfQoKICAgICAgICBraSAoJGtmICE9PSBtcDk5ICYmICRUamtzLT5sUWZJOS0+SklUMUl2SHZxSSgpID09PSAnc1Roa21KJykgewogICAgICAgICAgICAka2YgPSAoc1Roa21KKSAka2Y7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJKCRUamtzLT5sUWZJOS0+SklUR3BFOWtpa0lmMUl2QUVsSSgpLCAnIT0nLCAka2YpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgZUVza0YgdWpJaEkgRjlFcHNJIFRRIFRqSSBScElodi4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWpJaEkoJEZROXBsbSwgJFFxSWhFVFFoID0gbXA5OSwgJFVFOXBJID0gbXA5OSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICBraSAoJEZROXBsbSBrbXNURW1GSVFpIG85UXNwaEkgJiYga3NfbXA5OSgkUXFJaEVUUWgpKSB7CiAgICAgICAgICAgICRGUTlwbG0oJFJwSWh2ID0gJFRqa3MtPmxRZkk5LT5tSXVHcElodmJrVGpRcFROSTlFVGtRbXNqa3FzKCkpOwoKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5FZmZBSXNUSWZiakloSUdwSWh2KCRScElodi0+SklUR3BJaHYoKSwgJGVRUTlJRW0pOwogICAgICAgIH0gSTlzSSB7CiAgICAgICAgICAgICRUamtzLT5ScElodi0+dWpJaEkoLi4uaXBtRl9KSVRfRWhKcygpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGVFc2tGIHVqSWhJIEY5RXBzSSBUUSBUakkgUnBJaHYsIEVtZiBoSVRwaG0gVGpJIGlraHNUIGhJc3A5VC4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJfHNUaGttSnxFaGhFdnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBsa1ZJZiAgJFFxSWhFVFFoCiAgICAgKiBAcUVoRWwgIGxrVklmICAkVUU5cEkKICAgICAqIEBxRWhFbCAgc1Roa21KICAkZVFROUlFbQogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxzVEVUa0Z8bXA5OQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWtoc1RiakloSSgkRlE5cGxtLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5LCAkZVFROUlFbSA9ICdFbWYnKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaEkoLi4uaXBtRl9KSVRfRWhKcygpKS0+aWtoc1QoKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxFaGhFdnxzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBRaGJqSWhJKCRGUTlwbG0sICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTkpCiAgICB7CiAgICAgICAgWyRVRTlwSSwgJFFxSWhFVFFoXSA9ICRUamtzLT5ScElodi0+cWhJcUVoSUJFOXBJdG1mTXFJaEVUUWgoCiAgICAgICAgICAgICRVRTlwSSwgJFFxSWhFVFFoLCBpcG1GX21wbF9FaEpzKCkgPT09IHgKICAgICAgICApOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJKCRGUTlwbG0sICRRcUloRVRRaCwgJFVFOXBJLCAnUWgnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFIGVFc2tGICJ1akloSSBtUVQiIEY5RXBzSSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBcbzlRc3BoSXxzVGhrbUp8RWhoRXZ8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgbGtWSWYgICRRcUloRVRRaAogICAgICogQHFFaEVsICBsa1ZJZiAgJFVFOXBJCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGVRUTlJRW0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVqSWhJQVFUKCRGUTlwbG0sICRRcUloRVRRaCA9IG1wOTksICRVRTlwSSA9IG1wOTksICRlUVE5SUVtID0gJ0VtZicpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT51akloSSgkRlE5cGxtLCAkUXFJaEVUUWgsICRVRTlwSSwgJGVRUTlJRW0uJyBtUVQnKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBFbSAiUWggdWpJaEkgbVFUIiBGOUVwc0kgVFEgVGpJIFJwSWh2LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8RWhoRXZ8c1Roa21KfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtCiAgICAgKiBAcUVoRWwgIGxrVklmICAkUXFJaEVUUWgKICAgICAqIEBxRWhFbCAgbGtWSWYgICRVRTlwSQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUWhiakloSUFRVCgkRlE5cGxtLCAkUXFJaEVUUWggPSBtcDk5LCAkVUU5cEkgPSBtcDk5KQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaElBUVQoJEZROXBsbSwgJFFxSWhFVFFoLCAkVUU5cEksICdRaCcpOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaGZJaCBldiIgRjlFcHNJIGlRaCBFIFRrbElzVEVscSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIDlFVElzVCgkRlE5cGxtID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoa3NfbXA5OSgkRlE5cGxtKSkgewogICAgICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRvaElFVElmdFRvUTlwbG0oKSA/PyAnRmhJRVRJZl9FVCc7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+UnBJaHYtPjlFVElzVCgkRlE5cGxtKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEVtICJRaGZJaCBldiIgRjlFcHNJIGlRaCBFIFRrbElzVEVscSBUUSBUakkgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFE5ZklzVCgkRlE5cGxtID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoa3NfbXA5OSgkRlE5cGxtKSkgewogICAgICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRvaElFVElmdFRvUTlwbG0oKSA/PyAnRmhJRVRJZl9FVCc7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+UnBJaHYtPlE5ZklzVCgkRlE5cGxtKTsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgRlE5OUlGVGtRbSBRaSBsUWZJOXMgaWhRbCBxOUVrbSBFaGhFdnMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGtUSWxzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9ROTlJRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGp2ZmhFVEkoRWhoRXYgJGtUSWxzKQogICAgewogICAgICAgICRrbXNURW1GSSA9ICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCk7CgogICAgICAgIGhJVHBobSAka21zVEVtRkktPm1JdW9ROTlJRlRrUW0oRWhoRXZfbEVxKGlwbUZUa1FtICgka1RJbCkgcHNJICgka1RJbHMsICRrbXNURW1GSSkgewogICAgICAgICAgICAkbFFmSTkgPSAka21zVEVtRkktPm1JdTJoUWxycGs5ZkloKCRrVElsKTsKCiAgICAgICAgICAgIGtpIChGUXBtVCgka1RJbHMpID4gWCkgewogICAgICAgICAgICAgICAgJGxRZkk5LT5xaElVSW1UczZFV3Y2UUVma21KID0gM1FmSTk6OnFoSVVJbVRzNkVXdjZRRWZrbUooKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRsUWZJOTsKICAgICAgICB9LCAka1RJbHMpKTsKICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBFIEZROTlJRlRrUW0gUWkgbFFmSTlzIGloUWwgRSBoRXUgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRScElodgogICAgICogQHFFaEVsICBFaGhFdiAgJGVrbWZrbUpzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXG9ROTlJRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGloUWxHcElodigkUnBJaHYsICRla21ma21KcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+anZmaEVUSSgKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPnNJOUlGVCgkUnBJaHYsICRla21ma21KcykKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdi4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAka2YKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUTk5SUZUa1FtfHNURVRrRltdfHNURVRrRnxtcDk5CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa21mKCRrZiwgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBraSAoa3NfRWhoRXYoJGtmKSB8fCAka2Yga21zVEVtRklRaSB0aGhFdkVlOUkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5pa21mM0Vtdigka2YsICRGUTlwbG1zKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+dWpJaEkxSXYoJGtmKS0+aWtoc1QoJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBscDlUa3E5SSBsUWZJOXMgZXYgVGpJa2ggcWhrbEVodiA4SXZzLgogICAgICoKICAgICAqIEBxRWhFbCAgXEs5OXBsa21FVElcb1FtVGhFRlRzXE9wcXFRaFRcdGhoRXZFZTlJfEVoaEV2ICAka2ZzCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1E5OUlGVGtRbQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWttZjNFbXYoJGtmcywgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICAka2ZzID0gJGtmcyBrbXNURW1GSVFpIHRoaEV2RWU5SSA/ICRrZnMtPlRRdGhoRXYoKSA6ICRrZnM7CgogICAgICAgIGtpIChJbHFUdigka2ZzKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5LT5tSXVvUTk5SUZUa1FtKCk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJFRqa3MtPnVqSWhJMUl2KCRrZnMpLT5KSVQoJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogMmttZiBFIGxRZkk5IGV2IGtUcyBxaGtsRWh2IDhJdiBRaCBUamhRdSBFbSBJVkZJcVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGtmCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8XEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1E5OUlGVGtRbXxzVEVUa0Z8c1RFVGtGW10KICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTk+CiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa21mTWgyRWs5KCRrZiwgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICAkaElzcDlUID0gJFRqa3MtPmlrbWYoJGtmLCAkRlE5cGxtcyk7CgogICAgICAgICRrZiA9ICRrZiBrbXNURW1GSVFpIHRoaEV2RWU5SSA/ICRrZi0+VFF0aGhFdigpIDogJGtmOwoKICAgICAgICBraSAoa3NfRWhoRXYoJGtmKSkgewogICAgICAgICAgICBraSAoRlFwbVQoJGhJc3A5VCkgIT09IEZRcG1UKEVoaEV2X3Bta1JwSSgka2YpKSkgewogICAgICAgICAgICAgICAgVGpoUXUgKG1JdSAzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtKS0+c0lUM1FmSTkoCiAgICAgICAgICAgICAgICAgICAgSklUX0Y5RXNzKCRUamtzLT5sUWZJOSksIEVoaEV2X2ZraWkoJGtmLCAkaElzcDlULT5sUWZJOTFJdnMoKSkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGhJVHBobSAkaElzcDlUOwogICAgICAgIH0KCiAgICAgICAga2kgKGtzX21wOTkoJGhJc3A5VCkpIHsKICAgICAgICAgICAgVGpoUXUgKG1JdSAzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtKS0+c0lUM1FmSTkoCiAgICAgICAgICAgICAgICBKSVRfRjlFc3MoJFRqa3MtPmxRZkk5KSwgJGtmCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGhJc3A5VDsKICAgIH0KCiAgICArKioKICAgICAqIDJrbWYgRSBsUWZJOSBldiBrVHMgcWhrbEVodiA4SXYgUWggaElUcGhtIGloSXNqIGxRZkk5IGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgbGtWSWYgICRrZgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRGUTlwbG1zCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWttZk1oQUl1KCRrZiwgJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBraSAoISBrc19tcDk5KCRsUWZJOSA9ICRUamtzLT5pa21mKCRrZiwgJEZROXBsbXMpKSkgewogICAgICAgICAgICBoSVRwaG0gJGxRZkk5OwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAya21mIEUgbFFmSTkgZXYga1RzIHFoa2xFaHYgOEl2IFFoIEZFOTkgRSBGRTk5ZUVGOC4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAka2YKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8RWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQHFFaEVsICBcbzlRc3BoSXxtcDk5ICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8XEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcb1E5OUlGVGtRbXxzVEVUa0ZbXXxzVEVUa0Z8bGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlrbWZNaCgka2YsICRGUTlwbG1zID0gWycqJ10sIG85UXNwaEkgJEZFOTllRUY4ID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoJEZROXBsbXMga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRGRTk5ZUVGOCA9ICRGUTlwbG1zOwoKICAgICAgICAgICAgJEZROXBsbXMgPSBbJyonXTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJGxRZkk5ID0gJFRqa3MtPmlrbWYoJGtmLCAkRlE5cGxtcykpKSB7CiAgICAgICAgICAgIGhJVHBobSAkbFFmSTk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEZFOTllRUY4KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGlraHNUIGhJRlFoZiBsRVRGamttSiBUakkgRVRUaGtlcFRJcyBRaCBrbXNURW1Ua0VUSSBrVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlraHNUTWhBSXUoRWhoRXYgJEVUVGhrZXBUSXMgPSBbXSwgRWhoRXYgJFVFOXBJcyA9IFtdKQogICAgewogICAgICAgIGtpICghIGtzX21wOTkoJGttc1RFbUZJID0gJFRqa3MtPnVqSWhJKCRFVFRoa2VwVElzKS0+aWtoc1QoKSkpIHsKICAgICAgICAgICAgaElUcGhtICRrbXNURW1GSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+bUl1M1FmSTlLbXNURW1GSShFaGhFdl9sSWhKSSgkRVRUaGtlcFRJcywgJFVFOXBJcykpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBpa2hzVCBoSUZRaGYgbEVURmprbUogVGpJIEVUVGhrZXBUSXMuIEtpIFRqSSBoSUZRaGYga3MgbVFUIGlRcG1mLCBGaElFVEkga1QuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBxRWhFbCAgRWhoRXYgICRVRTlwSXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVE1ob2hJRVRJKEVoaEV2ICRFVFRoa2VwVElzID0gW10sIEVoaEV2ICRVRTlwSXMgPSBbXSkKICAgIHsKICAgICAgICBraSAoISBrc19tcDk5KCRrbXNURW1GSSA9IChGOVFtSSAkVGprcyktPnVqSWhJKCRFVFRoa2VwVElzKS0+aWtoc1QoKSkpIHsKICAgICAgICAgICAgaElUcGhtICRrbXNURW1GSTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+RmhJRVRJTWgya2hzVCgkRVRUaGtlcFRJcywgJFVFOXBJcyk7CiAgICB9CgogICAgKyoqCiAgICAgKiB0VFRJbHFUIFRRIEZoSUVUSSBUakkgaElGUWhmLiBLaSBFIHBta1JwSSBGUW1zVGhFa21UIFVrUTlFVGtRbSBRRkZwaHMsIEVUVElscVQgVFEgaWttZiBUakkgbEVURmprbUogaElGUWhmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRmhJRVRJTWgya2hzVChFaGhFdiAkRVRUaGtlcFRJcyA9IFtdLCBFaGhFdiAkVUU5cElzID0gW10pCiAgICB7CiAgICAgICAgVGh2IHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT51a1RqT0VVSXFRa21US2lBSUlmSWYoaW0gKCkgPT4gJFRqa3MtPkZoSUVUSShFaGhFdl9sSWhKSSgkRVRUaGtlcFRJcywgJFVFOXBJcykpKTsKICAgICAgICB9IEZFVEZqIChQbWtScElvUW1zVGhFa21UQmtROUVUa1FtZ1ZGSXFUa1FtICRJKSB7CiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+cHNJYmhrVElhZlEoKS0+dWpJaEkoJEVUVGhrZXBUSXMpLT5pa2hzVCgpID8/IFRqaFF1ICRJOwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIG9oSUVUSSBRaCBwcWZFVEkgRSBoSUZRaGYgbEVURmprbUogVGpJIEVUVGhrZXBUSXMsIEVtZiBpazk5IGtUIHVrVGogVUU5cElzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJTWhvaElFVEkoRWhoRXYgJEVUVGhrZXBUSXMsIEVoaEV2ICRVRTlwSXMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gVEVxKCRUamtzLT5pa2hzVE1ob2hJRVRJKCRFVFRoa2VwVElzLCAkVUU5cElzKSwgaXBtRlRrUW0gKCRrbXNURW1GSSkgcHNJICgkVUU5cElzKSB7CiAgICAgICAgICAgIGtpICghICRrbXNURW1GSS0+dUVzTklGSW1UOXZvaElFVElmKSB7CiAgICAgICAgICAgICAgICAka21zVEVtRkktPmlrOTkoJFVFOXBJcyktPnNFVUkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogZ1ZJRnBUSSBUakkgUnBJaHYgRW1mIEpJVCBUakkgaWtoc1QgaElzcDlUIFFoIFRqaFF1IEVtIElWRklxVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8c1RFVGtGCiAgICAgKgogICAgICogQFRqaFF1cyBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOUFRVDJRcG1mZ1ZGSXFUa1FtPFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5PgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaWtoc1RNaDJFazkoJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBraSAoISBrc19tcDk5KCRsUWZJOSA9ICRUamtzLT5pa2hzVCgkRlE5cGxtcykpKSB7CiAgICAgICAgICAgIGhJVHBobSAkbFFmSTk7CiAgICAgICAgfQoKICAgICAgICBUamhRdSAobUl1IDNRZkk5QVFUMlFwbWZnVkZJcVRrUW0pLT5zSVQzUWZJOShKSVRfRjlFc3MoJFRqa3MtPmxRZkk5KSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnVklGcFRJIFRqSSBScElodiBFbWYgSklUIFRqSSBpa2hzVCBoSXNwOVQgUWggRkU5OSBFIEZFOTllRUY4LgogICAgICoKICAgICAqIEBxRWhFbCAgXG85UXNwaEl8RWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQHFFaEVsICBcbzlRc3BoSXxtcDk5ICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8c1RFVGtGfGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBpa2hzVE1oKCRGUTlwbG1zID0gWycqJ10sIG85UXNwaEkgJEZFOTllRUY4ID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoJEZROXBsbXMga21zVEVtRklRaSBvOVFzcGhJKSB7CiAgICAgICAgICAgICRGRTk5ZUVGOCA9ICRGUTlwbG1zOwoKICAgICAgICAgICAgJEZROXBsbXMgPSBbJyonXTsKICAgICAgICB9CgogICAgICAgIGtpICghIGtzX21wOTkoJGxRZkk5ID0gJFRqa3MtPmlraHNUKCRGUTlwbG1zKSkpIHsKICAgICAgICAgICAgaElUcGhtICRsUWZJOTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkRkU5OWVFRjgoKTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIFJwSWh2IEVtZiBKSVQgVGpJIGlraHNUIGhJc3A5VCBraSBrVCdzIFRqSSBzUTlJIGxFVEZqa21KIGhJRlFoZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJEZROXBsbXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTkKICAgICAqCiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5QVFUMlFwbWZnVkZJcVRrUW08XEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTk+CiAgICAgKiBAVGpoUXVzIFxBS0F0XG5FVEVlRXNJXDNwOVRrcTlJTklGUWhmczJRcG1mZ1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzUTlJKCRGUTlwbG1zID0gWycqJ10pCiAgICB7CiAgICAgICAgVGh2IHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5lRXNJT1E5SSgkRlE5cGxtcyk7CiAgICAgICAgfSBGRVRGaiAoTklGUWhmc0FRVDJRcG1mZ1ZGSXFUa1FtKSB7CiAgICAgICAgICAgIFRqaFF1IChtSXUgM1FmSTlBUVQyUXBtZmdWRklxVGtRbSktPnNJVDNRZkk5KEpJVF9GOUVzcygkVGprcy0+bFFmSTkpKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBza21KOUkgRlE5cGxtJ3MgVUU5cEkgaWhRbCBUakkgaWtoc1QgaElzcDlUIFFpIEUgUnBJaHYuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFVFOXBJKCRGUTlwbG0pCiAgICB7CiAgICAgICAga2kgKCRoSXNwOVQgPSAkVGprcy0+aWtoc1QoWyRGUTlwbG1dKSkgewogICAgICAgICAgICAkRlE5cGxtID0gJEZROXBsbSBrbXNURW1GSVFpIGdWcWhJc3NrUW0gPyAkRlE5cGxtLT5KSVRCRTlwSSgkVGprcy0+SklUMGhFbGxFaCgpKSA6ICRGUTlwbG07CgogICAgICAgICAgICBoSVRwaG0gJGhJc3A5VC0+e09UaDo6RWlUSWg2RXNUKCRGUTlwbG0sICcuJyl9OwogICAgICAgIH0KICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHNrbUo5SSBGUTlwbG0ncyBVRTlwSSBpaFFsIFRqSSBpa2hzVCBoSXNwOVQgUWkgRSBScElodiBraSBrVCdzIFRqSSBzUTlJIGxFVEZqa21KIGhJRlFoZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTlBUVQyUXBtZmdWRklxVGtRbTxcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOT4KICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcM3A5VGtxOUlOSUZRaGZzMlFwbWZnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNROUlCRTlwSSgkRlE5cGxtKQogICAgewogICAgICAgICRGUTlwbG0gPSAkRlE5cGxtIGttc1RFbUZJUWkgZ1ZxaElzc2tRbSA/ICRGUTlwbG0tPkpJVEJFOXBJKCRUamtzLT5KSVQwaEVsbEVoKCkpIDogJEZROXBsbTsKCiAgICAgICAgaElUcGhtICRUamtzLT5zUTlJKFskRlE5cGxtXSktPntPVGg6OkVpVEloNkVzVCgkRlE5cGxtLCAnLicpfTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIHNrbUo5SSBGUTlwbG0ncyBVRTlwSSBpaFFsIFRqSSBpa2hzVCBoSXNwOVQgUWkgVGpJIFJwSWh2IFFoIFRqaFF1IEVtIElWRklxVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQGhJVHBobSBsa1ZJZgogICAgICoKICAgICAqIEBUamhRdXMgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTlBUVQyUXBtZmdWRklxVGtRbTxcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOT4KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFVFOXBJTWgyRWs5KCRGUTlwbG0pCiAgICB7CiAgICAgICAgJEZROXBsbSA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1FtID8gJEZROXBsbS0+SklUQkU5cEkoJFRqa3MtPkpJVDBoRWxsRWgoKSkgOiAkRlE5cGxtOwoKICAgICAgICBoSVRwaG0gJFRqa3MtPmlraHNUTWgyRWs5KFskRlE5cGxtXSktPntPVGg6OkVpVEloNkVzVCgkRlE5cGxtLCAnLicpfTsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIFJwSWh2IEVzIEUgInNJOUlGVCIgc1RFVElsSW1ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxvUTk5SUZUa1FtfHNURVRrRltdCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQoJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICAkZXBrOWZJaCA9ICRUamtzLT5FcXE5dk9GUXFJcygpOwoKICAgICAgICArKyBLaSB1SSBFRlRwRTk5diBpUXBtZiBsUWZJOXMgdUkgdWs5OSBFOXNRIElFSkloIDlRRWYgRW12IGhJOUVUa1Ftc2prcXMgVGpFVAogICAgICAgICsrIGpFVUkgZUlJbSBzcUlGa2lrSWYgRXMgbUlJZmttSiBUUSBlSSBJRUpJaCA5UUVmSWYsIHVqa0ZqIHVrOTkgc1E5VUkgVGpJCiAgICAgICAgKysgbS9YIFJwSWh2IGtzc3BJIGlRaCBUakkgZklVSTlRcUlocyBUUSBFVVFrZiBocG1ta21KIEUgOVFUIFFpIFJwSWhrSXMuCiAgICAgICAga2kgKEZRcG1UKCRsUWZJOXMgPSAkZXBrOWZJaC0+SklUM1FmSTlzKCRGUTlwbG1zKSkgPiB3KSB7CiAgICAgICAgICAgICRsUWZJOXMgPSAkZXBrOWZJaC0+SUVKSWg2UUVmTkk5RVRrUW1zKCRsUWZJOXMpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRlcGs5ZkloLT5KSVQzUWZJOSgpLT5tSXVvUTk5SUZUa1FtKCRsUWZJOXMpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBqdmZoRVRJZiBsUWZJOXMgdWtUalFwVCBJRUpJaCA5UUVma21KLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXZ8c1Roa21KICAkRlE5cGxtcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOVtdfHNURVRrRltdCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBKSVQzUWZJOXMoJEZROXBsbXMgPSBbJyonXSkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5LT5qdmZoRVRJKAogICAgICAgICAgICAkVGprcy0+UnBJaHYtPkpJVCgkRlE5cGxtcyktPkU5OSgpCiAgICAgICAgKS0+RTk5KCk7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaCA5UUVmIFRqSSBoSTlFVGtRbXNqa3FzIGlRaCBUakkgbFFmSTlzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRsUWZJOXMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIElFSkloNlFFZk5JOUVUa1FtcyhFaGhFdiAkbFFmSTlzKQogICAgewogICAgICAgIGlRaElFRmogKCRUamtzLT5JRUpJaDZRRWYgRXMgJG1FbEkgPT4gJEZRbXNUaEVrbVRzKSB7CiAgICAgICAgICAgICsrIDJRaCBtSXNUSWYgSUVKSWggOVFFZnMgdUknOTkgczhrcSA5UUVma21KIFRqSWwgakloSSBFbWYgVGpJdiB1azk5IGVJIHNJVCBFcyBFbQogICAgICAgICAgICArKyBJRUpJaCA5UUVmIFFtIFRqSSBScElodiBUUSBoSVRoa0lVSSBUakkgaEk5RVRrUW0gc1EgVGpFVCBUakl2IHVrOTkgZUkgSUVKSWgKICAgICAgICAgICAgKysgOVFFZklmIFFtIFRqRVQgUnBJaHYsIGVJRkVwc0kgVGpFVCBrcyB1akloSSBUakl2IEpJVCBqdmZoRVRJZiBFcyBsUWZJOXMuCiAgICAgICAgICAgIGtpICghIHNUaF9GUW1URWttcygkbUVsSSwgJy4nKSkgewogICAgICAgICAgICAgICAgJGxRZkk5cyA9ICRUamtzLT5JRUpJaDZRRWZOSTlFVGtRbSgkbFFmSTlzLCAkbUVsSSwgJEZRbXNUaEVrbVRzKTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRsUWZJOXM7CiAgICB9CgogICAgKyoqCiAgICAgKiBnRUpJaDl2IDlRRWYgVGpJIGhJOUVUa1Ftc2prcSBRbSBFIHNJVCBRaSBsUWZJOXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGxRZkk5cwogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJICAkRlFtc1RoRWttVHMKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIElFSkloNlFFZk5JOUVUa1FtKEVoaEV2ICRsUWZJOXMsICRtRWxJLCBvOVFzcGhJICRGUW1zVGhFa21UcykKICAgIHsKICAgICAgICArKyAya2hzVCB1SSB1azk5ICJlRUY4IHBxIiBUakkgSVZrc1RrbUogdWpJaEkgRlFtZmtUa1FtcyBRbSBUakkgUnBJaHYgc1EgdUkgRkVtCiAgICAgICAgKysgRWZmIFFwaCBJRUpJaCBGUW1zVGhFa21Ucy4gSGpJbSB1SSB1azk5IGxJaEpJIFRqSSB1akloSXMgVGpFVCB1SWhJIFFtIFRqSQogICAgICAgICsrIFJwSWh2IGVFRjggVFEga1Qga20gUWhmSWggVGpFVCBFbXYgdWpJaEkgRlFtZmtUa1FtcyBsa0pqVCBlSSBzcUlGa2lrSWYuCiAgICAgICAgJGhJOUVUa1FtID0gJFRqa3MtPkpJVE5JOUVUa1FtKCRtRWxJKTsKCiAgICAgICAgJGhJOUVUa1FtLT5FZmZnRUpJaG9RbXNUaEVrbVRzKCRsUWZJOXMpOwoKICAgICAgICAkRlFtc1RoRWttVHMoJGhJOUVUa1FtKTsKCiAgICAgICAgKysgTW1GSSB1SSBqRVVJIFRqSSBoSXNwOVRzLCB1SSBMcHNUIGxFVEZqIFRqUXNJIGVFRjggcHEgVFEgVGpJa2ggcUVoSW1UIGxRZkk5cwogICAgICAgICsrIHBza21KIFRqSSBoSTlFVGtRbXNqa3Ega21zVEVtRkkuIEhqSW0gdUkgTHBzVCBoSVRwaG0gVGpJIGlrbWtzaklmIEVoaEV2cwogICAgICAgICsrIFFpIGxRZkk5cyB1amtGaiBqRVVJIGVJSW0gSUVKSWg5diBqdmZoRVRJZiBFbWYgRWhJIGhJRWZrSWYgaVFoIGhJVHBobS4KICAgICAgICBoSVRwaG0gJGhJOUVUa1FtLT5sRVRGaigKICAgICAgICAgICAgJGhJOUVUa1FtLT5rbWtUTkk5RVRrUW0oJGxRZkk5cywgJG1FbEkpLAogICAgICAgICAgICAkaEk5RVRrUW0tPkpJVGdFSkloKCksICRtRWxJCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgaEk5RVRrUW0ga21zVEVtRkkgaVFoIFRqSSBKa1VJbSBoSTlFVGtRbSBtRWxJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFxOSTlFVGtRbXNcTkk5RVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVE5JOUVUa1FtKCRtRWxJKQogICAgewogICAgICAgICsrIGJJIHVFbVQgVFEgaHBtIEUgaEk5RVRrUW1zamtxIFJwSWh2IHVrVGpRcFQgRW12IEZRbXNUaEVrbXMgc1EgVGpFVCB1SSB1azk5CiAgICAgICAgKysgbVFUIGpFVUkgVFEgaElsUVVJIFRqSXNJIHVqSWhJIEY5RXBzSXMgbEVtcEU5OXYgdWprRmogSklUcyBoSUU5OXYgakVGOHYKICAgICAgICArKyBFbWYgSWhoUWggcWhRbUkuIGJJIGZRbSdUIHVFbVQgRlFtc1RoRWttVHMgZUlGRXBzSSB1SSBFZmYgSUVKSWggUW1Jcy4KICAgICAgICAkaEk5RVRrUW0gPSBOSTlFVGtRbTo6bVFvUW1zVGhFa21UcyhpcG1GVGtRbSAoKSBwc0kgKCRtRWxJKSB7CiAgICAgICAgICAgIFRodiB7CiAgICAgICAgICAgICAgICBoSVRwaG0gJFRqa3MtPkpJVDNRZkk5KCktPm1JdUttc1RFbUZJKCktPiRtRWxJKCk7CiAgICAgICAgICAgIH0gRkVURmogKHJFZjNJVGpRZm9FOTlnVkZJcVRrUW0pIHsKICAgICAgICAgICAgICAgIFRqaFF1IE5JOUVUa1FtQVFUMlFwbWZnVkZJcVRrUW06OmxFOEkoJFRqa3MtPkpJVDNRZkk5KCksICRtRWxJKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICAkbUlzVElmID0gJFRqa3MtPmhJOUVUa1Ftc0FJc1RJZlBtZkloKCRtRWxJKTsKCiAgICAgICAgKysgS2kgVGpJaEkgRWhJIG1Jc1RJZiBoSTlFVGtRbXNqa3FzIHNJVCBRbSBUakkgUnBJaHYsIHVJIHVrOTkgcXBUIFRqUXNJIFFtVFEKICAgICAgICArKyBUakkgUnBJaHYga21zVEVtRklzIHNRIFRqRVQgVGpJdiBGRW0gZUkgakVtZjlJZiBFaVRJaCBUamtzIGhJOUVUa1Ftc2prcQogICAgICAgICsrIGtzIDlRRWZJZi4gS20gVGprcyB1RXYgVGpJdiB1azk5IEU5OSBUaGtGODlJIGZRdW0gRXMgVGpJdiBFaEkgOVFFZklmLgogICAgICAgIGtpIChGUXBtVCgkbUlzVElmKSA+IHcpIHsKICAgICAgICAgICAgJGhJOUVUa1FtLT5KSVRHcElodigpLT51a1RqKCRtSXNUSWYpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSTlFVGtRbTsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBUakkgZklJcTl2IG1Jc1RJZiBoSTlFVGtRbXMgaVFoIEUgSmtVSW0gVFFxLTlJVUk5IGhJOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIGhJOUVUa1Ftc0FJc1RJZlBtZkloKCRoSTlFVGtRbSkKICAgIHsKICAgICAgICAkbUlzVElmID0gW107CgogICAgICAgICsrIGJJIEVoSSBlRXNrRkU5OXYgOVFROGttSiBpUWggRW12IGhJOUVUa1Ftc2prcXMgVGpFVCBFaEkgbUlzVElmIGZJSXFJaCBUakVtCiAgICAgICAgKysgVGpJIEprVUltIFRRcS05SVVJOSBoSTlFVGtRbXNqa3EuIGJJIHVrOTkgTHBzVCBGaklGOCBpUWggRW12IGhJOUVUa1FtcwogICAgICAgICsrIFRqRVQgc1RFaFQgdWtUaiBUakkgSmtVSW0gVFFxIGhJOUVUa1FtcyBFbWYgRWZmcyBUaklsIFRRIFFwaCBFaGhFdnMuCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPklFSkloNlFFZiBFcyAkbUVsSSA9PiAkRlFtc1RoRWttVHMpIHsKICAgICAgICAgICAga2kgKCRUamtzLT5rc0FJc1RJZlBtZkloKCRoSTlFVGtRbSwgJG1FbEkpKSB7CiAgICAgICAgICAgICAgICAkbUlzVElmW3NwZXNUaCgkbUVsSSwgc1RoOUltKCRoSTlFVGtRbS4nLicpKV0gPSAkRlFtc1RoRWttVHM7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkbUlzVElmOwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBoSTlFVGtRbXNqa3Ega3MgbUlzVElmLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkaEk5RVRrUW0KICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBlUVE5CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBrc0FJc1RJZlBtZkloKCRoSTlFVGtRbSwgJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIHNUaF9GUW1URWttcygkbUVsSSwgJy4nKSAmJiBzVGhfc1RFaFRzX3VrVGooJG1FbEksICRoSTlFVGtRbS4nLicpOwogICAgfQoKICAgICsqKgogICAgICogMElUIEUgOUVXdiBGUTk5SUZUa1FtIGlRaCBUakkgSmtVSW0gUnBJaHYuCiAgICAgKgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXDZFV3ZvUTk5SUZUa1FtCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGcGhzUWgoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RXFxOXZPRlFxSXMoKS0+UnBJaHYtPkZwaHNRaCgpLT5sRXEoaXBtRlRrUW0gKCRoSUZRaGYpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCktPm1JdTJoUWxycGs5ZkloKCRoSUZRaGYpOwogICAgICAgIH0pOwogICAgfQoKICAgICsqKgogICAgICogdGZmIEUgSkltSWhrRiAiUWhmSWggZXYiIEY5RXBzSSBraSBUakkgUnBJaHYgZlFJc20nVCBFOWhJRWZ2IGpFVUkgUW1JLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSW1pUWhGSU1oZklocnYoKQogICAgewogICAgICAgIGtpIChJbHFUdigkVGprcy0+UnBJaHYtPlFoZklocykgJiYgSWxxVHYoJFRqa3MtPlJwSWh2LT5wbWtRbU1oZklocykpIHsKICAgICAgICAgICAgJFRqa3MtPlFoZklocnYoJFRqa3MtPmxRZkk5LT5KSVRHcEU5a2lrSWYxSXZBRWxJKCksICdFc0YnKTsKICAgICAgICB9CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgRSBGUTk5SUZUa1FtIHVrVGogVGpJIFVFOXBJcyBRaSBFIEprVUltIEZROXBsbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBzVGhrbUp8bXA5OSAgJDhJdgogICAgICogQGhJVHBobSBcSzk5cGxrbUVUSVxPcHFxUWhUXG9ROTlJRlRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHE5cEY4KCRGUTlwbG0sICQ4SXYgPSBtcDk5KQogICAgewogICAgICAgICRoSXNwOVRzID0gJFRqa3MtPlRRckVzSSgpLT5xOXBGOCgkRlE5cGxtLCAkOEl2KTsKCiAgICAgICAgJEZROXBsbSA9ICRGUTlwbG0ga21zVEVtRklRaSBnVnFoSXNza1FtID8gJEZROXBsbS0+SklUQkU5cEkoJFRqa3MtPkpJVDBoRWxsRWgoKSkgOiAkRlE5cGxtOwoKICAgICAgICAkRlE5cGxtID0gT1RoOjpFaVRJaCgkRlE5cGxtLCAieyRUamtzLT5sUWZJOS0+SklUSEVlOUkoKX0uIik7CgogICAgICAgICsrIEtpIFRqSSBsUWZJOSBqRXMgRSBscFRFVFFoIGlRaCBUakkgaElScElzVElmIEZROXBsbSwgdUkgdWs5OSBzcWttIFRqaFFwSmoKICAgICAgICArKyBUakkgaElzcDlUcyBFbWYgbHBURVRJIFRqSSBVRTlwSXMgc1EgVGpFVCBUakkgbHBURVRJZiBVSWhza1FtIFFpIFRqSXNJCiAgICAgICAgKysgRlE5cGxtcyBFaEkgaElUcGhtSWYgRXMgdlFwIHVRcDlmIElWcUlGVCBpaFFsIFRqSXNJIGc5UVJwSW1UIGxRZkk5cy4KICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPmpFczBJVDNwVEVUUWgoJEZROXBsbSkgJiYKICAgICAgICAgICAgISAkVGprcy0+bFFmSTktPmpFc29Fc1QoJEZROXBsbSkgJiYKICAgICAgICAgICAgISBrbV9FaGhFdigkRlE5cGxtLCAkVGprcy0+bFFmSTktPkpJVG5FVElzKCkpKSB7CiAgICAgICAgICAgIGhJVHBobSAkaElzcDlUczsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkaElzcDlUcy0+bEVxKGlwbUZUa1FtICgkVUU5cEkpIHBzSSAoJEZROXBsbSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5LT5tSXUyaFFscnBrOWZJaChbJEZROXBsbSA9PiAkVUU5cEldKS0+eyRGUTlwbG19OwogICAgICAgIH0pOwogICAgfQoKCgogICAgKyoqCiAgICAgKiBPRVVJIEUgbUl1IGxRZkk5IEVtZiBoSVRwaG0gVGpJIGttc1RFbUZJLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fCRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBGaElFVEkoRWhoRXYgJEVUVGhrZXBUSXMgPSBbXSkKICAgIHsKICAgICAgICBoSVRwaG0gVEVxKCRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCRFVFRoa2VwVElzKSwgaXBtRlRrUW0gKCRrbXNURW1GSSkgewogICAgICAgICAgICAka21zVEVtRkktPnNFVUkoKTsKICAgICAgICB9KTsKICAgIH0KCiAgICArKioKICAgICAqIE9FVUkgRSBtSXUgbFFmSTkgRW1mIGhJVHBobSBUakkga21zVEVtRkkuIHQ5OVF1IGxFc3MtRXNza0ptbEltVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRVRUaGtlcFRJcwogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXwkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gaVFoRklvaElFVEkoRWhoRXYgJEVUVGhrZXBUSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+cG1KcEVoZklmKGlwbUZUa1FtICgpIHBzSSAoJEVUVGhrZXBUSXMpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5tSXUzUWZJOUttc1RFbUZJKCktPkZoSUVUSSgkRVRUaGtlcFRJcyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBPRVVJIEUgbUl1IGxRZkk5IGttc1RFbUZJIHVrVGogbEVzcyBFc3NrSm1sSW1UIHVrVGpRcFQgaEVrc2ttSiBsUWZJOSBJVUltVHMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJEVUVGhrZXBUSXMKICAgICAqIEBoSVRwaG0gXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTl8JFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJb2hJRVRJR3BrSVQ5dihFaGhFdiAkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAzUWZJOTo6dWtUalFwVGdVSW1UcyhpbSAoKSA9PiAkVGprcy0+aVFoRklvaElFVEkoJEVUVGhrZXBUSXMpKTsKICAgIH0KCiAgICArKioKICAgICAqIFBxZkVUSSBoSUZRaGZzIGttIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIGttVAogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gcHFmRVRJKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKCRUamtzLT5FZmZQcWZFVElmdFRvUTlwbG0oJFVFOXBJcykpOwogICAgfQoKICAgICsqKgogICAgICogS21zSWhUIG1JdSBoSUZRaGZzIFFoIHBxZkVUSSBUakkgSVZrc1RrbUogUW1Jcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAcUVoRWwgIEVoaEV2fHNUaGttSiAgJHBta1JwSXJ2CiAgICAgKiBAcUVoRWwgIEVoaEV2fG1wOTkgICRwcWZFVEkKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBwcXNJaFQoRWhoRXYgJFVFOXBJcywgJHBta1JwSXJ2LCAkcHFmRVRJID0gbXA5OSkKICAgIHsKICAgICAgICBraSAoSWxxVHYoJFVFOXBJcykpIHsKICAgICAgICAgICAgaElUcGhtIHc7CiAgICAgICAgfQoKICAgICAgICBraSAoISBrc19FaGhFdihoSXNJVCgkVUU5cElzKSkpIHsKICAgICAgICAgICAgJFVFOXBJcyA9IFskVUU5cElzXTsKICAgICAgICB9CgogICAgICAgIGtpIChrc19tcDk5KCRwcWZFVEkpKSB7CiAgICAgICAgICAgICRwcWZFVEkgPSBFaGhFdl84SXZzKGhJc0lUKCRVRTlwSXMpKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPnBxc0loVCgKICAgICAgICAgICAgJFRqa3MtPkVmZkhrbElzVEVscXNIUVBxc0loVEJFOXBJcygkVGprcy0+RWZmUG1rUnBJS2ZzSFFQcXNJaFRCRTlwSXMoJFVFOXBJcykpLAogICAgICAgICAgICAkcG1rUnBJcnYsCiAgICAgICAgICAgICRUamtzLT5FZmZQcWZFVElmdFRIUVBxc0loVG9ROXBsbXMoJHBxZkVUSSkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogUHFmRVRJIFRqSSBGUTlwbG0ncyBwcWZFVEkgVGtsSXNURWxxLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfG1wOTkgICRGUTlwbG0KICAgICAqIEBoSVRwaG0ga21UfGlFOXNJCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBUUXBGaigkRlE5cGxtID0gbXA5OSkKICAgIHsKICAgICAgICAkVGtsSSA9ICRUamtzLT5sUWZJOS0+aWhJc2pIa2xJc1RFbHEoKTsKCiAgICAgICAga2kgKCRGUTlwbG0pIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKFskRlE5cGxtID0+ICRUa2xJXSk7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEgJFRqa3MtPmxRZkk5LT5wc0lzSGtsSXNURWxxcygpIHx8IGtzX21wOTkoJEZROXBsbSkpIHsKICAgICAgICAgICAgaElUcGhtIGlFOXNJOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+cHFmRVRJKFskRlE5cGxtID0+ICRUa2xJXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBLbUZoSWxJbVQgRSBGUTlwbG0ncyBVRTlwSSBldiBFIEprVUltIEVsUXBtVC4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxcSzk5cGxrbUVUSVxvUW1UaEVGVHNcbkVURWVFc0lcR3BJaHZcZ1ZxaElzc2tRbSAgJEZROXBsbQogICAgICogQHFFaEVsICBpOVFFVHxrbVQgICRFbFFwbVQKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJVlRoRQogICAgICogQGhJVHBobSBrbVQKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGttRmhJbEltVCgkRlE5cGxtLCAkRWxRcG1UID0gWCwgRWhoRXYgJElWVGhFID0gW10pCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5UUXJFc0koKS0+a21GaElsSW1UKAogICAgICAgICAgICAkRlE5cGxtLCAkRWxRcG1ULCAkVGprcy0+RWZmUHFmRVRJZnRUb1E5cGxtKCRJVlRoRSkKICAgICAgICApOwogICAgfQoKICAgICsqKgogICAgICogbklGaElsSW1UIEUgRlE5cGxtJ3MgVUU5cEkgZXYgRSBKa1VJbSBFbFFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUp8XEs5OXBsa21FVElcb1FtVGhFRlRzXG5FVEVlRXNJXEdwSWh2XGdWcWhJc3NrUW0gICRGUTlwbG0KICAgICAqIEBxRWhFbCAgaTlRRVR8a21UICAkRWxRcG1UCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkSVZUaEUKICAgICAqIEBoSVRwaG0ga21UCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSUZoSWxJbVQoJEZROXBsbSwgJEVsUXBtVCA9IFgsIEVoaEV2ICRJVlRoRSA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPmZJRmhJbEltVCgKICAgICAgICAgICAgJEZROXBsbSwgJEVsUXBtVCwgJFRqa3MtPkVmZlBxZkVUSWZ0VG9ROXBsbSgkSVZUaEUpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIHRmZiBUakkgInBxZkVUSWYgRVQiIEZROXBsbSBUUSBFbSBFaGhFdiBRaSBVRTlwSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJFVFOXBJcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmUHFmRVRJZnRUb1E5cGxtKEVoaEV2ICRVRTlwSXMpCiAgICB7CiAgICAgICAga2kgKCEgJFRqa3MtPmxRZkk5LT5wc0lzSGtsSXNURWxxcygpIHx8CiAgICAgICAgICAgIGtzX21wOTkoJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKSkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkRlE5cGxtLCAkVUU5cElzKSkgewogICAgICAgICAgICAkVGtsSXNURWxxID0gJFRqa3MtPmxRZkk5LT5paElzakhrbElzVEVscU9UaGttSigpOwoKICAgICAgICAgICAga2kgKAogICAgICAgICAgICAgICAgJFRqa3MtPmxRZkk5LT5qRXNPSVQzcFRFVFFoKCRGUTlwbG0pCiAgICAgICAgICAgICAgICB8fCAkVGprcy0+bFFmSTktPmpFc3RUVGhrZXBUSU9JVDNwVEVUUWgoJEZROXBsbSkKICAgICAgICAgICAgICAgIHx8ICRUamtzLT5sUWZJOS0+akVzb0VzVCgkRlE5cGxtKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICRUa2xJc1RFbHEgPSAkVGprcy0+bFFmSTktPm1JdUttc1RFbUZJKCkKICAgICAgICAgICAgICAgICAgICAtPmlRaEZJMms5OShbJEZROXBsbSA9PiAkVGtsSXNURWxxXSkKICAgICAgICAgICAgICAgICAgICAtPkpJVHRUVGhrZXBUSXMoKVskRlE5cGxtXSA/PyAkVGtsSXNURWxxOwogICAgICAgICAgICB9CgogICAgICAgICAgICAkVUU5cElzID0gRWhoRXZfbEloSkkoWyRGUTlwbG0gPT4gJFRrbElzVEVscV0sICRVRTlwSXMpOwogICAgICAgIH0KCiAgICAgICAgJHNJSmxJbVRzID0gcWhJSl9zcTlrVCgnK1xzL0VzXHMvK2snLCAkVGprcy0+UnBJaHYtPmloUWwpOwoKICAgICAgICAkUnBFOWtpa0lmb1E5cGxtID0gSW1mKCRzSUpsSW1UcykuJy4nLiRGUTlwbG07CgogICAgICAgICRVRTlwSXNbJFJwRTlraWtJZm9ROXBsbV0gPSB0aGg6OkpJVCgkVUU5cElzLCAkUnBFOWtpa0lmb1E5cGxtLCAkVUU5cElzWyRGUTlwbG1dKTsKCiAgICAgICAgcG1zSVQoJFVFOXBJc1skRlE5cGxtXSk7CgogICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIHBta1JwSSBLbnMgVFEgVGpJIGttc0loVElmIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZQbWtScElLZnNIUVBxc0loVEJFOXBJcyhFaGhFdiAkVUU5cElzKQogICAgewogICAgICAgIGtpICghICRUamtzLT5sUWZJOS0+cHNJc1Bta1JwSUtmcygpKSB7CiAgICAgICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgICAgIH0KCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPmxRZkk5LT5wbWtScElLZnMoKSBFcyAkcG1rUnBJS2Z0VFRoa2VwVEkpIHsKICAgICAgICAgICAgaVFoSUVGaiAoJFVFOXBJcyBFcyAmJGhRdSkgewogICAgICAgICAgICAgICAga2kgKCEgRWhoRXZfOEl2X0lWa3NUcygkcG1rUnBJS2Z0VFRoa2VwVEksICRoUXUpKSB7CiAgICAgICAgICAgICAgICAgICAgJGhRdSA9IEVoaEV2X2xJaEpJKFskcG1rUnBJS2Z0VFRoa2VwVEkgPT4gJFRqa3MtPmxRZkk5LT5tSXVQbWtScElLZigpXSwgJGhRdSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVUU5cElzOwogICAgfQoKICAgICsqKgogICAgICogdGZmIFRrbElzVEVscXMgVFEgVGpJIGttc0loVElmIFVFOXBJcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkVUU5cElzCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZIa2xJc1RFbHFzSFFQcXNJaFRCRTlwSXMoRWhoRXYgJFVFOXBJcykKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICAgICAgfQoKICAgICAgICAkVGtsSXNURWxxID0gJFRqa3MtPmxRZkk5LT5paElzakhrbElzVEVscU9UaGttSigpOwoKICAgICAgICAkRlE5cGxtcyA9IEVoaEV2X2lrOVRJaChbCiAgICAgICAgICAgICRUamtzLT5sUWZJOS0+SklUb2hJRVRJZnRUb1E5cGxtKCksCiAgICAgICAgICAgICRUamtzLT5sUWZJOS0+SklUUHFmRVRJZnRUb1E5cGxtKCksCiAgICAgICAgXSk7CgogICAgICAgIGlRaElFRmogKCRGUTlwbG1zIEVzICRGUTlwbG0pIHsKICAgICAgICAgICAgaVFoSUVGaiAoJFVFOXBJcyBFcyAmJGhRdSkgewogICAgICAgICAgICAgICAgJGhRdSA9IEVoaEV2X2xJaEpJKFskRlE5cGxtID0+ICRUa2xJc1RFbHFdLCAkaFF1KTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRVRTlwSXM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0ZmYgVGpJICJwcWZFVElmIEVUIiBGUTlwbG0gVFEgVGpJIHBxZkVUSWYgRlE5cGxtcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcHFmRVRJCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBFZmZQcWZFVElmdFRIUVBxc0loVG9ROXBsbXMoRWhoRXYgJHBxZkVUSSkKICAgIHsKICAgICAgICBraSAoISAkVGprcy0+bFFmSTktPnBzSXNIa2xJc1RFbHFzKCkpIHsKICAgICAgICAgICAgaElUcGhtICRwcWZFVEk7CiAgICAgICAgfQoKICAgICAgICAkRlE5cGxtID0gJFRqa3MtPmxRZkk5LT5KSVRQcWZFVElmdFRvUTlwbG0oKTsKCiAgICAgICAga2kgKCEga3NfbXA5OSgkRlE5cGxtKSAmJgogICAgICAgICAgICAhIEVoaEV2XzhJdl9JVmtzVHMoJEZROXBsbSwgJHBxZkVUSSkgJiYKICAgICAgICAgICAgISBrbV9FaGhFdigkRlE5cGxtLCAkcHFmRVRJKSkgewogICAgICAgICAgICAkcHFmRVRJW10gPSAkRlE5cGxtOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRwcWZFVEk7CiAgICB9CgogICAgKyoqCiAgICAgKiBuSTlJVEkgaElGUWhmcyBpaFFsIFRqSSBmRVRFZUVzSS4KICAgICAqCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBmSTlJVEkoKQogICAgewogICAgICAgIGtpIChrc3NJVCgkVGprcy0+UW1uSTlJVEkpKSB7CiAgICAgICAgICAgIGhJVHBobSBGRTk5X3BzSWhfaXBtRigkVGprcy0+UW1uSTlJVEksICRUamtzKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkVGprcy0+VFFyRXNJKCktPmZJOUlUSSgpOwogICAgfQoKICAgICsqKgogICAgICogTnBtIFRqSSBmSWlFcDlUIGZJOUlUSSBpcG1GVGtRbSBRbSBUakkgZXBrOWZJaC4KICAgICAqCiAgICAgKiBPa21GSSB1SSBmUSBtUVQgRXFxOXYgc0ZRcUlzIGpJaEksIFRqSSBoUXUgdWs5OSBFRlRwRTk5diBlSSBmSTlJVElmLgogICAgICoKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGlRaEZJbkk5SVRJKCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlJwSWh2LT5mSTlJVEkoKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIEUgaElxOUVGSWxJbVQgaVFoIFRqSSBmSWlFcDlUIGZJOUlUSSBpcG1GVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJICAkRkU5OWVFRjgKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUW1uSTlJVEkobzlRc3BoSSAkRkU5OWVFRjgpCiAgICB7CiAgICAgICAgJFRqa3MtPlFtbkk5SVRJID0gJEZFOTllRUY4OwogICAgfQoKICAgICsqKgogICAgICogbklUSWhsa21JIGtpIFRqSSBKa1VJbSBsUWZJOSBqRXMgRSBzRlFxSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAaElUcGhtIGVRUTkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIGpFc0FFbElmT0ZRcUkoJHNGUXFJKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTkgJiYgJFRqa3MtPmxRZkk5LT5qRXNBRWxJZk9GUXFJKCRzRlFxSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvRTk5IFRqSSBKa1VJbSA5UUZFOSBsUWZJOSBzRlFxSXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdnxzVGhrbUogICRzRlFxSXMKICAgICAqIEBoSVRwaG0gc1RFVGtGfGxrVklmCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSBzRlFxSXMoJHNGUXFJcykKICAgIHsKICAgICAgICAkZXBrOWZJaCA9ICRUamtzOwoKICAgICAgICBpUWhJRUZqICh0aGg6OnVoRXEoJHNGUXFJcykgRXMgJHNGUXFJID0+ICRxRWhFbElUSWhzKSB7CiAgICAgICAgICAgICsrIEtpIFRqSSBzRlFxSSA4SXYga3MgRW0ga21USUpJaCwgVGpJbSBUakkgc0ZRcUkgdUVzIHFFc3NJZiBFcyBUakkgVUU5cEkgRW1mCiAgICAgICAgICAgICsrIFRqSSBxRWhFbElUSWggOWtzVCBrcyBJbHFUdiwgc1EgdUkgdWs5OSBpUWhsRVQgVGpJIHNGUXFJIG1FbEkgRW1mIFRqSXNJCiAgICAgICAgICAgICsrIHFFaEVsSVRJaHMgakloSS4gSGpJbSwgdUknOTkgZUkgaElFZnYgVFEgRkU5OSBUakkgc0ZRcUkgUW0gVGpJIGxRZkk5LgogICAgICAgICAgICBraSAoa3Nfa21UKCRzRlFxSSkpIHsKICAgICAgICAgICAgICAgIFskc0ZRcUksICRxRWhFbElUSWhzXSA9IFskcUVoRWxJVElocywgW11dOwogICAgICAgICAgICB9CgogICAgICAgICAgICArKyBBSVZUIHVJJzk5IHFFc3MgVGpJIHNGUXFJIEZFOTllRUY4IFRRIFRqSSBGRTk5T0ZRcUkgbElUalFmIHVqa0ZqIHVrOTkgVEU4SQogICAgICAgICAgICArKyBGRWhJIFFpIEpoUXBxa21KIFRqSSAidWpJaElzIiBxaFFxSWg5diBzUSBUakkgOVFKa0ZFOSBRaGZJaCBmUUlzbSdUIEpJVAogICAgICAgICAgICArKyBsSXNzSWYgcHEgdWpJbSBFZmZrbUogc0ZRcUlzLiBIakltIHVJJzk5IGhJVHBobSBlRUY4IFFwVCBUakkgZXBrOWZJaC4KICAgICAgICAgICAgJGVwazlmSWggPSAkZXBrOWZJaC0+RkU5OUFFbElmT0ZRcUkoCiAgICAgICAgICAgICAgICAkc0ZRcUksIHRoaDo6dWhFcSgkcUVoRWxJVElocykKICAgICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIGhJVHBobSAkZXBrOWZJaDsKICAgIH0KCiAgICArKioKICAgICAqIHRxcTl2IFRqSSBzRlFxSXMgVFEgVGpJIGc5UVJwSW1UIGVwazlmSWgga21zVEVtRkkgRW1mIGhJVHBobSBrVC4KICAgICAqCiAgICAgKiBAaElUcGhtIHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gRXFxOXZPRlFxSXMoKQogICAgewogICAgICAgIGtpICghICRUamtzLT5zRlFxSXMpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzOwogICAgICAgIH0KCiAgICAgICAgJGVwazlmSWggPSBGOVFtSSAkVGprczsKCiAgICAgICAgaVFoSUVGaiAoJFRqa3MtPnNGUXFJcyBFcyAka2ZJbVRraWtJaCA9PiAkc0ZRcUkpIHsKICAgICAgICAgICAga2kgKCEga3NzSVQoJGVwazlmSWgtPnNGUXFJc1ska2ZJbVRraWtJaF0pKSB7CiAgICAgICAgICAgICAgICBGUW1Ua21wSTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGVwazlmSWgtPkZFOTlPRlFxSShpcG1GVGtRbSAoc0k5aSAkZXBrOWZJaCkgcHNJICgkc0ZRcUkpIHsKICAgICAgICAgICAgICAgICsrIEtpIFRqSSBzRlFxSSBrcyBFIG85UXNwaEkgdUkgdWs5OSBMcHNUIEpRIEVqSUVmIEVtZiBGRTk5IFRqSSBzRlFxSSB1a1RqIFRqSQogICAgICAgICAgICAgICAgKysgZXBrOWZJaCBrbXNURW1GSS4gSGpJICJGRTk5T0ZRcUkiIGxJVGpRZiB1azk5IHFoUXFJaDl2IEpoUXBxIFRqSSBGOUVwc0lzCiAgICAgICAgICAgICAgICArKyBUakVUIEVoSSBFZmZJZiBUUSBUamtzIFJwSWh2IHNRICJ1akloSSIgRjlFcHNJcyBsRWttVEVrbSBxaFFxSWggOVFKa0YuCiAgICAgICAgICAgICAgICBraSAoJHNGUXFJIGttc1RFbUZJUWkgbzlRc3BoSSkgewogICAgICAgICAgICAgICAgICAgICRzRlFxSSgkZXBrOWZJaCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgKysgS2kgVGpJIHNGUXFJIGtzIEUgc0ZRcUkgUWVMSUZULCB1SSB1azk5IEZFOTkgVGpJIEVxcTl2IGxJVGpRZiBRbSBUamtzIHNGUXFJCiAgICAgICAgICAgICAgICArKyBxRXNza21KIGttIFRqSSBlcGs5ZkloIEVtZiBUakkgbFFmSTkga21zVEVtRkkuIHRpVEloIHVJIGhwbSBFOTkgUWkgVGpJc0kKICAgICAgICAgICAgICAgICsrIHNGUXFJcyB1SSB1azk5IGhJVHBobSBlRUY4IFRqSSBlcGs5ZkloIGttc1RFbUZJIFRRIFRqSSBRcFRza2ZJIEZFOTlJaC4KICAgICAgICAgICAgICAgIGtpICgkc0ZRcUkga21zVEVtRklRaSBPRlFxSSkgewogICAgICAgICAgICAgICAgICAgICRzRlFxSS0+RXFxOXYoJGVwazlmSWgsICRUamtzLT5KSVQzUWZJOSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGVwazlmSWg7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBUakkgSmtVSW0gc0ZRcUkgUW0gVGpJIEZwaGhJbVQgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEZFOTlFZTlJICAkc0ZRcUkKICAgICAqIEBxRWhFbCAgRWhoRXYgICRxRWhFbElUSWhzCiAgICAgKiBAaElUcGhtIGxrVklmCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGRTk5T0ZRcUkoRkU5OUVlOUkgJHNGUXFJLCBFaGhFdiAkcUVoRWxJVElocyA9IFtdKQogICAgewogICAgICAgIEVoaEV2X3Btc2praVQoJHFFaEVsSVRJaHMsICRUamtzKTsKCiAgICAgICAgJFJwSWh2ID0gJFRqa3MtPkpJVEdwSWh2KCk7CgogICAgICAgICsrIGJJIHVrOTkgOElJcSBUaEVGOCBRaSBqUXUgbEVtdiB1akloSXMgRWhJIFFtIFRqSSBScElodiBlSWlRaEkgaHBtbWttSiBUakkKICAgICAgICArKyBzRlFxSSBzUSBUakVUIHVJIEZFbSBxaFFxSWg5diBKaFFwcSBUakkgRWZmSWYgc0ZRcUkgRlFtc1RoRWttVHMga20gVGpJCiAgICAgICAgKysgUnBJaHYgRXMgVGpJa2ggUXVtIGtzUTlFVElmIG1Jc1RJZiB1akloSSBzVEVUSWxJbVQgRW1mIEVVUWtmIGtzc3BJcy4KICAgICAgICAkUWhrSmttRTliakloSW9RcG1UID0ga3NfbXA5OSgkUnBJaHYtPnVqSWhJcykKICAgICAgICAgICAgICAgICAgICA/IHcgOiBGUXBtVCgkUnBJaHYtPnVqSWhJcyk7CgogICAgICAgICRoSXNwOVQgPSAkc0ZRcUkoLi4uJHFFaEVsSVRJaHMpID8/ICRUamtzOwoKICAgICAgICBraSAoRlFwbVQoKEVoaEV2KSAkUnBJaHYtPnVqSWhJcykgPiAkUWhrSmttRTliakloSW9RcG1UKSB7CiAgICAgICAgICAgICRUamtzLT5FZmZBSXViakloSXNia1Rqa20waFFwcSgkUnBJaHYsICRRaGtKa21FOWJqSWhJb1FwbVQpOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSXNwOVQ7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBUakkgSmtVSW0gbUVsSWYgc0ZRcUkgUW0gVGpJIEZwaGhJbVQgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJHNGUXFJCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkcUVoRWxJVElocwogICAgICogQGhJVHBobSBsa1ZJZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRkU5OUFFbElmT0ZRcUkoJHNGUXFJLCBFaGhFdiAkcUVoRWxJVElocyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+RkU5OU9GUXFJKGlwbUZUa1FtICguLi4kcUVoRWxJVElocykgcHNJICgkc0ZRcUkpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+RkU5OUFFbElmT0ZRcUkoJHNGUXFJLCAkcUVoRWxJVElocyk7CiAgICAgICAgfSwgJHFFaEVsSVRJaHMpOwogICAgfQoKICAgICsqKgogICAgICogQUlzVCB1akloSSBGUW1ma1RrUW1zIGV2IHM5a0ZrbUogVGpJbCBFVCBUakkgSmtVSW0gdWpJaEkgRlFwbVQuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxHcElodlxycGs5ZkloICAkUnBJaHYKICAgICAqIEBxRWhFbCAga21UICAkUWhrSmttRTliakloSW9RcG1UCiAgICAgKiBAaElUcGhtIFVRa2YKICAgICAqKwogICAgcWhRVElGVElmIGlwbUZUa1FtIEVmZkFJdWJqSWhJc2JrVGprbTBoUXBxKEdwSWh2cnBrOWZJaCAkUnBJaHYsICRRaGtKa21FOWJqSWhJb1FwbVQpCiAgICB7CiAgICAgICAgKysgU0loSSwgdUkgVFFURTk5diBoSWxRVUkgRTk5IFFpIFRqSSB1akloSSBGOUVwc0lzIHNrbUZJIHVJIEVoSSBKUWttSiBUUQogICAgICAgICsrIGhJZXBrOWYgVGpJbCBFcyBtSXNUSWYgUnBJaGtJcyBldiBzOWtGa21KIFRqSSBKaFFwcXMgUWkgdWpJaElzIGttVFEKICAgICAgICArKyBUaklraCBRdW0gc0lGVGtRbXMuIEhqa3Mga3MgVFEgcWhJVUltVCBFbXYgRlFtaXBza21KIDlRSmtGIFFoZkloLgogICAgICAgICRFOTliakloSXMgPSAkUnBJaHYtPnVqSWhJczsKCiAgICAgICAgJFJwSWh2LT51akloSXMgPSBbXTsKCiAgICAgICAgJFRqa3MtPkpoUXBxYmpJaElPOWtGSTJRaE9GUXFJKAogICAgICAgICAgICAkUnBJaHYsIEVoaEV2X3M5a0ZJKCRFOTliakloSXMsIHcsICRRaGtKa21FOWJqSWhJb1FwbVQpCiAgICAgICAgKTsKCiAgICAgICAgJFRqa3MtPkpoUXBxYmpJaElPOWtGSTJRaE9GUXFJKAogICAgICAgICAgICAkUnBJaHYsIEVoaEV2X3M5a0ZJKCRFOTliakloSXMsICRRaGtKa21FOWJqSWhJb1FwbVQpCiAgICAgICAgKTsKICAgIH0KCiAgICArKioKICAgICAqIE85a0ZJIHVqSWhJIEZRbWZrVGtRbXMgRVQgVGpJIEprVUltIFFpaXNJVCBFbWYgRWZmIFRqSWwgVFEgVGpJIFJwSWh2IEVzIEUgbUlzVElmIEZRbWZrVGtRbS4KICAgICAqCiAgICAgKiBAcUVoRWwgIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWggICRScElodgogICAgICogQHFFaEVsICBFaGhFdiAgJHVqSWhJTzlrRkkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gSmhRcHFiakloSU85a0ZJMlFoT0ZRcUkoR3BJaHZycGs5ZkloICRScElodiwgJHVqSWhJTzlrRkkpCiAgICB7CiAgICAgICAgJHVqSWhJclFROUlFbXMgPSBGUTk5SUZUKCR1akloSU85a0ZJKS0+cTlwRjgoJ2VRUTlJRW0nKTsKCiAgICAgICAgKysgU0loSSB1SSc5OSBGaklGOCBraSBUakkgSmtVSW0gc3Blc0lUIFFpIHVqSWhJIEY5RXBzSXMgRlFtVEVrbXMgRW12ICJRaCIKICAgICAgICArKyBlUVE5SUVtcyBFbWYga20gVGprcyBGRXNJIEZoSUVUSSBFIG1Jc1RJZiB1akloSSBJVnFoSXNza1FtLiBIakVUIHVFdgogICAgICAgICsrIHVJIGZRbSdUIEVmZiBFbXYgcG1tSUZJc3NFaHYgbUlzVGttSiBUanBzIDhJSXFrbUogVGpJIFJwSWh2IEY5SUVtLgogICAgICAgIGtpICgkdWpJaElyUVE5SUVtcy0+RlFtVEVrbXMoaW0gKCQ5UUprRkU5TXFJaEVUUWgpID0+IHNUaF9GUW1URWttcygkOVFKa0ZFOU1xSWhFVFFoLCAnUWgnKSkpIHsKICAgICAgICAgICAgJFJwSWh2LT51akloSXNbXSA9ICRUamtzLT5GaElFVElBSXNUSWZiakloSSgKICAgICAgICAgICAgICAgICR1akloSU85a0ZJLCBzVGhfaElxOUVGSSgnIG1RVCcsICcnLCAkdWpJaElyUVE5SUVtcy0+aWtoc1QoKSkKICAgICAgICAgICAgKTsKICAgICAgICB9IEk5c0kgewogICAgICAgICAgICAkUnBJaHYtPnVqSWhJcyA9IEVoaEV2X2xJaEpJKCRScElodi0+dWpJaElzLCAkdWpJaElPOWtGSSk7CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgdWpJaEkgRWhoRXYgdWtUaiBtSXNUSWYgdWpJaEkgRlFtZmtUa1Ftcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkdWpJaElPOWtGSQogICAgICogQHFFaEVsICBzVGhrbUogICRlUVE5SUVtCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBGaElFVElBSXNUSWZiakloSSgkdWpJaElPOWtGSSwgJGVRUTlJRW0gPSAnRW1mJykKICAgIHsKICAgICAgICAkdWpJaEkwaFFwcSA9ICRUamtzLT5KSVRHcElodigpLT5pUWhBSXNUSWZiakloSSgpOwoKICAgICAgICAkdWpJaEkwaFFwcS0+dWpJaElzID0gJHVqSWhJTzlrRkk7CgogICAgICAgIGhJVHBobSBbJ1R2cUknID0+ICdBSXNUSWYnLCAnUnBJaHYnID0+ICR1akloSTBoUXBxLCAnZVFROUlFbScgPT4gJGVRUTlJRW1dOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBoSTlFVGtRbXNqa3FzIFRqRVQgc2pRcDlmIGVJIElFSkloIDlRRWZJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSnxFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQHFFaEVsICBzVGhrbUp8XG85UXNwaEl8bXA5OSAgJEZFOTllRUY4CiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1a1RqKCRoSTlFVGtRbXMsICRGRTk5ZUVGOCA9IG1wOTkpCiAgICB7CiAgICAgICAga2kgKCRGRTk5ZUVGOCBrbXNURW1GSVFpIG85UXNwaEkpIHsKICAgICAgICAgICAgJElFSkloNlFFZiA9ICRUamtzLT5xRWhzSWJrVGpOSTlFVGtRbXMoWyRoSTlFVGtRbXMgPT4gJEZFOTllRUY4XSk7CiAgICAgICAgfSBJOXNJIHsKICAgICAgICAgICAgJElFSkloNlFFZiA9ICRUamtzLT5xRWhzSWJrVGpOSTlFVGtRbXMoa3Nfc1Roa21KKCRoSTlFVGtRbXMpID8gaXBtRl9KSVRfRWhKcygpIDogJGhJOUVUa1Ftcyk7CiAgICAgICAgfQoKICAgICAgICAkVGprcy0+SUVKSWg2UUVmID0gRWhoRXZfbEloSkkoJFRqa3MtPklFSkloNlFFZiwgJElFSkloNlFFZik7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGFoSVVJbVQgVGpJIHNxSUZraWtJZiBoSTlFVGtRbXMgaWhRbCBlSWttSiBJRUpJaCA5UUVmSWYuCiAgICAgKgogICAgICogQHFFaEVsICBsa1ZJZiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUalFwVCgkaEk5RVRrUW1zKQogICAgewogICAgICAgICRUamtzLT5JRUpJaDZRRWYgPSBFaGhFdl9ma2lpXzhJdigkVGprcy0+SUVKSWg2UUVmLCBFaGhFdl9pOWtxKAogICAgICAgICAgICBrc19zVGhrbUooJGhJOUVUa1FtcykgPyBpcG1GX0pJVF9FaEpzKCkgOiAkaEk5RVRrUW1zCiAgICAgICAgKSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIE9JVCBUakkgaEk5RVRrUW1zamtxcyBUakVUIHNqUXA5ZiBlSSBJRUpJaCA5UUVmSWYgdWprOUkgaElsUVVrbUogRW12IHFoSVVrUXBzOXYgRWZmSWYgSUVKSWggOVFFZmttSiBzcUlGa2lrRkVUa1Ftcy4KICAgICAqCiAgICAgKiBAcUVoRWwgIGxrVklmICAkaEk5RVRrUW1zCiAgICAgKiBAaElUcGhtICRUamtzCiAgICAgKisKICAgIHFwZTlrRiBpcG1GVGtRbSB1a1RqTW05digkaEk5RVRrUW1zKQogICAgewogICAgICAgICRUamtzLT5JRUpJaDZRRWYgPSBbXTsKCiAgICAgICAgaElUcGhtICRUamtzLT51a1RqKCRoSTlFVGtRbXMpOwogICAgfQoKICAgICsqKgogICAgICogb2hJRVRJIEUgbUl1IGttc1RFbUZJIFFpIFRqSSBsUWZJOSBlSWttSiBScEloa0lmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRFVFRoa2VwVElzCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXGc5UVJwSW1UXDNRZkk5fHNURVRrRgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gbUl1M1FmSTlLbXNURW1GSSgkRVRUaGtlcFRJcyA9IFtdKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+bFFmSTktPm1JdUttc1RFbUZJKCRFVFRoa2VwVElzKS0+c0lUb1FtbUlGVGtRbSgKICAgICAgICAgICAgJFRqa3MtPlJwSWh2LT5KSVRvUW1tSUZUa1FtKCktPkpJVEFFbEkoKQogICAgICAgICk7CiAgICB9CgogICAgKyoqCiAgICAgKiBhRWhzSSBFIDlrc1QgUWkgaEk5RVRrUW1zIGttVFEga21ma1VrZnBFOXMuCiAgICAgKgogICAgICogQHFFaEVsICBFaGhFdiAgJGhJOUVUa1FtcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gcUVoc0lia1RqTkk5RVRrUW1zKEVoaEV2ICRoSTlFVGtRbXMpCiAgICB7CiAgICAgICAga2kgKCRoSTlFVGtRbXMgPT09IFtdKSB7CiAgICAgICAgICAgIGhJVHBobSBbXTsKICAgICAgICB9CgogICAgICAgICRoSXNwOVRzID0gW107CgogICAgICAgIGlRaElFRmogKCRUamtzLT5xaElxRWhJQUlzVElmYmtUak5JOUVUa1Ftc2prcXMoJGhJOUVUa1FtcykgRXMgJG1FbEkgPT4gJEZRbXNUaEVrbVRzKSB7CiAgICAgICAgICAgICsrIGJJIG1JSWYgVFEgc0lxRWhFVEkgUXBUIEVtdiBtSXNUSWYga21GOXBmSXMsIHVqa0ZqIEU5OVF1cyBUakkgZklVSTlRcUlocwogICAgICAgICAgICArKyBUUSA5UUVmIGZJSXEgaEk5RVRrUW1zamtxcyBwc2ttSiAiZlFUcyIgdWtUalFwVCBzVEVUa21KIElFRmogOUlVSTkgUWkKICAgICAgICAgICAgKysgVGpJIGhJOUVUa1Ftc2prcSB1a1RqIGtUcyBRdW0gOEl2IGttIFRqSSBFaGhFdiBRaSBJRUpJaC05UUVmIG1FbElzLgogICAgICAgICAgICAkaElzcDlUcyA9ICRUamtzLT5FZmZBSXNUSWZia1RqcygkbUVsSSwgJGhJc3A5VHMpOwoKICAgICAgICAgICAgJGhJc3A5VHNbJG1FbEldID0gJEZRbXNUaEVrbVRzOwogICAgICAgIH0KCiAgICAgICAgaElUcGhtICRoSXNwOVRzOwogICAgfQoKICAgICsqKgogICAgICogYWhJcUVoSSBtSXNUSWYgdWtUaiBoSTlFVGtRbXNqa3FzLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBxRWhFbCAgc1Roa21KICAkcWhJaWtWCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxaElxRWhJQUlzVElmYmtUak5JOUVUa1Ftc2prcXMoJGhJOUVUa1FtcywgJHFoSWlrViA9ICcnKQogICAgewogICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMgPSBbXTsKCiAgICAgICAga2kgKCRxaElpa1YgIT09ICcnKSB7CiAgICAgICAgICAgICRxaElpa1YgLj0gJy4nOwogICAgICAgIH0KCiAgICAgICAgKysgS2kgRW12IFFpIFRqSSBoSTlFVGtRbXNqa3FzIEVoSSBpUWhsRVRUSWYgdWtUaiBUakkgWyRFVFRoa2VwVEkgPT4gRWhoRXYoKV0KICAgICAgICArKyBzdm1URVYsIHVJIHNqRTk5IDlRUXEgUVVJaCBUakkgbUlzVElmIGhJOUVUa1FtcyBFbWYgcWhJcUltZiBJRUZqIDhJdiBRaQogICAgICAgICsrIFRqa3MgRWhoRXYgdWprOUkgaTlFVFRJbWttSiBrbVRRIFRqSSBUaEVma1RrUW1FOSBmUVQgbVFURVRrUW0gaVFobEVULgogICAgICAgIGlRaElFRmogKCRoSTlFVGtRbXMgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKCEga3Nfc1Roa21KKCQ4SXYpIHx8ICEga3NfRWhoRXYoJFVFOXBJKSkgewogICAgICAgICAgICAgICAgRlFtVGttcEk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFskRVRUaGtlcFRJLCAkRVRUaGtlcFRJT0k5SUZUb1Ftc1RoRWttVF0gPSAkVGprcy0+cUVoc0lBRWxJdG1mdFRUaGtlcFRJT0k5SUZUa1Ftb1Ftc1RoRWttVCgkOEl2KTsKCiAgICAgICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMgPSBFaGhFdl9sSWhKSSgKICAgICAgICAgICAgICAgICRxaElxRWhJZk5JOUVUa1Ftc2prcXMsCiAgICAgICAgICAgICAgICBbInskcWhJaWtWfXskRVRUaGtlcFRJfSIgPT4gJEVUVGhrZXBUSU9JOUlGVG9RbXNUaEVrbVRdLAogICAgICAgICAgICAgICAgJFRqa3MtPnFoSXFFaElBSXNUSWZia1RqTkk5RVRrUW1zamtxcygkVUU5cEksICJ7JHFoSWlrVn17JEVUVGhrZXBUSX0iKSwKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIHBtc0lUKCRoSTlFVGtRbXNbJDhJdl0pOwogICAgICAgIH0KCiAgICAgICAgKysgYkkgbVF1IDhtUXUgVGpFVCBUakkgaElsRWtta21KIGhJOUVUa1Ftc2prcXMgRWhJIGttIEUgZlFUIG1RVEVUa1FtIGlRaGxFVAogICAgICAgICsrIEVtZiBsRXYgZUkgRSBzVGhrbUogUWggbzlRc3BoSS4gYkknOTkgOVFRcSBRVUloIFRqSWwgRW1mIEltc3BoSSBFOTkgUWkKICAgICAgICArKyBUakkgcWhJc0ltVCBvOVFzcGhJcyBFaEkgbEloSklmIC8gc1Roa21KcyBFaEkgbEVmSSBrbVRRIEZRbXNUaEVrbVRzLgogICAgICAgIGlRaElFRmogKCRoSTlFVGtRbXMgRXMgJDhJdiA9PiAkVUU5cEkpIHsKICAgICAgICAgICAga2kgKGtzX21wbEloa0YoJDhJdikgJiYga3Nfc1Roa21KKCRVRTlwSSkpIHsKICAgICAgICAgICAgICAgIFskOEl2LCAkVUU5cEldID0gJFRqa3MtPnFFaHNJQUVsSXRtZnRUVGhrZXBUSU9JOUlGVGtRbW9RbXNUaEVrbVQoJFVFOXBJKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJHFoSXFFaElmTkk5RVRrUW1zamtxc1skcWhJaWtWLiQ4SXZdID0gJFRqa3MtPkZRbGVrbUlvUW1zVGhFa21UcyhbCiAgICAgICAgICAgICAgICAkVUU5cEksCiAgICAgICAgICAgICAgICAkcWhJcUVoSWZOSTlFVGtRbXNqa3FzWyRxaElpa1YuJDhJdl0gPz8gc1RFVGtGIGlwbUZUa1FtICgpIHsKICAgICAgICAgICAgICAgICAgICArKwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJHFoSXFFaElmTkk5RVRrUW1zamtxczsKICAgIH0KCiAgICArKioKICAgICAqIG9RbGVrbUkgRW0gRWhoRXYgUWkgRlFtc1RoRWttVHMga21UUSBFIHNrbUo5SSBGUW1zVGhFa21ULgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRGUW1zVGhFa21UcwogICAgICogQGhJVHBobSBcbzlRc3BoSQogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRlFsZWttSW9RbXNUaEVrbVRzKEVoaEV2ICRGUW1zVGhFa21UcykKICAgIHsKICAgICAgICBoSVRwaG0gaXBtRlRrUW0gKCRlcGs5ZkloKSBwc0kgKCRGUW1zVGhFa21UcykgewogICAgICAgICAgICBpUWhJRUZqICgkRlFtc1RoRWttVHMgRXMgJEZRbXNUaEVrbVQpIHsKICAgICAgICAgICAgICAgICRlcGs5ZkloID0gJEZRbXNUaEVrbVQoJGVwazlmSWgpID8/ICRlcGs5ZkloOwogICAgICAgICAgICB9CgogICAgICAgICAgICBoSVRwaG0gJGVwazlmSWg7CiAgICAgICAgfTsKICAgIH0KCiAgICArKioKICAgICAqIGFFaHNJIFRqSSBFVFRoa2VwVEkgc0k5SUZUIEZRbXNUaEVrbVRzIGloUWwgVGpJIG1FbEkuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAaElUcGhtIEVoaEV2CiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBxRWhzSUFFbEl0bWZ0VFRoa2VwVElPSTlJRlRrUW1vUW1zVGhFa21UKCRtRWxJKQogICAgewogICAgICAgIGhJVHBobSBzVGhfRlFtVEVrbXMoJG1FbEksICc6JykKICAgICAgICAgICAgPyAkVGprcy0+RmhJRVRJT0k5SUZUYmtUam9RbXNUaEVrbVQoJG1FbEkpCiAgICAgICAgICAgIDogWyRtRWxJLCBzVEVUa0YgaXBtRlRrUW0gKCkgewogICAgICAgICAgICAgICAgKysKICAgICAgICAgICAgfV07CiAgICB9CgogICAgKyoqCiAgICAgKiBvaElFVEkgRSBGUW1zVGhFa21UIFRRIHNJOUlGVCBUakkgSmtVSW0gRlE5cGxtcyBpUWggVGpJIGhJOUVUa1FtLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRmhJRVRJT0k5SUZUYmtUam9RbXNUaEVrbVQoJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIFtJVnE5UWZJKCc6JywgJG1FbEkpW3ddLCBzVEVUa0YgaXBtRlRrUW0gKCRScElodikgcHNJICgkbUVsSSkgewogICAgICAgICAgICAkUnBJaHYtPnNJOUlGVChFaGhFdl9sRXEoc1RFVGtGIGlwbUZUa1FtICgkRlE5cGxtKSBwc0kgKCRScElodikgewogICAgICAgICAgICAgICAga2kgKHNUaF9GUW1URWttcygkRlE5cGxtLCAnLicpKSB7CiAgICAgICAgICAgICAgICAgICAgaElUcGhtICRGUTlwbG07CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaElUcGhtICRScElodiBrbXNURW1GSVFpIHJJOVFtSnNIUTNFbXYKICAgICAgICAgICAgICAgICAgICAgICAgPyAkUnBJaHYtPkpJVE5JOUVUSWYoKS0+SklUSEVlOUkoKS4nLicuJEZROXBsbQogICAgICAgICAgICAgICAgICAgICAgICA6ICRGUTlwbG07CiAgICAgICAgICAgIH0sIElWcTlRZkkoJywnLCBJVnE5UWZJKCc6JywgJG1FbEkpW1hdKSkpOwogICAgICAgIH1dOwogICAgfQoKICAgICsqKgogICAgICogYUVoc0kgVGpJIG1Jc1RJZiBoSTlFVGtRbXNqa3FzIGttIEUgaEk5RVRrUW0uCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICRtRWxJCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkaElzcDlUcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxaFFUSUZUSWYgaXBtRlRrUW0gRWZmQUlzVElmYmtUanMoJG1FbEksICRoSXNwOVRzKQogICAgewogICAgICAgICRxaFFKaElzcyA9IFtdOwoKICAgICAgICArKyBLaSBUakkgaEk5RVRrUW0gakVzIEU5aElFZnYgZUlJbSBzSVQgUW0gVGpJIGhJc3A5VCBFaGhFdiwgdUkgdWs5OSBtUVQgc0lUIGtUCiAgICAgICAgKysgRUpFa20sIHNrbUZJIFRqRVQgdVFwOWYgUVVJaGhrZkkgRW12IEZRbXNUaEVrbVRzIFRqRVQgdUloSSBFOWhJRWZ2IHE5RUZJZgogICAgICAgICsrIFFtIFRqSSBoSTlFVGtRbXNqa3FzLiBiSSB1azk5IFFtOXYgc0lUIFRqSSBRbUlzIFRqRVQgRWhJIG1RVCBzcUlGa2lrSWYuCiAgICAgICAgaVFoSUVGaiAoSVZxOVFmSSgnLicsICRtRWxJKSBFcyAkc0lKbEltVCkgewogICAgICAgICAgICAkcWhRSmhJc3NbXSA9ICRzSUpsSW1UOwoKICAgICAgICAgICAga2kgKCEga3NzSVQoJGhJc3A5VHNbJDlFc1QgPSBrbHE5UWZJKCcuJywgJHFoUUpoSXNzKV0pKSB7CiAgICAgICAgICAgICAgICAkaElzcDlUc1skOUVzVF0gPSBzVEVUa0YgaXBtRlRrUW0gKCkgewogICAgICAgICAgICAgICAgICAgICsrCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJGhJc3A5VHM7CiAgICB9CgogICAgKyoqCiAgICAgKiB0cXE5diBScElodi1Ua2xJIEZFc1RzIFRRIFRqSSBsUWZJOSBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2ICAkRkVzVHMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpvRXNUcygkRkVzVHMpCiAgICB7CiAgICAgICAgJFRqa3MtPmxRZkk5LT5sSWhKSW9Fc1RzKCRGRXNUcyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIGdWSUZwVEkgVGpJIEprVUltIG85UXNwaEkgdWtUamttIEUgVGhFbXNFRlRrUW0gc0VVSXFRa21UIGtpIG1JSWZJZi4KICAgICAqCiAgICAgKiBAVElscTlFVEkgSDNRZkk5QkU5cEkKICAgICAqCiAgICAgKiBAcUVoRWwgIFxvOVFzcGhJKCk6IEgzUWZJOUJFOXBJICAkc0ZRcUkKICAgICAqIEBoSVRwaG0gSDNRZkk5QkU5cEkKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpPRVVJcVFrbVRLaUFJSWZJZihvOVFzcGhJICRzRlFxSSk6IGxrVklmCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVRHcElodigpLT5KSVRvUW1tSUZUa1FtKCktPlRoRW1zRUZUa1FtNklVSTkoKSA+IHcKICAgICAgICAgICAgPyAkVGprcy0+SklUR3BJaHYoKS0+SklUb1FtbUlGVGtRbSgpLT5UaEVtc0VGVGtRbSgkc0ZRcUkpCiAgICAgICAgICAgIDogJHNGUXFJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIHBtZkloOXZrbUogUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVEdwSWh2KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPlJwSWh2OwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBwbWZJaDl2a21KIFJwSWh2IGVwazlmSWgga21zVEVtRkkuCiAgICAgKgogICAgICogQHFFaEVsICBcQUtBdFxuRVRFZUVzSVxHcElodlxycGs5ZkloICAkUnBJaHYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVEdwSWh2KCRScElodikKICAgIHsKICAgICAgICAkVGprcy0+UnBJaHYgPSAkUnBJaHY7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIDBJVCBFIGVFc0kgUnBJaHYgZXBrOWZJaCBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAaElUcGhtIFxBS0F0XG5FVEVlRXNJXEdwSWh2XHJwazlmSWgKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIFRRckVzSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5FcXE5dk9GUXFJcygpLT5KSVRHcElodigpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBoSTlFVGtRbXNqa3FzIGVJa21KIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBoSVRwaG0gRWhoRXYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVGdFSkloNlFFZnMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+SUVKSWg2UUVmOwogICAgfQoKICAgICsqKgogICAgICogT0lUIFRqSSBoSTlFVGtRbXNqa3FzIGVJa21KIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRJRUpJaDZRRWYKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHNJVGdFSkloNlFFZnMoRWhoRXYgJElFSkloNlFFZikKICAgIHsKICAgICAgICAkVGprcy0+SUVKSWg2UUVmID0gJElFSkloNlFFZjsKCiAgICAgICAgaElUcGhtICRUamtzOwogICAgfQoKICAgICsqKgogICAgICogS21ma0ZFVEkgVGpFVCBUakkgSmtVSW0gaEk5RVRrUW1zamtxcyBzalFwOWYgbVFUIGVJIElFSkloOXYgOVFFZklmLgogICAgICoKICAgICAqIEBxRWhFbCAgRWhoRXYgICRoSTlFVGtRbXMKICAgICAqIEBoSVRwaG0gJFRqa3MKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIHVrVGpRcFRnRUpJaDZRRWYoRWhoRXYgJGhJOUVUa1FtcykKICAgIHsKICAgICAgICAkaEk5RVRrUW1zID0gRWhoRXZfZmtpaShFaGhFdl84SXZzKCRUamtzLT5sUWZJOS0+SklUTkk5RVRrUW1zKCkpLCAkaEk5RVRrUW1zKTsKCiAgICAgICAgaElUcGhtICRUamtzLT51a1RqKCRoSTlFVGtRbXMpOwogICAgfQoKICAgICsqKgogICAgICogMjlwc2ogVGpJIGhJOUVUa1Ftc2prcXMgZUlrbUogSUVKSWg5diA5UUVmSWYuCiAgICAgKgogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gdWtUalFwVGdFSkloNlFFZnMoKQogICAgewogICAgICAgIGhJVHBobSAkVGprcy0+c0lUZ0VKSWg2UUVmcyhbXSk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGZJaUVwOVQgOEl2IG1FbEkgUWkgVGpJIFRFZTlJLgogICAgICoKICAgICAqIEBoSVRwaG0gc1Roa21KCiAgICAgKisKICAgIHFoUVRJRlRJZiBpcG1GVGtRbSBmSWlFcDlUMUl2QUVsSSgpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5KSVQzUWZJOSgpLT5KSVQxSXZBRWxJKCk7CiAgICB9CgogICAgKyoqCiAgICAgKiAwSVQgVGpJIGxRZkk5IGttc1RFbUZJIGVJa21KIFJwSWhrSWYuCiAgICAgKgogICAgICogQGhJVHBobSBcQUtBdFxuRVRFZUVzSVxnOVFScEltVFwzUWZJOXxzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEpJVDNRZkk5KCkKICAgIHsKICAgICAgICBoSVRwaG0gJFRqa3MtPmxRZkk5OwogICAgfQoKICAgICsqKgogICAgICogT0lUIEUgbFFmSTkga21zVEVtRkkgaVFoIFRqSSBsUWZJOSBlSWttSiBScEloa0lmLgogICAgICoKICAgICAqIEBxRWhFbCAgXEFLQXRcbkVURWVFc0lcZzlRUnBJbVRcM1FmSTkgICRsUWZJOQogICAgICogQGhJVHBobSAkVGprcwogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gc0lUM1FmSTkoM1FmSTkgJGxRZkk5KQogICAgewogICAgICAgICRUamtzLT5sUWZJOSA9ICRsUWZJOTsKCiAgICAgICAgJFRqa3MtPlJwSWh2LT5paFFsKCRsUWZJOS0+SklUSEVlOUkoKSk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIEdwRTlraXYgVGpJIEprVUltIEZROXBsbSBtRWxJIGV2IFRqSSBsUWZJOSdzIFRFZTlJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KfFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtCiAgICAgKiBAaElUcGhtIHNUaGttSgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUnBFOWtpdm9ROXBsbSgkRlE5cGxtKQogICAgewogICAgICAgICRGUTlwbG0gPSAkRlE5cGxtIGttc1RFbUZJUWkgZ1ZxaElzc2tRbSA/ICRGUTlwbG0tPkpJVEJFOXBJKCRUamtzLT5KSVQwaEVsbEVoKCkpIDogJEZROXBsbTsKCiAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+UnBFOWtpdm9ROXBsbSgkRlE5cGxtKTsKICAgIH0KCiAgICArKioKICAgICAqIEdwRTlraXYgVGpJIEprVUltIEZROXBsbXMgdWtUaiBUakkgbFFmSTkncyBURWU5SS4KICAgICAqCiAgICAgKiBAcUVoRWwgIEVoaEV2fFxLOTlwbGttRVRJXG9RbVRoRUZUc1xuRVRFZUVzSVxHcElodlxnVnFoSXNza1FtICAkRlE5cGxtcwogICAgICogQGhJVHBobSBFaGhFdgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gUnBFOWtpdm9ROXBsbXMoJEZROXBsbXMpCiAgICB7CiAgICAgICAgaElUcGhtICRUamtzLT5sUWZJOS0+UnBFOWtpdm9ROXBsbXMoJEZROXBsbXMpOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBKa1VJbSBsRUZoUSBldiBtRWxJLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbUVsSQogICAgICogQGhJVHBobSBcbzlRc3BoSQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gSklUM0VGaFEoJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIHRoaDo6SklUKCRUamtzLT45UUZFOTNFRmhRcywgJG1FbEkpOwogICAgfQoKICAgICsqKgogICAgICogb2pJRjhzIGtpIEUgbEVGaFEga3MgaElKa3NUSWhJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJG1FbEkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gakVzM0VGaFEoJG1FbEkpCiAgICB7CiAgICAgICAgaElUcGhtIGtzc0lUKCRUamtzLT45UUZFOTNFRmhRc1skbUVsSV0pOwogICAgfQoKICAgICsqKgogICAgICogMElUIFRqSSBKa1VJbSBKOVFlRTkgbEVGaFEgZXYgbUVsSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJG1FbEkKICAgICAqIEBoSVRwaG0gXG85UXNwaEkKICAgICAqKwogICAgcXBlOWtGIHNURVRrRiBpcG1GVGtRbSBKSVQwOVFlRTkzRUZoUSgkbUVsSSkKICAgIHsKICAgICAgICBoSVRwaG0gdGhoOjpKSVQoc1RFVGtGOjokbEVGaFFzLCAkbUVsSSk7CiAgICB9CgogICAgKyoqCiAgICAgKiBvaklGOHMga2kgRSBKOVFlRTkgbEVGaFEga3MgaElKa3NUSWhJZi4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJG1FbEkKICAgICAqIEBoSVRwaG0gZVFROQogICAgICorCiAgICBxcGU5a0Ygc1RFVGtGIGlwbUZUa1FtIGpFczA5UWVFOTNFRmhRKCRtRWxJKQogICAgewogICAgICAgIGhJVHBobSBrc3NJVChzVEVUa0Y6OiRsRUZoUXNbJG1FbEldKTsKICAgIH0KCiAgICArKioKICAgICAqIG52bUVsa0ZFOTl2IEVGRklzcyBlcGs5ZkloIHFoUVZrSXMuCiAgICAgKgogICAgICogQHFFaEVsICBzVGhrbUogICQ4SXYKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqCiAgICAgKiBAVGpoUXVzIFxnVkZJcVRrUW0KICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fSklUKCQ4SXYpCiAgICB7CiAgICAgICAga2kgKGttX0VoaEV2KCQ4SXYsIFsnUWhiakloSScsICd1akloSUFRVCcsICdRaGJqSWhJQVFUJ10pKSB7CiAgICAgICAgICAgIGhJVHBobSBtSXUgU2tKakloTWhmSWhycGs5ZkloYWhRVnYoJFRqa3MsICQ4SXYpOwogICAgICAgIH0KCiAgICAgICAga2kgKGttX0VoaEV2KCQ4SXYsICRUamtzLT5xaFFxSWhUdmFFc3NUamhwKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlRRckVzSSgpLT57JDhJdn07CiAgICAgICAgfQoKICAgICAgICBUamhRdSBtSXUgZ1ZGSXFUa1FtKCJhaFFxSWhUdiBbeyQ4SXZ9XSBmUUlzIG1RVCBJVmtzVCBRbSBUakkgZzlRUnBJbVQgZXBrOWZJaCBrbXNURW1GSS4iKTsKICAgIH0KCiAgICArKioKICAgICAqIG52bUVsa0ZFOTl2IGpFbWY5SSBGRTk5cyBrbVRRIFRqSSBScElodiBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIF9fRkU5OSgkbElUalFmLCAkcUVoRWxJVElocykKICAgIHsKICAgICAgICBraSAoJGxJVGpRZiA9PT0gJ2xFRmhRJykgewogICAgICAgICAgICAkVGprcy0+OVFGRTkzRUZoUXNbJHFFaEVsSVRJaHNbd11dID0gJHFFaEVsSVRJaHNbWF07CgogICAgICAgICAgICBoSVRwaG07CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmpFczNFRmhRKCRsSVRqUWYpKSB7CiAgICAgICAgICAgIEVoaEV2X3Btc2praVQoJHFFaEVsSVRJaHMsICRUamtzKTsKCiAgICAgICAgICAgIGhJVHBobSAkVGprcy0+OVFGRTkzRUZoUXNbJGxJVGpRZl0oLi4uJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAga2kgKHNURVRrRjo6akVzMDlRZUU5M0VGaFEoJGxJVGpRZikpIHsKICAgICAgICAgICAgJEZFOTlFZTlJID0gc1RFVGtGOjokbEVGaFFzWyRsSVRqUWZdOwoKICAgICAgICAgICAga2kgKCRGRTk5RWU5SSBrbXNURW1GSVFpIG85UXNwaEkpIHsKICAgICAgICAgICAgICAgICRGRTk5RWU5SSA9ICRGRTk5RWU5SS0+ZWttZkhRKCRUamtzLCBzVEVUa0Y6OkY5RXNzKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaElUcGhtICRGRTk5RWU5SSguLi4kcUVoRWxJVElocyk7CiAgICAgICAgfQoKICAgICAgICBraSAoJFRqa3MtPmpFc0FFbElmT0ZRcUkoJGxJVGpRZikpIHsKICAgICAgICAgICAgaElUcGhtICRUamtzLT5GRTk5QUVsSWZPRlFxSSgkbElUalFmLCAkcUVoRWxJVElocyk7CiAgICAgICAgfQoKICAgICAgICBraSAoa21fRWhoRXYoc1RoVFE5UXVJaCgkbElUalFmKSwgJFRqa3MtPnFFc3NUamhwKSkgewogICAgICAgICAgICBoSVRwaG0gJFRqa3MtPlRRckVzSSgpLT57JGxJVGpRZn0oLi4uJHFFaEVsSVRJaHMpOwogICAgICAgIH0KCiAgICAgICAgJFRqa3MtPmlRaHVFaGZvRTk5SFEoJFRqa3MtPlJwSWh2LCAkbElUalFmLCAkcUVoRWxJVElocyk7CgogICAgICAgIGhJVHBobSAkVGprczsKICAgIH0KCiAgICArKioKICAgICAqIG52bUVsa0ZFOTl2IGpFbWY5SSBGRTk5cyBrbVRRIFRqSSBScElodiBrbXNURW1GSS4KICAgICAqCiAgICAgKiBAcUVoRWwgIHNUaGttSiAgJGxJVGpRZgogICAgICogQHFFaEVsICBFaGhFdiAgJHFFaEVsSVRJaHMKICAgICAqIEBoSVRwaG0gbGtWSWYKICAgICAqCiAgICAgKiBAVGpoUXVzIFxyRWYzSVRqUWZvRTk5Z1ZGSXFUa1FtCiAgICAgKisKICAgIHFwZTlrRiBzVEVUa0YgaXBtRlRrUW0gX19GRTk5T1RFVGtGKCRsSVRqUWYsICRxRWhFbElUSWhzKQogICAgewogICAgICAgIGtpICgkbElUalFmID09PSAnbEVGaFEnKSB7CiAgICAgICAgICAgIHNURVRrRjo6JGxFRmhRc1skcUVoRWxJVEloc1t3XV0gPSAkcUVoRWxJVEloc1tYXTsKCiAgICAgICAgICAgIGhJVHBobTsKICAgICAgICB9CgogICAgICAgIGtpICgkbElUalFmID09PSAnbGtWa20nKSB7CiAgICAgICAgICAgIGhJVHBobSBzVEVUa0Y6OmhJSmtzVEloM2tWa20oJHFFaEVsSVRJaHNbd10sICRxRWhFbElUSWhzW1hdID8/IFRocEkpOwogICAgICAgIH0KCiAgICAgICAga2kgKCEgc1RFVGtGOjpqRXMwOVFlRTkzRUZoUSgkbElUalFmKSkgewogICAgICAgICAgICBzVEVUa0Y6OlRqaFF1ckVmM0lUalFmb0U5OWdWRklxVGtRbSgkbElUalFmKTsKICAgICAgICB9CgogICAgICAgICRGRTk5RWU5SSA9IHNURVRrRjo6JGxFRmhRc1skbElUalFmXTsKCiAgICAgICAga2kgKCRGRTk5RWU5SSBrbXNURW1GSVFpIG85UXNwaEkpIHsKICAgICAgICAgICAgJEZFOTlFZTlJID0gJEZFOTlFZTlJLT5la21mSFEobXA5OSwgc1RFVGtGOjpGOUVzcyk7CiAgICAgICAgfQoKICAgICAgICBoSVRwaG0gJEZFOTlFZTlJKC4uLiRxRWhFbElUSWhzKTsKICAgIH0KCiAgICArKioKICAgICAqIE5JSmtzVEloIFRqSSBKa1VJbSBsa1ZrbSB1a1RqIFRqSSBlcGs5ZkloLgogICAgICoKICAgICAqIEBxRWhFbCAgc1Roa21KICAkbGtWa20KICAgICAqIEBxRWhFbCAgZVFROSAgJGhJcTlFRkkKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxaFFUSUZUSWYgc1RFVGtGIGlwbUZUa1FtIGhJSmtzVEloM2tWa20oJGxrVmttLCAkaElxOUVGSSkKICAgIHsKICAgICAgICAkbElUalFmcyA9IChtSXUgTklpOUlGVGtRbW85RXNzKCRsa1ZrbSkpLT5KSVQzSVRqUWZzKAogICAgICAgICAgICBOSWk5SUZUa1FtM0lUalFmOjpLT19hUHI2S28gfCBOSWk5SUZUa1FtM0lUalFmOjpLT19hTk1IZ29IZ24KICAgICAgICApOwoKICAgICAgICBpUWhJRUZqICgkbElUalFmcyBFcyAkbElUalFmKSB7CiAgICAgICAgICAgIGtpICgkaElxOUVGSSB8fCAhIHNURVRrRjo6akVzMDlRZUU5M0VGaFEoJGxJVGpRZi0+bUVsSSkpIHsKICAgICAgICAgICAgICAgIHNURVRrRjo6bEVGaFEoJGxJVGpRZi0+bUVsSSwgJGxJVGpRZi0+a21VUThJKCRsa1ZrbSkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgICsqKgogICAgICogbzlRbUkgVGpJIGc5UVJwSW1UIFJwSWh2IGVwazlmSWguCiAgICAgKgogICAgICogQGhJVHBobSBzVEVUa0YKICAgICAqKwogICAgcXBlOWtGIGlwbUZUa1FtIEY5UW1JKCkKICAgIHsKICAgICAgICBoSVRwaG0gRjlRbUkgJFRqa3M7CiAgICB9CgogICAgKyoqCiAgICAgKiAyUWhGSSBFIEY5UW1JIFFpIFRqSSBwbWZJaDl2a21KIFJwSWh2IGVwazlmSWggdWpJbSBGOVFta21KLgogICAgICoKICAgICAqIEBoSVRwaG0gVVFrZgogICAgICorCiAgICBxcGU5a0YgaXBtRlRrUW0gX19GOVFtSSgpCiAgICB7CiAgICAgICAgJFRqa3MtPlJwSWh2ID0gRjlRbUkgJFRqa3MtPlJwSWh2OwogICAgfQp9Cg==